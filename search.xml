<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>æ³¨æ°´äº•ç»¼åˆè¯„ä»·ç³»ç»Ÿ</title>
      <link href="/20230720082452/"/>
      <url>/20230720082452/</url>
      
        <content type="html"><![CDATA[<blockquote><p>é¡¹ç›®åç«¯<a href="/20230720093159">è„±æ•</a>åå·²åœ¨Github Public<br><a href="https://github.com/izyq/flooding">GitHub - izyq/flooding: æ²¹ç”°æ³¨æ°´ç»¼åˆè¯„ä»·ç³»ç»Ÿ</a></p></blockquote><h2 id="æ€»ä½“æ¶æ„">æ€»ä½“æ¶æ„</h2><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307202034696.png" alt="" loading="lazy"></p><h2 id="ç½‘ç»œç»“æ„">ç½‘ç»œç»“æ„</h2><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307202035063.png" alt="" loading="lazy"></p><h2 id="ä¸ªäººæ€»ç»“">ä¸ªäººæ€»ç»“</h2><p>ä»æœ€å¼€å§‹çš„éœ€æ±‚åˆ†æã€ç³»ç»Ÿè®¾è®¡æ•°æ®åº“è®¾è®¡ï¼Œå†åˆ°åç«¯æ¶æ„å’Œä»£ç çš„ç¼–å†™ï¼Œæ¯ä¸ªç¯èŠ‚æˆ‘è®©æˆ‘å­¦ä¹ åˆ°äº†æ–°çš„çŸ¥è¯†ã€‚æ–¹å‘æ¯”é€Ÿåº¦æ›´é‡è¦ï¼Œæˆ‘è®¤è¯†åˆ°å‰æœŸçš„è°ƒç ”å’Œéœ€æ±‚åˆ†æçš„è‡³å…³é‡è¦ï¼Œå¦‚æœä¸æŠŠä¸šåŠ¡ç†è§£é€å½»ï¼Œé‚£ä¹ˆå†™å†å¤šçš„ä»£ç éƒ½æ˜¯åœ¨åšæ— ç”¨åŠŸã€‚ä¹‹å‰æˆ‘å¯¹å¾®æœåŠ¡åªæ˜¯æµ…å°è¾„æ­¢ï¼Œä½†æ˜¯é€šè¿‡è¯¥é¡¹ç›®ï¼Œæˆ‘å¯¹å¾®æœåŠ¡çš„æ¶æ„ã€æ„ä¹‰æœ‰äº†æ›´åŠ æ·±å…¥çš„ç†è§£ï¼Œæˆ‘æƒ³åœ¨æ­¤è°ˆè°ˆæˆ‘çš„è®¤è¯†ã€‚</p><p>åœ¨æœ¬é¡¹ç›®ä¸­ï¼Œæ•´åˆäº†Spring Securityã€Spring Gatewayã€Spring Cloudã€Dubboä»¥åŠåŠ ä¸Šnacosæ³¨å†Œä¸­å¿ƒè¿™æ ·çš„å¾®æœåŠ¡ç”Ÿæ€ï¼Œé€šè¿‡å¯¹è¿™äº›æ¨¡å—çš„æ•´åˆæˆ‘æ›´åŠ ç†è§£ä»–ä»¬ä¹‹é—´æ˜¯å¦‚ä½•ååŒè¿ä½œçš„ï¼Œé¦–å…ˆç½‘å…³æ˜¯æ˜¯æœåŠ¡çš„ç¬¬ä¸€å…¥å£ï¼Œåœ¨å®ƒä¸Šé¢åšçš„äº‹æƒ…å¾ˆå¤šã€‚æˆ‘ä»¬åœ¨ç½‘å…³é…ç½®å¥½çš„ç›¸å…³è·¯ç”±åï¼Œæ¯”å¦‚å¯¹äºç½‘å…³è¯†åˆ«åˆ°/apiåç¼€ï¼Œä¼šå¯¹è¯·æ±‚è¿›è¡Œè½¬å‘ï¼Œå‘ç›¸å…³æœåŠ¡å‘å‡ºè¯·æ±‚ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘è¿˜å°†spring-cloud-starter-loadbalanceræ•´åˆè¿›äº†ç½‘å…³å±‚ï¼Œç½‘å…³åœ¨æ”¶åˆ°è¯·æ±‚åï¼Œä¼šå‘nacosæ³¨å†Œä¸­å¿ƒè·å–æ‰€æœ‰å¥åº·çš„é›†ç¾¤çš„å®ä¾‹ï¼Œå¹¶å¯¹å‘ä»–ä»¬å‘å‡ºçš„è¯·æ±‚å®æ–½è´Ÿè½½å‡è¡¡ã€‚å½“ç„¶ï¼Œç½‘å…³åœ¨å‘æœåŠ¡å±‚å‘èµ·è¯·æ±‚ä¹‹å‰ï¼Œè¿˜æœ‰ä¸€ä»¶é‡è¦çš„äº‹æƒ…ï¼Œå°±æ˜¯å¯¹ç”¨æˆ·å‘å‡ºçš„è¯·æ±‚è¿›è¡Œç»Ÿä¸€é‰´æƒï¼Œé€šè¿‡è§£æJWTçš„tokenï¼Œè·å–åˆ°è¯·æ±‚ç”¨æˆ·çš„ä¿¡æ¯å’Œå¯¹åº”çš„æƒé™ä¿¡æ¯ï¼Œå¦‚æœæƒé™ä¸è¶³åˆ™ç›´æ¥è¿”å›ï¼Œæƒé™æ»¡è¶³çš„æƒ…å†µä¸‹ï¼Œåˆå¦‚ä½•è®©ä¸šåŠ¡å±‚çŸ¥é“è¯¥è¯·æ±‚æ˜¯ç”±å“ªä¸ªç”¨æˆ·å‘å‡ºçš„å‘¢ï¼Œæœ¬é¡¹ç›®ä¸­æˆ‘ä»¬å°†åœ¨ç½‘å…³å±‚é€šè¿‡tokenè§£æå‡ºæ¥çš„ç”¨æˆ·ä¿¡æ¯å†æ‰“åˆ°å‘ä¸šåŠ¡å±‚è½¬å‘çš„è¯·æ±‚çš„headerä¸Šï¼Œä¸šåŠ¡å±‚é€šè¿‡å¯¹http request headerçš„è¯»å–ï¼Œè§£æå‡ºç”¨æˆ·ç›¸å…³ä¿¡æ¯ï¼Œå¹¶å¯¹ç”¨æˆ·è¿›è¡Œçš„æ“ä½œè¿›è¡Œè®°å½•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç½‘å…³åœ¨è¿”å›ä¸šåŠ¡å±‚æ•°æ®çš„æ—¶å€™ï¼Œä¹Ÿå¯ä»¥è¿›è¡Œå¤„ç†ï¼Œå¯¹ä¸ç¬¦åˆç»Ÿä¸€å“åº”çš„è¿”å›æ•°æ®è¿›è¡ŒåŒ…è£…ï¼Œå¯¹å¼‚å¸¸ä¿¡æ¯åšåŒä¸€å¤„ç†ã€‚æ‰€ä»¥å…¶å®è®²ç½‘å…³è¯´æˆæ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨é“¾æ‰§è¡Œæ¡†æ¶ä¹Ÿä¸ä¸ºè¿‡ã€‚</p><p>æ¥ä¸‹æ¥å†è¯´ä¸€ä¸‹åŠ¨æ€é…ç½®ï¼Œåƒç½‘å…³è¿™ç§æœåŠ¡ï¼Œä½œä¸ºæ‰€æœ‰è¯·æ±‚çš„å…¥å£ï¼Œå¿…é¡»ä¿æŒé«˜å¯ç”¨æ€§ã€‚é‚£ä¹ˆå¦‚æœæœ‰æ–°ä¸šåŠ¡ä¸Šçº¿ï¼Œéœ€è¦æ·»åŠ æ–°çš„è·¯ç”±ï¼Œæˆ–è€…éœ€è¦ä¿®æ”¹å·²æœ‰çš„è·¯ç”±æ—¶ï¼Œæ¯æ¬¡éƒ½è¦é‡å¯ç½‘å…³æœåŠ¡å—ï¼Ÿç­”æ¡ˆæ˜¯å¦å®šçš„ï¼Œè¿™æ—¶å€™åˆæ˜¯nacoså‘æŒ¥ä½œç”¨çš„æ—¶å€™äº†ï¼Œnacoså¯ä»¥å¯¹å„ä¸ªæœåŠ¡è¿›è¡ŒåŠ¨æ€é…ç½®ï¼Œåœ¨éœ€è¦è¿›è¡ŒåŠ¨æ€é…ç½®çš„æœåŠ¡å¼•å…¥spring-cloud-starter-alibaba-nacos-configä¾èµ–ï¼Œå†å¯¹nacosè¿æ¥è¿›è¡Œç›¸å…³é…ç½®å³å¯ç”Ÿæ•ˆã€‚å½“æˆ‘ä»¬éœ€è¦å¯¹ç½‘å…³åŠ å…¥ä¸€æ¡æ–°çš„è·¯ç”±æ—¶ï¼Œåªéœ€åœ¨nacosä¸­ä¿®æ”¹é…ç½®å¹¶å‘å¸ƒï¼ŒæœåŠ¡ç«¯ç›‘å¬åˆ°é…ç½®å˜æ›´ï¼Œä¾¿ä¼šåŠ è½½å˜æ›´ã€‚</p><h2 id="é¡¹ç›®ä»‹ç»">é¡¹ç›®ä»‹ç»</h2><p>æ³¨æ°´äº•å¼€å‘æ•ˆæœç»¼åˆè¯„ä»·ç³»ç»Ÿè½¯ä»¶æ˜¯ç”¨äºè¯„ä¼°æ³¨æ°´äº•åœ¨æ²¹ç”°å¼€å‘ä¸­çš„æ•ˆæœçš„å·¥å…·ã€‚å®ƒç»“åˆäº†æ•°æ®åˆ†æã€æ¨¡å‹è®¡ç®—å’Œå¯è§†åŒ–å±•ç¤ºç­‰æŠ€æœ¯ï¼Œé€šè¿‡å¯¹æ³¨æ°´äº•è¿è¡Œæ•°æ®çš„å¤„ç†å’Œåˆ†æï¼Œæä¾›å…¨é¢ã€å‡†ç¡®çš„è¯„ä»·ç»“æœï¼Œå¸®åŠ©æ²¹ç”°ç®¡ç†è€…å’Œå·¥ç¨‹å¸ˆåšå‡ºç§‘å­¦å†³ç­–ã€‚</p><p><strong>ä»¥ä¸‹æ˜¯è¯¥ç³»ç»Ÿè½¯ä»¶çš„å®ç°æŠ€æœ¯å’Œç‰¹ç‚¹ï¼š</strong></p><ol><li>æ•°æ®é‡‡é›†ä¸å¤„ç†ï¼šç³»ç»Ÿè½¯ä»¶é€šè¿‡ä¸æ³¨æ°´äº•ç›‘æµ‹è®¾å¤‡çš„è¿æ¥ï¼Œå®æ—¶é‡‡é›†æ³¨æ°´äº•çš„è¿è¡Œæ•°æ®ï¼ŒåŒ…æ‹¬æ³¨æ°´å‹åŠ›ã€æ³¨æ°´æµé‡ã€æ³¨å…¥æ¶²ä½“çš„æˆåˆ†ç­‰ã€‚åŒæ—¶ï¼Œå¯¹é‡‡é›†åˆ°çš„æ•°æ®è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬æ•°æ®æ¸…æ´—ã€å¼‚å¸¸å€¼å¤„ç†å’Œæ•°æ®å½’ä¸€åŒ–ç­‰ï¼Œç¡®ä¿æ•°æ®çš„å‡†ç¡®æ€§å’Œå¯é æ€§ã€‚</li><li>æ¨¡å‹å»ºç«‹ä¸è®¡ç®—ï¼šç³»ç»Ÿè½¯ä»¶åŸºäºæ²¹ç”°æ³¨æ°´äº•çš„å·¥ç¨‹åŸç†å’Œæµä½“åŠ›å­¦æ¨¡å‹ï¼Œå»ºç«‹è¯„ä»·æ¨¡å‹ã€‚é€šè¿‡å¯¹é‡‡é›†åˆ°çš„æ•°æ®è¿›è¡Œæ¨¡å‹è®¡ç®—ï¼Œè¯„ä¼°æ³¨æ°´äº•çš„æ•ˆæœã€‚å¸¸ç”¨çš„æ¨¡å‹åŒ…æ‹¬æ³¨å…¥æ°´ä½“çš„æ‰©æ•£æ¨¡å‹ã€å‹è£‚æ¨¡å‹ã€åœ°å±‚æ¸—æµæ¨¡å‹ç­‰ã€‚æ ¹æ®å®é™…æƒ…å†µå’Œéœ€æ±‚ï¼Œå¯ä»¥é‡‡ç”¨ä¸åŒçš„æ¨¡å‹è¿›è¡Œè¯„ä»·ï¼Œå¹¶ç»“åˆå¤šç§æ¨¡å‹ç»“æœè¿›è¡Œç»¼åˆåˆ†æã€‚</li><li>æ•°æ®åˆ†æä¸å¯è§†åŒ–å±•ç¤ºï¼šç³»ç»Ÿè½¯ä»¶é€šè¿‡æ•°æ®åˆ†æç®—æ³•ï¼Œå¯¹æ¨¡å‹è®¡ç®—ç»“æœè¿›è¡Œç»¼åˆåˆ†æï¼Œæå–å…³é”®æŒ‡æ ‡å’Œç‰¹å¾ã€‚åŒæ—¶ï¼Œé‡‡ç”¨å›¾è¡¨ã€æ›²çº¿å’Œåœ°å›¾ç­‰å¯è§†åŒ–æ‰‹æ®µï¼Œå°†è¯„ä»·ç»“æœä»¥ç›´è§‚çš„å½¢å¼å±•ç¤ºå‡ºæ¥ã€‚è¿™æ ·å¯ä»¥å¸®åŠ©ç”¨æˆ·æ›´å¥½åœ°ç†è§£è¯„ä»·ç»“æœï¼Œå‘ç°æ½œåœ¨é—®é¢˜å’Œè¶‹åŠ¿ï¼Œåšå‡ºç›¸åº”çš„è°ƒæ•´å’Œå†³ç­–ã€‚</li><li>æ•°æ®ç®¡ç†ä¸æŠ¥å‘Šç”Ÿæˆï¼šç³»ç»Ÿè½¯ä»¶æä¾›æ•°æ®ç®¡ç†åŠŸèƒ½ï¼Œå¯ä»¥å¯¹æ³¨æ°´äº•çš„å†å²æ•°æ®è¿›è¡Œå­˜å‚¨å’Œç®¡ç†ï¼Œä¾¿äºç”¨æˆ·æŸ¥é˜…å’Œæ¯”å¯¹ä¸åŒæ—¶é—´æ®µçš„æ•°æ®ã€‚åŒæ—¶ï¼Œç³»ç»Ÿè½¯ä»¶è¿˜å¯ä»¥ç”Ÿæˆè¯¦ç»†çš„è¯„ä»·æŠ¥å‘Šï¼ŒåŒ…æ‹¬è¯„ä»·ç»“æœã€å…³é”®æŒ‡æ ‡åˆ†æã€å›¾è¡¨å’Œæ›²çº¿å±•ç¤ºç­‰ï¼Œå¸®åŠ©ç”¨æˆ·è¿›è¡Œå…¨é¢çš„åˆ†æå’Œå†³ç­–ã€‚</li></ol><p><strong>è¯¥ç³»ç»Ÿè½¯ä»¶çš„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</strong></p><ol><li>ç»¼åˆè¯„ä»·èƒ½åŠ›ï¼šç³»ç»Ÿè½¯ä»¶ç»¼åˆè€ƒè™‘äº†æ³¨æ°´äº•çš„å¤šä¸ªå› ç´ å’ŒæŒ‡æ ‡ï¼ŒåŒ…æ‹¬æ³¨æ°´æ•ˆç‡ã€æ³¨æ°´èŒƒå›´ã€æ³¨å…¥æ¶²ä½“çš„åˆ†å¸ƒç­‰ï¼Œä»å¤šä¸ªç»´åº¦è¯„ä»·æ³¨æ°´äº•çš„å¼€å‘æ•ˆæœã€‚è¿™æ ·å¯ä»¥å…¨é¢äº†è§£æ³¨æ°´äº•çš„è¿è¡Œæƒ…å†µï¼ŒåŠæ—¶å‘ç°é—®é¢˜å¹¶é‡‡å–ç›¸åº”æªæ–½ã€‚</li><li>å®æ—¶æ€§å’Œå‡†ç¡®æ€§ï¼šç³»ç»Ÿè½¯ä»¶å¯ä»¥å®æ—¶é‡‡é›†å’Œå¤„ç†æ³¨æ°´äº•çš„æ•°æ®ï¼Œå¹¶è¿›è¡Œå®æ—¶è®¡ç®—å’Œåˆ†æï¼Œæä¾›åŠæ—¶å‡†ç¡®çš„è¯„ä»·ç»“æœã€‚è¿™æ ·å¯ä»¥åŠæ—¶å‘ç°é—®é¢˜å’Œå¼‚å¸¸ï¼Œé¿å…æ½œåœ¨çš„é£é™©å’ŒæŸå¤±ã€‚</li><li>ç”¨æˆ·å‹å¥½æ€§ï¼šç³»ç»Ÿè½¯ä»¶æä¾›ç®€æ´ç›´è§‚çš„ç”¨æˆ·ç•Œé¢ï¼Œæ“ä½œç®€ä¾¿ï¼Œæ˜“äºä½¿ç”¨ã€‚åŒæ—¶ï¼Œé€šè¿‡å¯è§†åŒ–å±•ç¤ºå’ŒæŠ¥å‘Šç”Ÿæˆï¼Œä½¿å¾—è¯„ä»·ç»“æœæ˜“äºç†è§£å’Œä¼ è¾¾ï¼Œæ–¹ä¾¿ç”¨æˆ·åšå‡ºå†³ç­–ã€‚</li><li>å¯å®šåˆ¶æ€§å’Œæ‰©å±•æ€§ï¼šç³»ç»Ÿè½¯ä»¶å¯ä»¥æ ¹æ®ä¸åŒæ²¹ç”°çš„å®é™…æƒ…å†µå’Œéœ€æ±‚è¿›è¡Œå®šåˆ¶å’Œè°ƒæ•´ã€‚åŒæ—¶ï¼Œå…·å¤‡è‰¯å¥½çš„æ‰©å±•æ€§ï¼Œå¯ä»¥é›†æˆæ›´å¤šçš„è¯„ä»·æ¨¡å‹å’Œç®—æ³•ï¼Œä»¥é€‚åº”ä¸æ–­å˜åŒ–çš„éœ€æ±‚å’ŒæŠ€æœ¯å‘å±•ã€‚</li><li>æ³¨æ°´äº•å¼€å‘æ•ˆæœç»¼åˆè¯„ä»·ç³»ç»Ÿè½¯ä»¶é€šè¿‡æ•°æ®é‡‡é›†ã€æ¨¡å‹è®¡ç®—ã€æ•°æ®åˆ†æå’Œå¯è§†åŒ–å±•ç¤ºç­‰æŠ€æœ¯ï¼Œå¸®åŠ©æ²¹ç”°ç®¡ç†è€…å’Œå·¥ç¨‹å¸ˆå…¨é¢è¯„ä¼°æ³¨æ°´äº•çš„æ•ˆæœï¼Œå¹¶åšå‡ºç§‘å­¦å†³ç­–ï¼Œæé«˜æ²¹ç”°å¼€å‘çš„æ•ˆç‡å’Œæ•ˆæœã€‚</li></ol><h2 id="è®°å½•">è®°å½•</h2><h3 id="Nacos-å•æœºè¿è¡Œ">Nacos å•æœºè¿è¡Œ</h3><pre class="line-numbers language-Bash" data-language="Bash"><code class="language-Bash">docker run -d \--name nacos-standalone \-e PREFER_HOST_MODE&#x3D;hostname \-e MODE&#x3D;standalone \-e JVM_XMS&#x3D;256m \-e JVM_XMX&#x3D;256m \-v &#x2F;root&#x2F;nacos-server&#x2F;logs&#x2F;:&#x2F;home&#x2F;nacos&#x2F;logs \-p 8848:8848 \nacos&#x2F;nacos-server:1.4.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Dockeréƒ¨ç½²çš„Spring-Cloudå¾®æœåŠ¡æ³¨å†Œåˆ°Nacosçš„IPä¸ºç§ç½‘æ— æ³•è®¿é—®">Dockeréƒ¨ç½²çš„Spring Cloudå¾®æœåŠ¡æ³¨å†Œåˆ°Nacosçš„IPä¸ºç§ç½‘æ— æ³•è®¿é—®</h3><blockquote><p><a href="https://lucent.blog/?p=90">åœ¨Nacosä¸­è®©æœåŠ¡ä½¿ç”¨æŒ‡å®šç½‘æ®µipæ³¨å†Œ - Lucentâ€™s Blog</a><br><a href="https://www.cnblogs.com/haoxianrui/p/14091590.html">Dockeréƒ¨ç½²çš„Spring Cloudå¾®æœåŠ¡æ³¨å†Œåˆ°Nacosçš„IPä¸ºç§ç½‘æ— æ³•è®¿é—® - æœ‰æ¥æŠ€æœ¯ - åšå®¢å›­</a></p></blockquote><h4 id="æŒ‡å®šIP">æŒ‡å®šIP</h4><pre class="line-numbers language-none"><code class="language-none">spring:  cloud:    nacos:      discovery:        ip: 192.144.220.153<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è®¾ç½®ä¸»æœºæ¨¡å¼">è®¾ç½®ä¸»æœºæ¨¡å¼</h4><p><code>docker run -d --network=host --restart=always</code></p><h4 id="æŒ‡å®šç½‘æ®µIPæ³¨å†Œ">æŒ‡å®šç½‘æ®µIPæ³¨å†Œ</h4><pre class="line-numbers language-none"><code class="language-none">cloud:  inetutils:    ignored-interfaces: eth.*    preferred-networks:      - 192.168      - 192<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>æŸ¥çœ‹dockeræ¡¥æ¥æ¨¡å¼ç½‘ç»œé…ç½®åï¼Œå‘ç°è¿™ç§æ–¹å¼åº”è¯¥æ˜¯æ²¡ç”¨çš„</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">eth0      Link encap:Ethernet  HWaddr 02:42:AC:11:00:03            inet addr:172.17.0.3  Bcast:172.17.255.255  Mask:255.255.0.0          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1          RX packets:1038533 errors:0 dropped:0 overruns:0 frame:0          TX packets:1226213 errors:0 dropped:0 overruns:0 carrier:0          collisions:0 txqueuelen:0           RX bytes:379406899 <span class="token punctuation">(</span><span class="token number">361.8</span> MiB<span class="token punctuation">)</span>  TX bytes:397027737 <span class="token punctuation">(</span><span class="token number">378.6</span> MiB<span class="token punctuation">)</span>lo        Link encap:Local Loopback            inet addr:127.0.0.1  Mask:255.0.0.0          UP LOOPBACK RUNNING  MTU:65536  Metric:1          RX packets:4 errors:0 dropped:0 overruns:0 frame:0          TX packets:4 errors:0 dropped:0 overruns:0 carrier:0          collisions:0 txqueuelen:1000           RX bytes:288 <span class="token punctuation">(</span><span class="token number">288.0</span> B<span class="token punctuation">)</span>  TX bytes:288 <span class="token punctuation">(</span><span class="token number">288.0</span> B<span class="token punctuation">)</span>Disconnected from container.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="NACOS-é‰´æƒ">NACOS é‰´æƒ</h2><p>æ·»åŠ  <code>-e NACOS_AUTH_ENABLE=true</code><br><a href="https://nacos.io/zh-cn/docs/auth.html">Authorization</a></p><h2 id="Dubbo">Dubbo</h2><h3 id="æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„åœ°å€æ˜¯å†…ç½‘IP">æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„åœ°å€æ˜¯å†…ç½‘IP</h3><blockquote><p>å¯ä»¥é€šè¿‡dubbo.protocolæˆ–dubbo.providerçš„hostå±æ€§å¯¹hostè¿›è¡Œé…ç½®,æ”¯æŒIPåœ°å€å’ŒåŸŸå.ä½†æ­¤æ—¶æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„IPåœ°å€å’Œç›‘å¬IPåœ°å€æ˜¯åŒä¸€ä¸ªå€¼<br>ä¸ºäº†è§£å†³åœ¨è™šæ‹Ÿç¯å¢ƒæˆ–å±€åŸŸç½‘å†…consumeræ— æ³•ä¸provideré€šä¿¡çš„é—®é¢˜,å¯ä»¥é€šè¿‡ç¯å¢ƒå˜é‡åˆ†åˆ«è®¾ç½®æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒçš„IPåœ°å€å’Œç›‘å¬IPåœ°å€,å…¶ä¼˜å…ˆçº§é«˜äºdubbo.protocolæˆ–dubbo.providerçš„hosté…ç½®</p></blockquote><p><a href="https://cn.dubbo.apache.org/zh-cn/docs/advanced/set-host/">ä¸»æœºé…ç½® | Apache Dubbo</a></p><h3 id="é€šè¿‡dockerè¿è¡Œ">é€šè¿‡dockerè¿è¡Œ</h3><pre class="line-numbers language-none"><code class="language-none">-e DUBBO_IP_TO_REGISTRY&#x3D;å…¬ç½‘IP-p 9005:9005 -p 20880:20880<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-none"><code class="language-none">ENV TZ&#x3D;Asia&#x2F;ShanghaiENV DUBBO_IP_TO_REGISTRY&#x3D;å…¬ç½‘IP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="è·å–ä¸åˆ°Bean">è·å–ä¸åˆ°Bean</h3><p>åŸæœ¬åœ¨å•ä½“é¡¹ç›®ä¸­æ˜¯è¿™æ ·<br>ä½¿ç”¨<code>SpringUtils.getBean</code></p><blockquote><p><code>SpringUtils.getBean</code>éœ€è¦å…·ä½“å®ç°ï¼Œå¯ä»¥åœ¨ç½‘ä¸Šæœ</p></blockquote><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">IWellService wellService &#x3D; SpringUtils.getBean(IWellService.class);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¾®æœåŠ¡è¿›è¡Œäº†æ‹†åˆ†æ‰€ä»¥ä¼šæŠ¥é”™</p><p>å®ç°<code>DubboBean.getDubboBean</code>æ–¹æ³•ï¼Œè§£å†³</p><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">IWellService wellService &#x3D; DubboBean.getDubboBean(IWellService.class);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">package club.cupk.waterflood.util;    import org.apache.dubbo.config.spring.ReferenceBean;  import org.apache.dubbo.config.spring.beans.factory.annotation.ReferenceAnnotationBeanPostProcessor;  import xin.altitude.cms.common.util.SpringUtils;    import java.util.Collection;    public class DubboBean &#123;  public static &lt;T&gt; T getDubboBean(Class&lt;T&gt; requiredType)&#123;  ReferenceAnnotationBeanPostProcessor dubboContext &#x3D; SpringUtils.getBean(ReferenceAnnotationBeanPostProcessor.class);  Collection&lt;ReferenceBean&lt;?&gt;&gt; referenceBeans &#x3D; dubboContext.getReferenceBeans();  for (ReferenceBean&lt;?&gt; referenceBean : referenceBeans) &#123;  Class&lt;?&gt; objectType &#x3D; referenceBean.getObjectType();  if(objectType &#x3D;&#x3D; requiredType)&#123;  return (T)referenceBean.getObject();  &#125;  &#125;  return null;  &#125;  &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Wrapper">Wrapper</h3><div class="note danger"><h5 id="è­¦å‘Š">è­¦å‘Š:</h5><p>ä¸æ”¯æŒä»¥åŠä¸èµæˆåœ¨ RPC è°ƒç”¨ä¸­æŠŠ Wrapper è¿›è¡Œä¼ è¾“</p><ol><li>wrapper å¾ˆé‡</li><li>ä¼ è¾“ wrapper å¯ä»¥ç±»æ¯”ä¸ºä½ çš„ controller ç”¨ map æ¥æ”¶å€¼(å¼€å‘ä¸€æ—¶çˆ½,ç»´æŠ¤ç«è‘¬åœº)</li><li>æ­£ç¡®çš„ RPC è°ƒç”¨å§¿åŠ¿æ˜¯å†™ä¸€ä¸ª DTO è¿›è¡Œä¼ è¾“,è¢«è°ƒç”¨æ–¹å†æ ¹æ® DTO æ‰§è¡Œç›¸åº”çš„æ“ä½œ</li><li>æˆ‘ä»¬æ‹’ç»æ¥å—ä»»ä½•å…³äº RPC ä¼ è¾“ Wrapper æŠ¥é”™ç›¸å…³çš„ issue ç”šè‡³ pr</li></ol></div><h2 id="Spring-Cloud-Gatewayè´Ÿè½½å‡è¡¡">Spring Cloud Gatewayè´Ÿè½½å‡è¡¡</h2><blockquote><p><a href="https://www.jianshu.com/p/9623f9fb160b">Spring Cloud Gatewayè´Ÿè½½å‡è¡¡ - ç®€ä¹¦</a><br><a href="https://blog.csdn.net/lingbomanbu_lyl/article/details/125325705">Spring Cloud Gatewayæ•´åˆNacoså®ç°æœåŠ¡è·¯ç”±åŠé›†ç¾¤è´Ÿè½½å‡è¡¡_gateway nacos è´Ÿè½½å‡è¡¡_å‡Œæ³¢æ¼«æ­¥&amp;çš„åšå®¢-CSDNåšå®¢</a></p></blockquote><h3 id="lb-lakerserviceä¸ç”Ÿæ•ˆ"><code>lb://lakerservice</code>ä¸ç”Ÿæ•ˆ</h3><p>åŠ å…¥ä¾èµ–</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-loadbalancer<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç”¨RouteRecordGlobalFilterè®°å½•è·¯ç”±åçš„å®é™…ä»£ç†åœ°å€">ç”¨RouteRecordGlobalFilterè®°å½•è·¯ç”±åçš„å®é™…ä»£ç†åœ°å€</h3><pre class="line-numbers language-Java" data-language="Java"><code class="language-Java">@Slf4j@Componentpublic class RouteRecordGlobalFilter implements GlobalFilter, Ordered &#123;@Overridepublic Mono&lt;Void&gt; filter(ServerWebExchange exchange, GatewayFilterChain chain) &#123;&#x2F;&#x2F; RouteToRequestUrlFilterä¼šæŠŠå®é™…è·¯ç”±çš„URLé€šè¿‡è¯¥å±æ€§ä¿å­˜URI proxyRequestUri &#x3D; exchange.getAttribute(ServerWebExchangeUtils.GATEWAY_REQUEST_URL_ATTR);long start &#x3D; System.currentTimeMillis();return chain.filter(exchange).then(Mono.fromRunnable(() -&gt; &#123;long end &#x3D; System.currentTimeMillis();log.info(&quot;å®é™…è°ƒç”¨åœ°å€ä¸ºï¼š&#123;&#125;ï¼Œè°ƒç”¨è€—æ—¶ä¸ºï¼š&#123;&#125;ms&quot;, proxyRequestUri, (end - start));&#125;));&#125;@Overridepublic int getOrder() &#123;&#x2F;&#x2F; ä¼˜å…ˆçº§è®¾ä¸ºæœ€ä½ï¼Œå…ˆè®©RouteToRequestUrlFilterå…ˆè°ƒç”¨return Ordered.LOWEST_PRECEDENCE;&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="YAML">YAML</h3><h4 id="Local">Local</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">gateway</span><span class="token punctuation">:</span>  <span class="token key atrule">discovery</span><span class="token punctuation">:</span><span class="token comment">#å¼€å¯è´Ÿè½½å‡è¡¡</span>    <span class="token key atrule">locator</span><span class="token punctuation">:</span>      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>      <span class="token comment">#æœåŠ¡åå°å†™</span>      <span class="token key atrule">lower-case-service-id</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token key atrule">loadbalancer</span><span class="token punctuation">:</span>    <span class="token key atrule">use404</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Nacos">Nacos</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">gateway</span><span class="token punctuation">:</span>      <span class="token comment"># å…è®¸è·¨åŸŸè¯·æ±‚é…ç½®</span>      <span class="token key atrule">globalcors</span><span class="token punctuation">:</span>        <span class="token key atrule">cors-configurations</span><span class="token punctuation">:</span>          <span class="token key atrule">'[/**]'</span><span class="token punctuation">:</span>            <span class="token comment"># å…è®¸ä»»ä½•åŸŸåä½¿ç”¨</span>            <span class="token key atrule">allowedOrigins</span><span class="token punctuation">:</span> <span class="token string">"*"</span>            <span class="token comment"># å…è®¸ä»»ä½•å¤´</span>            <span class="token key atrule">allowedHeaders</span><span class="token punctuation">:</span> <span class="token string">"*"</span>            <span class="token comment"># å…è®¸ä»»ä½•æ–¹æ³•(postã€getç­‰)</span>            <span class="token key atrule">allowedMethods</span><span class="token punctuation">:</span> <span class="token string">"*"</span>            <span class="token comment"># sessionid å¤šæ¬¡è®¿é—®ä¸€è‡´</span>            <span class="token key atrule">allowCredentials</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token comment"># å…è®¸æ¥è‡ªæ‰€æœ‰åŸŸå(allowedOrigins)çš„æ‰€æœ‰è¯·æ±‚æ–¹å¼(allowedMethods)å‘å‡ºCORSè¯·æ±‚</span>        <span class="token key atrule">add-to-simple-url-handler-mapping</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>   <span class="token comment"># å…è®¸æ¥è‡ªæ‰€æœ‰åŸŸå(allowedOrigins)çš„æ‰€æœ‰è¯·æ±‚æ–¹å¼(allowedMethods)å‘å‡ºCORSè¯·æ±‚</span>      <span class="token key atrule">routes</span><span class="token punctuation">:</span>        <span class="token punctuation">-</span> <span class="token key atrule">id</span><span class="token punctuation">:</span> waterflood<span class="token punctuation">-</span>consumer          <span class="token key atrule">uri</span><span class="token punctuation">:</span> lb<span class="token punctuation">:</span>//waterflood<span class="token punctuation">-</span>consumer          <span class="token key atrule">predicates</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> Path=/api/<span class="token important">**</span>          <span class="token key atrule">filters</span><span class="token punctuation">:</span>            <span class="token punctuation">-</span> StripPrefix=1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git è„±æ•</title>
      <link href="/20230720093159/"/>
      <url>/20230720093159/</url>
      
        <content type="html"><![CDATA[<blockquote><p><a href="https://rtyley.github.io/bfg-repo-cleaner/">BFG Repo-Cleaner by rtyley</a><br><a href="https://docs.github.com/zh/authentication/keeping-your-account-and-data-secure/removing-sensitive-data-from-a-repository">ä»å­˜å‚¨åº“ä¸­åˆ é™¤æ•æ„Ÿæ•°æ® - GitHub æ–‡æ¡£</a></p></blockquote><p>Mac ç›´æ¥ Homebrew</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">brew <span class="token function">install</span> bfg<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ç›´æ¥è¾“å…¥bfgå°±èƒ½çœ‹åˆ°helpä¿¡æ¯å•¦</p><h3 id="åˆ é™¤è¯¯ä¸Šä¼ çš„å¤§æ–‡ä»¶">åˆ é™¤è¯¯ä¸Šä¼ çš„å¤§æ–‡ä»¶<a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html#%E5%88%A0%E9%99%A4%E8%AF%AF%E4%B8%8A%E4%BC%A0%E7%9A%84%E5%A4%A7%E6%96%87%E4%BB%B6"></a></h3><p>ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥å°†ä»“åº“å†å²ä¸­å¤§äº 500M çš„æ–‡ä»¶éƒ½åˆ é™¤æ‰ã€‚</p><pre class="line-numbers language-none"><code class="language-none">bfg --strip-blobs-bigger-than 500M<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ é™¤ç‰¹å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶">åˆ é™¤ç‰¹å®šçš„ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶<a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html#%E5%88%A0%E9%99%A4%E7%89%B9%E5%AE%9A%E7%9A%84%E4%B8%80%E4%B8%AA%E6%88%96%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6"></a></h3><p>åˆ é™¤Â <code>walterlv.snk</code>Â æ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">bfg --delete-files walterlv.snk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>åˆ é™¤ walterlv.snk æˆ– lindexi.snk æ–‡ä»¶ï¼š</p><pre class="line-numbers language-none"><code class="language-none">bfg --delete-files &#123;walterlv,lindexi&#125;.snk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ¯”å¦‚åŸæ¥ä»“åº“ç»“æ„æ˜¯è¿™æ ·çš„ï¼š</p><pre class="line-numbers language-none"><code class="language-none">- README.md- Security.md- walterlv.snk+ test    - lindexi.snk<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é‚£ä¹ˆåˆ é™¤å®Œåï¼Œæ ¹ç›®å½•çš„ walterlv.snk å’Œ test å­ç›®å½•ä¸‹çš„ lindexi.snk å°±éƒ½åˆ é™¤äº†ã€‚</p><h3 id="åˆ é™¤æ–‡ä»¶å¤¹">åˆ é™¤æ–‡ä»¶å¤¹<a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%A4%B9"></a></h3><p>åˆ é™¤åå­—ä¸º walterlv çš„æ–‡ä»¶å¤¹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">bfg --delete-folders walterlv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ­¤å‘½ä»¤å¯ä»¥ä¸ä¸Šé¢çš„Â <code>--delete-files</code>Â æ”¾åœ¨ä¸€èµ·æ‰§è¡Œï¼š</p><pre class="line-numbers language-none"><code class="language-none">bfg --delete-folders walterlv --delete-files walterlv.snk<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åˆ é™¤æ•æ„Ÿçš„å¯†ç ä¿¡æ¯">åˆ é™¤æ•æ„Ÿçš„å¯†ç ä¿¡æ¯<a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html#%E5%88%A0%E9%99%A4%E6%95%8F%E6%84%9F%E7%9A%84%E5%AF%86%E7%A0%81%E4%BF%A1%E6%81%AF"></a></h3><pre class="line-numbers language-none"><code class="language-none">bfg --replace-text expression-file.txt<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ³¨æ„ï¼Œè¿™é‡Œçš„ expression-file.txt åç§°æ˜¯éšä¾¿å–çš„ï¼Œä½ å¯ä»¥å–å…¶ä»–ä»»ä½•åç§°ï¼Œåªè¦åœ¨å‘½ä»¤é‡Œè¾“å…¥æ­£ç¡®çš„åç§°ï¼ˆå¯èƒ½éœ€è¦åŒ…å«è·¯å¾„ï¼‰å°±è¡Œã€‚</p><p>ä½†æ˜¯ expression-file.txt é‡Œé¢çš„å†…å®¹å´æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„é‡ç‚¹ã€‚</p><p>æ­¤æ–‡ä»¶ä¸­çš„æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªåŒ¹é…è¡¨è¾¾å¼ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªè¡¨è¾¾å¼è¢«è§†ä¸ºä¸€æ®µæ–‡æœ¬å¸¸é‡ï¼Œä½†ä½ å¯ä»¥é€šè¿‡æŒ‡å®šÂ <code>regex:</code>Â å‰ç¼€æ¥è¯´æ˜æ­¤è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–è€…æŒ‡å®šÂ <code>glob:</code>Â å‰ç¼€ã€‚æ¯ä¸€ä¸ªè¡¨è¾¾å¼çš„åé¢å¯ä»¥åŠ ä¸Š â€˜==&gt;â€™ æ¥æŒ‡å®šåŒ¹é…çš„æ–‡ä»¶åº”è¯¥è¢«æ›¿æ¢æˆä»€ä¹ˆï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°±ä¼šè¢«æ›¿æ¢æˆé»˜è®¤å€¼Â <code>***REMOVED***</code>ã€‚</p><p>ä¸‹é¢è¿™ä¸ªä¾‹å­ç¤ºä¾‹å°† git ä»“åº“ä¸­æ‰€æœ‰æ–‡ä»¶ä¸­çš„Â <code>å¯†ç ï¼š123456</code>Â å­—ç¬¦ä¸²æ›¿æ¢æˆÂ <code>***REMOVED***</code>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">å¯†ç ï¼š123456<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æ›´å¤æ‚ä¸€ç‚¹çš„ï¼Œä¸‹é¢çš„ä¾‹å­ç¤ºä¾‹å°† git ä»“åº“ä¸­æ‰€æœ‰æ–‡ä»¶ä¸­çš„Â <code>å¯†ç ï¼š123456</code>Â å­—ç¬¦ä¸²æ›¿æ¢æˆÂ <code>å¯†ç ï¼š******</code>ï¼š</p><pre class="line-numbers language-none"><code class="language-none">å¯†ç ï¼š123456 &#x3D;&#x3D;&gt; å¯†ç ï¼š******<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>è¿˜å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><pre class="line-numbers language-none"><code class="language-none">regex:å¯†ç ï¼š\d+ &#x3D;&#x3D;&gt; å¯†ç ï¼š******<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="æ¨å›è¿œç«¯ä»“åº“">æ¨å›è¿œç«¯ä»“åº“<a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html#%E6%8E%A8%E5%9B%9E%E8%BF%9C%E7%AB%AF%E4%BB%93%E5%BA%93"></a></h2><p>å½“ä½ åœ¨æœ¬åœ°æ“ä½œå®Œé•œåƒä»“åº“ä¹‹åï¼Œå¯ä»¥å°†å…¶æ¨å›åŸæ¥çš„è¿œç«¯ä»“åº“äº†ã€‚</p><pre class="line-numbers language-none"><code class="language-none">git push<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æœ€åï¼Œæœ‰ä¸€ä¸ªä¸å¿…è¦çš„æ“ä½œã€‚å°±æ˜¯å›æ”¶å·²ç»æ²¡æœ‰å¼•ç”¨çš„æ—§æäº¤ï¼Œè¿™å¯ä»¥å‡å°æœ¬åœ°ä»“åº“çš„å¤§å°ï¼š</p><pre class="line-numbers language-none"><code class="language-none">git reflog expire --expire&#x3D;now --all &amp;&amp; git gc --prune&#x3D;now --aggressive<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="é™„å‘½ä»¤è¡Œç”¨æ³•è¾“å‡º">é™„å‘½ä»¤è¡Œç”¨æ³•è¾“å‡º<a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html#%E9%99%84%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%94%A8%E6%B3%95%E8%BE%93%E5%87%BA"></a></h2><p>ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥Â <code>bfg</code>Â å¯ä»¥çœ‹Â <code>bfg</code>Â å‘½ä»¤è¡Œçš„ç”¨æ³•ã€‚æˆ‘è´´åœ¨ä¸‹é¢å¯ä»¥è®©è¿˜æ²¡å®‰è£…çš„å°ä¼™ä¼´æ„Ÿå—ä¸€ä¸‹å®ƒçš„åŠŸèƒ½ï¼š</p><pre class="line-numbers language-none"><code class="language-none">Usage: bfg [options] [&lt;repo&gt;]  -b, --strip-blobs-bigger-than &lt;size&gt;                           strip blobs bigger than X (eg &#39;128K&#39;, &#39;1M&#39;, etc)  -B, --strip-biggest-blobs NUM                           strip the top NUM biggest blobs  -bi, --strip-blobs-with-ids &lt;blob-ids-file&gt;                           strip blobs with the specified Git object ids  -D, --delete-files &lt;glob&gt;                           delete files with the specified names (eg &#39;*.class&#39;, &#39;*.&#123;txt,log&#125;&#39; - matches on file name, not path within repo)  --delete-folders &lt;glob&gt;  delete folders with the specified names (eg &#39;.svn&#39;, &#39;*-tmp&#39; - matches on folder name, not path within repo)  --convert-to-git-lfs &lt;value&gt;                           extract files with the specified names (eg &#39;*.zip&#39; or &#39;*.mp4&#39;) into Git LFS  -rt, --replace-text &lt;expressions-file&gt;                           filter content of files, replacing matched text. Match expressions should be listed in the file, one expression per line - by default, each expression is treated as a literal, but &#39;regex:&#39; &amp; &#39;glob:&#39; prefixes are supported, with &#39;&#x3D;&#x3D;&gt;&#39; to specify a replacement string other than the default of &#39;***REMOVED***&#39;.  -fi, --filter-content-including &lt;glob&gt;                           do file-content filtering on files that match the specified expression (eg &#39;*.&#123;txt,properties&#125;&#39;)  -fe, --filter-content-excluding &lt;glob&gt;                           don&#39;t do file-content filtering on files that match the specified expression (eg &#39;*.&#123;xml,pdf&#125;&#39;)  -fs, --filter-content-size-threshold &lt;size&gt;                           only do file-content filtering on files smaller than &lt;size&gt; (default is 1048576 bytes)  -p, --protect-blobs-from &lt;refs&gt;                           protect blobs that appear in the most recent versions of the specified refs (default is &#39;HEAD&#39;)  --no-blob-protection     allow the BFG to modify even your *latest* commit. Not recommended: you should have already ensured your latest commit is clean.  --private                treat this repo-rewrite as removing private data (for example: omit old commit ids from commit messages)  --massive-non-file-objects-sized-up-to &lt;size&gt;                           increase memory usage to handle over-size Commits, Tags, and Trees that are up to X in size (eg &#39;10M&#39;)  &lt;repo&gt;                   file path for Git repository to clean<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘è§‰å¾—ä½ å¯èƒ½éœ€è¦ä¸­æ–‡ç‰ˆï¼Œäºæ˜¯è‡ªå·±ç¿»è¯‘äº†ä¸€ä¸‹ï¼š</p><pre class="line-numbers language-none"><code class="language-none">ç”¨æ³•: bfg [options] [&lt;repo&gt;]  -b, --strip-blobs-bigger-than &lt;size&gt;                           ç§»é™¤å¤§äº &lt;size&gt; å¤§å°çš„æ–‡ä»¶ï¼ˆ&lt;size&gt; å¯å¡«å†™è¯¸å¦‚ &#39;128K&#39;ã€&#39;1M&#39;ï¼‰  -B, --strip-biggest-blobs NUM                           ä»å¤§åˆ°å°ç§»é™¤ NUM æ•°é‡çš„æ–‡ä»¶  -bi, --strip-blobs-with-ids &lt;blob-ids-file&gt;                           ç§»é™¤å…·æœ‰æŒ‡å®š git å¯¹è±¡ id çš„æ–‡ä»¶  -D, --delete-files &lt;glob&gt;                           ç§»é™¤å…·æœ‰æŒ‡å®šåç§°çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ &#39;*.class&#39;ã€&#39;*.&#123;txt,log&#125;&#39;ï¼Œä»…åŒ¹é…æ–‡ä»¶åè€Œä¸èƒ½åŒ¹é…è·¯å¾„ï¼‰  --delete-folders &lt;glob&gt;  ç§»é™¤å…·æœ‰æŒ‡å®šåç§°çš„æ–‡ä»¶å¤¹ï¼ˆä¾‹å¦‚ &#39;.svn&#39;ã€&#39;*-tmp&#39;ï¼Œä»…åŒ¹é…æ–‡ä»¶å¤¹åè€Œä¸èƒ½åŒ¹é…è·¯å¾„ï¼‰  --convert-to-git-lfs &lt;value&gt;                           å°†æŒ‡å®šåç§°çš„æ–‡ä»¶ï¼ˆä¾‹å¦‚ &#39;*.zip&#39; æˆ– &#39;*.mp4&#39;ï¼‰è§£å‹åˆ° Git LFS  -rt, --replace-text &lt;expressions-file&gt;                           æŸ¥æ‰¾æ–‡ä»¶å†…å®¹ï¼Œå¹¶æ›¿æ¢å…¶ä¸­åŒ¹é…çš„æ–‡æœ¬ã€‚&lt;expressions-file&gt; æ˜¯ä¸€ä¸ªåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªåŒ¹é…è¡¨è¾¾å¼çš„æ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªåŒ¹é…è¡¨è¾¾å¼ã€‚                           é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªè¡¨è¾¾å¼è¢«è§†ä¸ºä¸€æ®µæ–‡æœ¬å¸¸é‡ï¼Œä½†ä½ å¯ä»¥é€šè¿‡æŒ‡å®š &#39;regex:&#39; å‰ç¼€æ¥è¯´æ˜æ­¤è¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ–è€…æŒ‡å®š &#39;glob:&#39; å‰ç¼€ã€‚                           æ¯ä¸€ä¸ªè¡¨è¾¾å¼çš„åé¢å¯ä»¥åŠ ä¸Š &#39;&#x3D;&#x3D;&gt;&#39; æ¥æŒ‡å®šåŒ¹é…çš„æ–‡ä»¶åº”è¯¥è¢«æ›¿æ¢æˆä»€ä¹ˆï¼ˆå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œå°±ä¼šè¢«æ›¿æ¢æˆé»˜è®¤å€¼ &#39;***REMOVED***&#39;ã€‚  -fi, --filter-content-including &lt;glob&gt;                           æŒ‡å®šæ–‡ä»¶åï¼ˆä¾‹å¦‚ &#39;*.&#123;txt,properties&#125;&#39;ï¼‰ï¼Œåœ¨è¿›è¡Œå†…å®¹æ›¿æ¢çš„æ—¶å€™åªå¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚  -fe, --filter-content-excluding &lt;glob&gt;                           æŒ‡å®šæ–‡ä»¶åï¼ˆä¾‹å¦‚ &#39;*.&#123;xml,pdf&#125;&#39;ï¼‰ï¼Œåœ¨è¿›è¡Œå†…å®¹æ›¿æ¢çš„æ—¶å€™ä¸å¯¹è¿™äº›æ–‡ä»¶è¿›è¡Œå¤„ç†ã€‚  -fs, --filter-content-size-threshold &lt;size&gt;                           ä»…å¯¹å°äº &lt;size&gt; æŒ‡å®šçš„å¤§å°çš„æ–‡ä»¶æ›¿æ¢å†…å®¹ã€‚ï¼ˆé»˜è®¤å€¼ä¸º 1048576 å­—èŠ‚ï¼‰  -p, --protect-blobs-from &lt;refs&gt;                           protect blobs that appear in the most recent versions of the specified refs (default is &#39;HEAD&#39;)  --no-blob-protection     allow the BFG to modify even your *latest* commit. Not recommended: you should have already ensured your latest commit is clean.  --private                ä»…å°†æœ¬æ¬¡æ“ä½œè§†ä¸ºä¸ªäººæ•°æ®çš„ä¿®æ”¹ï¼ˆè¿™æ ·ç”Ÿæˆçš„æ–°æäº¤ä¼šä½¿ç”¨æ—§æäº¤çš„ Idï¼Œå…¶ä»–äººæ‹‰å–ä»“åº“çš„æ—¶å€™å› ä¸ºè¿™äº› Id å·²ç»å­˜åœ¨äºæ˜¯ä¸ä¼šæ›´æ–°ï¼Œä»¥è‡³äºæ­¤æ›´æ”¹å®é™…ä¸Šåªå½±å“è‡ªå·±ï¼‰ã€‚  --massive-non-file-objects-sized-up-to &lt;size&gt;                           increase memory usage to handle over-size Commits, Tags, and Trees that are up to X in size (eg &#39;10M&#39;)  &lt;repo&gt;                   file path for Git repository to clean<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å‚è€ƒï¼š<br><a href="https://blog.walterlv.com/post/clean-up-git-repo-using-bfg.html">æ¸…ç† git ä»“åº“å¤ªç¹çï¼Ÿè¯•è¯• bfgï¼åˆ é™¤æ•æ„Ÿä¿¡æ¯åˆ é™¤å¤§æ–‡ä»¶ä¸€å¥å‘½ä»¤æå®šï¼ˆæ¯”å®˜æ–¹æ–‡æ¡£è¿˜è¯¦ç»†çš„ä½¿ç”¨è¯´æ˜ï¼‰ - walterlv</a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> git </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Idea Maven å¯¼å…¥é¡¹ç›®è¿‡æ…¢</title>
      <link href="/20230612112332/"/>
      <url>/20230612112332/</url>
      
        <content type="html"><![CDATA[<h3 id="Xms1024m-Xmx2048m">-Xms1024m -Xmx2048m</h3><p>æ‰“å¼€Settings</p><p>ä¿®æ”¹maven Importingçš„jvmå‚æ•°, é»˜è®¤ä¸º700å¤š, ç›´æ¥ä¿®æ”¹æˆ -Xms1024m -Xmx2048m</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//20230612112600.png" alt="" loading="lazy"></p><h3 id="archetypeCatalog-internal">archetypeCatalog = internal</h3><blockquote><p>-DarchetypeCatalogå‚æ•°æ˜¯ç”¨æ¥æŒ‡å®šarchetype-catalog.xmlæ–‡ä»¶ä»å“ªé‡Œè·å–çš„ã€‚å¯ä»¥é€‰æ‹©çš„å€¼ä¸ºï¼šremoteï¼Œinternal ï¼Œlocalç­‰ï¼Œå¦‚æœä¸è¿›è¡Œè®¾ç½®çš„è¯åˆ™é»˜è®¤ä½¿ç”¨remoteï¼Œè€Œç”±äºè¿œç¨‹çš„ä¸­å¤®ä»“åº“çš„archetypeå¤ªå¤šï¼Œ å¯¼è‡´ä»è¿œç¨‹ç½‘ç»œåŠ è½½æ‰€ä»¥éå¸¸æ…¢ï¼Œè¿™ä¹Ÿæ˜¯ä¹‹å‰å¡åœ¨è¿™é‡Œçš„åŸå› ã€‚<br>settingsè®¾ç½®çš„æ˜¯å½“å‰é¡¹ç›®çš„é…ç½®ï¼Œå¦‚æœè®¾ç½®å…¨å±€çš„è®¾ç½®ï¼Œåˆ™åœ¨other settingsè¿›è¡Œä¸Šè¿°è®¾ç½®ï¼Œåˆ™å¯¹å…¶ä»–é¡¹ç›®ä¹Ÿç”Ÿæ•ˆã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//20230612112632.png" alt="" loading="lazy"></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> maven </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>yourlså®‰è£…</title>
      <link href="/33621/"/>
      <url>/33621/</url>
      
        <content type="html"><![CDATA[<blockquote><p>æœ¬æ–‡ä¸»è¦æ˜¯åœ¨å®˜æ–¹çš„dockeré•œåƒåŸºç¡€ä¸ŠåŠ ä¸Šäº†composerå’Œgd<br>å¹¶ä¸”å°†userç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Š æ›´æ–¹ä¾¿æ’ä»¶çš„å®‰è£…</p></blockquote><p>docker hub<br><a href="https://hub.docker.com/_/yourls/">yourls - Official Image | Docker Hub</a><br>å¦‚ä½•å®‰è£…æ›´å¤š PHP æ‰©å±•<br><a href="https://github.com/docker-library/docs/blob/master/php/README.md#how-to-install-more-php-extensions">docs/README.md at master Â· docker-library/docs Â· GitHub</a></p><h3 id="ç¼–å†™Dockerfile-å®‰è£…composerå’Œgd">ç¼–å†™Dockerfile  å®‰è£…composerå’Œgd</h3><pre class="line-numbers language-Dockerfile" data-language="Dockerfile"><code class="language-Dockerfile">FROM yourls:latestRUN apt-get update &amp;&amp; apt-get install -y \libfreetype6-dev \libjpeg62-turbo-dev \libpng-dev \git \&amp;&amp; docker-php-ext-configure gd --with-freetype --with-jpeg \&amp;&amp; docker-php-ext-install -j$(nproc) gdRUN curl -sS https:&#x2F;&#x2F;getcomposer.org&#x2F;installer | php -- --install-dir&#x3D;&#x2F;usr&#x2F;local&#x2F;bin --filename&#x3D;composer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ„å»ºé•œåƒ">æ„å»ºé•œåƒ</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> yourls <span class="token builtin class-name">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¿è¡Œå®¹å™¨">è¿è¡Œå®¹å™¨</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> yourls <span class="token punctuation">\</span>   <span class="token parameter variable">-e</span> <span class="token assign-left variable">YOURLS_DB_HOST</span><span class="token operator">=</span>æ•°æ®åº“åœ°å€ <span class="token punctuation">\</span>   <span class="token parameter variable">-e</span> <span class="token assign-left variable">YOURLS_DB_USER</span><span class="token operator">=</span>æ•°æ®åº“è´¦å· <span class="token punctuation">\</span>   <span class="token parameter variable">-e</span> <span class="token assign-left variable">YOURLS_DB_PASS</span><span class="token operator">=</span>æ•°æ®åº“å¯†ç  <span class="token punctuation">\</span>   <span class="token parameter variable">-e</span> <span class="token assign-left variable">YOURLS_SITE</span><span class="token operator">=</span><span class="token string">"ä½ çš„ç½‘ç«™åœ°å€"</span> <span class="token punctuation">\</span>   <span class="token parameter variable">-e</span> <span class="token assign-left variable">YOURLS_USER</span><span class="token operator">=</span><span class="token string">"YOURLSç”¨æˆ·å"</span> <span class="token punctuation">\</span>   <span class="token parameter variable">-e</span> <span class="token assign-left variable">YOURLS_PASS</span><span class="token operator">=</span><span class="token string">"YOURLSå¯†ç "</span> <span class="token punctuation">\</span>   <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 <span class="token punctuation">\</span>   <span class="token parameter variable">-v</span> /root/yourls:/var/www/html/user <span class="token punctuation">\</span>   <span class="token parameter variable">-d</span> yourls<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="äºŒç»´ç æ’ä»¶">äºŒç»´ç æ’ä»¶</h3><p><a href="https://github.com/seandrickson/YOURLS-QRCode-Plugin">GitHub - seandrickson/YOURLS-QRCode-Plugin: YOURLS QR Code Plugin â€“ allows you to get the QR code by simply clicking on a button in the Admin area (or by adding â€œ.qrâ€ to the end of the keyword.)</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> çŸ­é“¾æ¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é‡æ‹¾Hexo</title>
      <link href="/35726/"/>
      <url>/35726/</url>
      
        <content type="html"><![CDATA[<h3 id="æˆ‘åšäº†ä»€ä¹ˆ">æˆ‘åšäº†ä»€ä¹ˆ</h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 1. è‡ªå®šä¹‰Projecté¡µé¢ å®ç°é¡¹ç›®å±•ç¤º</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 2. yourls çŸ­é“¾æ¥æœåŠ¡ å’Œ Plausible + utm ç»Ÿè®¡ç½‘ç«™æµé‡ <strong>è·Ÿè¸ªè®¿é—®æ¥æº</strong></li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 3. hexo åˆ›ä½œæµç¨‹å¤§æ”¹é€  ä½¿ç”¨obsidian + hexo + git +CI/CD</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 4. hexo æ”¯æŒ TaskList</li></ul><h3 id="è¿˜è¦åšå•¥">è¿˜è¦åšå•¥</h3><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 5. ç¼–æ’ç›®å½• è‡ªåŠ¨ç”Ÿæˆ tag categories</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 6. obsidian ä½¿ç”¨æ’ä»¶ä¸Šä¼ å›¾ç‰‡æ—¶å–æ¶ˆæ’å…¥image name</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> 7. hexoç”Ÿæˆæ°¸ä¹…æ–‡ç« é“¾æ¥ğŸ”—</li></ul><h3 id="æ€ä¹ˆåšçš„">æ€ä¹ˆåšçš„</h3><h4 id="1-è‡ªå®šä¹‰Projecté¡µé¢">1. è‡ªå®šä¹‰Projecté¡µé¢</h4><p>ä¿®æ”¹hexoä¸»é¢˜å¯¹åº”çš„ejsæ–‡ä»¶ï¼Œåˆ©ç”¨è‡ªå¸¦çš„categoriesæ¨¡å—ï¼Œåˆ¤æ–­categoryæ˜¯å¦ç­‰äºProjectï¼Œå†å¯¹Projectæ¸²æŸ“ç”Ÿæˆä¸åŒçš„htmlç•Œé¢ã€‚</p><h4 id="3-obsidianå†™ä½œ">3.obsidianå†™ä½œ</h4><ul><li>ğŸ§ gitæ’ä»¶ä½¿ç”¨<ul><li>å¿«æ·é”®<code>Ctrl + P</code>æ‰“å¼€å‘½ä»¤é¢æ¿ï¼Œè¾“å…¥<code>open source control view</code>å¯ç”¨å¯è§†åŒ–æ“ä½œé¢æ¿ï¼š</li></ul></li><li>ğŸ”§ obsidianè°ƒè¯•<ul><li><code>Ctrl+Shift+I</code></li></ul></li><li>æ˜¾ç¤ºæ ‡é¢˜çº§åˆ«<ul><li>å®‰è£…æ’ä»¶lapel</li></ul></li></ul><h4 id="4-hexo-æ”¯æŒ-TaskList">4. hexo æ”¯æŒ TaskList</h4><blockquote><p>è¿™ä¸ªè¿˜æ˜¯è¸©å‘äº†<br>hexo-renderer-marked æ”¹ä¸º hexo-renderer-markdown-it å<br>å®‰è£…äº† markdown-it-task-lists<br>è¿˜æ˜¯ä¸ç®¡ç”¨</p></blockquote><h5 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h5><p>å‘ç°æ˜¯æˆ‘çš„ä¸»é¢˜å¼•ç”¨çš„<code>materializecss</code> cssæ–‡ä»¶æŠŠcheckboxçš„opacityè®¾ç½®ä¸ºäº†0ï¼Œåˆ é™¤è¯¥å±æ€§åæ‰ç”Ÿæ•ˆã€‚</p><h4 id="5-è‡ªåŠ¨ç”Ÿæˆ-tag-categories">5.è‡ªåŠ¨ç”Ÿæˆ tag categories</h4><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># Generate categories from directory-tree</span><span class="token comment"># Dependencies: https://github.com/xu-song/hexo-auto-category</span><span class="token comment"># depth: the max_depth of directory-tree you want to generate, should > 0</span><span class="token key atrule">auto_category</span><span class="token punctuation">:</span> <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token key atrule">depth</span><span class="token punctuation">:</span> <span class="token number">2</span> <span class="token comment">#ç›®å½•æ·±åº¦</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="6-obsidian-ä½¿ç”¨æ’ä»¶ä¸Šä¼ å›¾ç‰‡æ—¶å–æ¶ˆæ’å…¥å›¾ç‰‡å">6.obsidian ä½¿ç”¨æ’ä»¶ä¸Šä¼ å›¾ç‰‡æ—¶å–æ¶ˆæ’å…¥å›¾ç‰‡å</h4><p>çœ‹äº†ä¸€ä¸‹image auto upload Pluginæ’ä»¶çš„JSä»£ç ï¼Œå‘ç°image nameçš„ç›¸å…³ä»£ç ï¼Œå¯¹æœ€åæ’å…¥mdæ–‡ä»¶æ—¶è¿›è¡Œäº†æ‹¼æ¥ï¼Œä¿®æ”¹ç›¸åº”ä»£ç å³å¯</p><h4 id="7-ğŸ”—æ–‡ç« æ°¸ä¹…é“¾æ¥">7.ğŸ”—æ–‡ç« æ°¸ä¹…é“¾æ¥</h4><p>ä½¿ç”¨abbrlinkç”Ÿæˆï¼Œä½†æ˜¯å…¶åŸç†æ˜¯ç›´æ¥ä¿®æ”¹mdæ–‡ä»¶ï¼Œåªè¦mdæ–‡ä»¶å­˜åœ¨abbrlinkï¼Œè¿™ä¸ªmdæ–‡ä»¶çš„abbrlinkå°±ä¸ä¼šæ”¹å˜ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯åœ¨hexo generateçš„è¿‡ç¨‹ä¸­ç”Ÿæˆçš„ï¼Œæˆ‘çš„å†™ä½œæ–¹æ¡ˆ<code>obsidian + hexo + git +CI/CD</code>å»ºäº†ä¸‰ä¸ªä»“åº“ï¼Œ<code>post</code>ã€<code>hexo-baken</code>ã€<code>izyq.github.io</code>ï¼Œæˆ‘çš„æ–‡ç« æ˜¯æäº¤åˆ°<code>post</code>ä»“åº“ï¼Œç„¶åéšç€workflowsä¸€è·¯åˆ°<code>izyq.github.io</code>ï¼Œabbrlinkæ˜¯åœ¨hexo-bakenè§¦å‘æ—¶ç”Ÿæˆçš„ï¼Œæ˜¾ç„¶è¿™æ ·çš„å·¥ä½œæµä¸é€‚åˆå¾€åä¿å­˜ç”Ÿæˆå¸¦abbrlinkçš„mdæ–‡ä»¶ï¼Œæ‰€ä»¥åªèƒ½åœ¨obsidianç”Ÿæˆã€‚</p><h5 id="æ–¹æ¡ˆ">æ–¹æ¡ˆ</h5><p>åœ¨obsidianä¸­abbrlinkä½¿ç”¨YYYYMMDDhhmmssè¿™æ ·çš„æ—¶é—´æ ¼å¼ï¼Œåœ¨æ¨¡ç‰ˆä¸­ä¿®æ”¹</p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å…¨å›½åŒç¢³æ•°æ®å¯è§†åŒ–</title>
      <link href="/20221218023819/"/>
      <url>/20221218023819/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®èƒŒæ™¯">é¡¹ç›®èƒŒæ™¯</h2><p>æœ¬ä½œå“ä¾æ‰˜æ•°å­—åŒ–å¯è§†å¹³å°æ¨¡å¼ï¼Œåœ¨â€œèšåŠ›ç¢³ä¸­å’Œï¼Œå®ç°ç¢³è¾¾å³°â€çš„åŒç¢³æˆ˜ç•¥ä¸‹ï¼Œè¿ç”¨å¤§æ•°æ®ã€å¯è§†åŒ–ç­‰æŠ€æœ¯å°†æ•°å­—åŒ–å’ŒåŒç¢³æœ‰åºç»“åˆï¼Œå¤šæ–¹ä½ã€å¤šè§’åº¦ã€å…¨æ™¯å±•ç°ä¸åŒåœ°åŸŸã€ä¸åŒæ—¶é—´ã€å¤šç§è”ç³»çš„ç¢³æ’æ”¾æƒ…å†µåŠå„ç§æŒ‡æ ‡ï¼Œåˆ©ç”¨ç›‘æ§å¤§å±ç›´è§‚ç›‘æ§æ•°æ®å˜åŒ–ã€‚</p><h2 id="é¡¹ç›®å±•ç¤º">é¡¹ç›®å±•ç¤º</h2><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101501460.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101508868.png" alt="" loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101509038.png" alt="" loading="lazy"></p><h3 id="å…¨å›½ç¢³æ’æ”¾åœ°å›¾">å…¨å›½ç¢³æ’æ”¾åœ°å›¾</h3><blockquote><p>ä»¥åœ°å›¾+æ—¶é—´è½´å½¢å¼åŒºåˆ†æˆ‘å›½ä¸åŒæ—¶é—´ã€ä¸åŒåœ°åŒºç¢³æ’æ”¾æ€»é‡æƒ…å†µï¼Œå¹¶æ ¹æ®æ’æ”¾é‡çº§å·®å¼‚åŒ–æ˜¾ç¤ºã€‚åŒæ—¶æ”¯æŒ<strong>åœ°å›¾ä¸‹é’»åŠŸèƒ½</strong>ï¼Œç‚¹å‡»åœ°å›¾é‡Œçš„ç›¸åº”çœä»½ï¼Œå³å¯æŸ¥çœ‹å„çœä¸‹è¾–å¸‚çš„è¯¦ç»†æ’æ”¾æ•°æ®ã€‚</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101502976.png" alt="" loading="lazy"></p><h3 id="èƒ½æºæ¶ˆè´¹æ¯”é‡">èƒ½æºæ¶ˆè´¹æ¯”é‡</h3><blockquote><p>ç»Ÿè®¡æˆ‘å›½èˆªç©ºä¸šã€äº¤é€šè¿è¾“ã€å·¥ä¸šç”Ÿäº§ã€æ”¿åºœéƒ¨é—¨ã€æˆ¿åœ°äº§ä¸šç­‰æˆ‘å›½å‡ å¤§é‡ç‚¹ç¢³æ’é¢†åŸŸç›¸å…³æ•°æ®ï¼Œä»¥é¥¼å›¾å½¢å¼åŠ¨æ€å‘ˆç°ï¼Œå¯ä»¥é€‰æ‹©ä¸åŒé¢†åŸŸæŸ¥çœ‹å…¶å æ¯”åŠè¯¦ç»†ç¢³æ’æƒ…å†µã€‚ï¼ˆå±•ç¤ºåŠ å…¥å·¥ä¸šç”Ÿäº§ç»“æœï¼‰</p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101505031.png" alt="" loading="lazy"></p><h2 id="æ–¹æ¡ˆè®¾è®¡">æ–¹æ¡ˆè®¾è®¡</h2><h3 id="æ•´ä½“æ¶æ„">æ•´ä½“æ¶æ„</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101446974.png" alt="" loading="lazy"></p><h2 id="æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</h2><h4 id="1-å¯¼å…¥æ•°æ®åŠæè¿°ç»Ÿè®¡">1. å¯¼å…¥æ•°æ®åŠæè¿°ç»Ÿè®¡</h4><p>åˆ©ç”¨pandasåº“å°†ç½‘ç«™è·å–åˆ°çš„å„ç±»æ•°æ®è¯»å…¥ï¼Œå¹¶å¯¹æ•°æ®ç»“æ„ã€æœ‰æ•ˆæ€§è¿›è¡Œåˆ†æï¼Œä¸ºä¸‹ä¸€æ­¥æ•°æ®æ¸…æ´—åšå‡†å¤‡ã€‚</p><h4 id="2-æ•°æ®æ¸…æ´—">2. æ•°æ®æ¸…æ´—</h4><p>åˆ©ç”¨numpyã€pandasåº“æä¾›çš„å‡½æ•°åŠæ­£åˆ™è¡¨è¾¾å¼ç­‰æ–¹æ³•å¯¹æ–‡ä»¶ä¸­ç¼ºå¤±çš„æ•°æ®æ»¤é™¤ã€å¡«å……ï¼›å¯¹é‡å¤æ•°æ®ç§»é™¤æˆ–è½¬æ¢ï¼›å°†ç°æœ‰æ•°æ®è®¡ç®—æ¸…æ´—è·å¾—æœªæä¾›çš„æ•°æ®ã€‚</p><h4 id="3-ç»˜å›¾å’Œå¯è§†åŒ–">3. ç»˜å›¾å’Œå¯è§†åŒ–</h4><p>åˆ©ç”¨matplotlibã€pyechartsåº“,é€‰æ‹©åˆé€‚çš„è¡¨ç°å½¢å¼ï¼Œå°†å¤„ç†å¥½çš„æ•°æ®ä»¥å¯è§†åŒ–å½¢å¼å±•ç°å‡ºæ¥ã€‚</p><h3 id="æ¨¡å—åˆ’åˆ†">æ¨¡å—åˆ’åˆ†</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101441827.png" alt="" loading="lazy"></p><h2 id="æ•°æ®æ¥æº">æ•°æ®æ¥æº</h2><h3 id="font-color-4f81bd-ä¸­å›½ç¢³æ ¸ç®—æ•°æ®åº“-font"><font color="#4f81bd">ä¸­å›½ç¢³æ ¸ç®—æ•°æ®åº“</font></h3><blockquote><p>æä¾›ä¸­å›½åŠå…¨çƒå…¶ä»–å‘å±•ä¸­ç»æµä½“å¤šå°ºåº¦èƒ½æºã€æ’æ”¾åŠç¤¾ä¼šç»æµæ¸…å•ã€‚</p></blockquote><p>é“¾æ¥ğŸ”—ï¼š<a href="https://www.ceads.net.cn/">CEADs ä¸­å›½ç¢³æ ¸ç®—æ•°æ®åº“</a></p><h3 id="font-color-4f81bd-å’Œé²¸ç¤¾åŒºç¢³æ’æ”¾æ•°æ®é›†-font"><font color="#4f81bd">å’Œé²¸ç¤¾åŒºç¢³æ’æ”¾æ•°æ®é›†</font></h3><blockquote><p>æä¾›ä¸–ç•Œå„å›½ã€ä¸­å›½ä¸ªçœä»½ç¢³æ’æ”¾é‡ã€ç¢³äº¤æ˜“æ•°æ®</p></blockquote><p>é“¾æ¥ğŸ”—ï¼š<a href="https://www.heywhale.com/home/dataset">æ•°æ®é›† - Heywhale.com</a></p><h3 id="font-color-4f81bd-å…¨çƒå®æ—¶ç¢³æ•°æ®-font"><font color="#4f81bd">å…¨çƒå®æ—¶ç¢³æ•°æ®</font></h3><blockquote><p>Carbon Monitor æ˜¯ä¸€ä¸ªéšæ—¶æ›´æ–°çš„å®æ—¶æ•°æ®é›†ï¼Œç¢³ç›‘æµ‹æ•°æ®é€šè¿‡å…¬å¹³ä½¿ç”¨å¼€æ”¾æ•°æ®æ”¿ç­–å…è´¹æä¾›ç»™å…¬ä¼—ã€‚</p></blockquote><p>é“¾æ¥ğŸ”—ï¼š<a href="https://carbonmonitor.org.cn/">å…¨çƒå®æ—¶ç¢³æ•°æ® Carbon Monitor</a></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ•°æ®å¯è§†åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BaseMapperå’ŒIService</title>
      <link href="/20221004112131/"/>
      <url>/20221004112131/</url>
      
        <content type="html"><![CDATA[<h2 id="Mybatis-plusç®€è®°">Mybatis-plusç®€è®°</h2><p>MybatisPlusæä¾›äº†ä¸¤å¥—æ¨¡æ¿ï¼Œä¸€ä¸ªæ˜¯BaseMapperçš„é€šç”¨Mapperçº§åˆ«â€“<strong>å¯¹å•è¡¨çš„å¢åˆ æŸ¥æ”¹</strong>ï¼Œmapperå­˜åœ¨çš„æ„ä¹‰å°±æ˜¯å¯ä»¥ç›´æ¥è¢«è°ƒç”¨æ“ä½œæ•°æ®è¡¨<br>è¿˜æœ‰é€šç”¨çš„Service<strong>æ¥å£</strong>â€“IServiceã€‚</p><table><thead><tr><th></th><th>Mapper</th><th>IService</th></tr></thead><tbody><tr><td>æŸ¥</td><td>select</td><td>getï¼Œlist</td></tr><tr><td>åˆ </td><td>delect</td><td>remove</td></tr><tr><td>å¢</td><td>save(æœ‰id)ï¼ŒsaveOrUpdateï¼ˆæ²¡idï¼‰</td><td>insert</td></tr><tr><td>æ”¹</td><td>update</td><td>update</td></tr></tbody></table><p>æ³¨æ„ï¼Œ<strong>IServiceæ˜¯ æ¥å£ï¼æ¥å£ï¼æ¥å£ï¼</strong><br>ä»€ä¹ˆæ˜¯æ¥å£ï¼Ÿæ¥å£æ˜¯ç”¨æ¥å®ç°åå®Œæˆä¸€äº›åŠŸèƒ½çš„ã€‚æ‰€ä»¥å’Œmapperåœ¨æµç¨‹ä¸Šæ¯”è¾ƒï¼Œå¤šäº†ä¸€ä¸ªå®ç°çš„æ­¥éª¤<br>ServiceImplæ˜¯IServiceå¯¹åº”çš„å®ç°ç±»<br>IServiveçš„æ³›å‹æ˜¯å½“å‰æ“ä½œçš„å®ä½“ç±»å¯¹è±¡<br>ServiceImplå®ç°ç±»çš„æ³›å‹æœ‰ä¿©ï¼š&lt;è‡ªå·±å†™çš„mapperï¼Œå½“å‰å®ä½“ç±»å¯¹è±¡&gt;<br>é€šå¸¸æ¥è®²ï¼Œåªç”¨å•è¡¨çš„å¢åˆ æŸ¥æ”¹ä¸èƒ½æ»¡è¶³ä¸šåŠ¡é€»è¾‘ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨mpæ—¶ï¼Œéœ€è¦åˆ›å»ºå‡ºè‡ªå·±çš„æ¥å£ï¼Œè®©å®ƒæ—¢å¯ä»¥æ‹¥æœ‰BaseMapperçš„ç®€å•å¢åˆ æŸ¥æ”¹ï¼Œåˆå¯ä»¥ä½¿ç”¨IServiceçš„æ–¹æ³•<br><strong>æ€»ç»“ï¼šBaseMapperå’ŒIServiceçš„å­˜åœ¨ä½¿å¾—æ•´ä¸ªä¸šåŠ¡æµç¨‹å­˜åœ¨æ›´å¤šçš„æ”¹é€ å¯èƒ½ã€‚</strong></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307202322991.png" alt="" loading="lazy"></p><p>ä»£ç ï¼š<br>1ã€è‡ªå®šä¹‰æ¥å£ MyService ,ç»§æ‰¿IServiceé€šç”¨æ¥å£ã€‚è¿™æ ·å¯ä»¥ä½¿ç”¨é€šç”¨çš„æ¥å£æ–¹æ³•<br>public interface <strong>MyService</strong> extends <strong>IService</strong>{<br>}<br>2ã€å®ç°è‡ªå®šä¹‰çš„æ¥å£<br>public class <strong>MyServiceImpl</strong> implements <strong>MyService <strong>{<br>}<br>3ã€ç”±äºMyServiceç»§æ‰¿äº†IServiceï¼Œæ‰€ä»¥å®ç°çš„æ—¶å€™ Myserviceéœ€è¦å®ç°IServiceçš„æ‰€æœ‰æ–¹æ³•ã€‚æ‰€ä»¥ç›´æ¥ç»§æ‰¿</strong>ServiceImpl</strong>ï¼Œç­‰ä»·äºå®ç°IServiceæ‰€æœ‰æ–¹æ³•<br>public class MyServiceImpl extends <strong>ServiceImpl</strong>&lt;<strong>MyMapper</strong>,<strong>å®ä½“ç±»</strong>&gt; implements <strong>MyService</strong> {<br>}</p><p>4ã€è‡ªå®šä¹‰å®ä½“ç±»<br>public class <strong>MyMapper</strong> extends** BaseMapper**&lt;<strong>å®ä½“ç±»</strong>&gt; {</p><p>}</p><p>å‚è€ƒé“¾æ¥ğŸ”—ï¼š<a href="https://www.cnblogs.com/Timeouting-Study/p/16480668.html">https://www.cnblogs.com/Timeouting-Study/p/16480668.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MybatisPlus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå¯¹è±¡ä¸ºå•¥è¦å®ç°Serializableæ¥å£ï¼Ÿ</title>
      <link href="/20221001105343/"/>
      <url>/20221001105343/</url>
      
        <content type="html"><![CDATA[<p><strong>å¯¼è¯»</strong></p><p>æœ€è¿‘è¿™æ®µæ—¶é—´ä¸€ç›´åœ¨å¿™ç€ç¼–å†™Javaä¸šåŠ¡ä»£ç ï¼Œéº»æœ¨åœ°æ¬ç€Ctrl-Cã€Ctrl-Vçš„ç –ï¼Œåœ¨ä¸çŸ¥é“é‡å¤äº†å¤šå°‘æ¬¡å®šä¹‰Javaå®ä½“å¯¹è±¡æ—¶â€œimplements Serializableâ€çš„C/Vå¤§æ³•åï¼Œè„‘æµ·ä¸­çªç„¶å†’å‡ºä¸€ä¸ªæ€ç»´(A)ï¼šé—®äº†è‡ªå·±ä¸€å¥â€œJavaå®ä½“å¯¹è±¡ä¸ºä»€ä¹ˆä¸€å®šè¦å®ç°Serializableæ¥å£å‘¢?â€ï¼Œå…³äºè¿™ä¸ªé—®é¢˜ï¼Œè„‘æµ·ä¸­çš„å¦ä¸€ä¸ªæ€ç»´(B)ç«‹é©¬ç»™å‡ºäº†å›å¤â€œå±…ç„¶é—®è¿™ä¹ˆå¹¼ç¨šå’ŒåŸºç¡€çš„é—®é¢˜ï¼Œå®ç°Serilizableæ¥å£æ˜¯ä¸ºäº†åºåˆ—åŒ–å•Š!â€ï¼Œæ€ç»´(A)ï¼šâ€œå“¦ï¼Œå¥½å§!ç„¶è€Œï¼Œç„¶åå‘¢?â€<br>æ­¤æ—¶æ€ç»´(B)é™·å…¥äº†æ²‰é»˜ï¼Œçªç„¶æ„Ÿè§‰è‡ªå·±æœ‰ç‚¹æµ…è–„äº†ï¼Œå¥½åƒå†™äº†è¿™ä¹ˆå¤šå¹´Javaè¿˜çœŸæ˜¯æ²¡æœ‰å¤ªå…³æ³¨è¿‡Serializableè¿™ä¸ªæ¥å£!ä¸ºä»€ä¹ˆä¸€å®šè¦å®ç°Serializableæ¥å£?å®ƒçš„åº•å±‚åŸç†æ˜¯ä»€ä¹ˆ?ä¸ºä»€ä¹ˆä¸€å®šè¦åºåˆ—åŒ–ï¼Œåºåˆ—åŒ–åˆæ˜¯ä»€ä¹ˆ?å…³äºè¿™äº›é—®é¢˜ï¼Œä¸çŸ¥é“å„ä½è¯»è€…æœ‹å‹æœ‰æ²¡æœ‰è¿‡ç±»ä¼¼çš„é—®é¢˜ï¼Œå¦‚æœæœ‰é‚£ä¹ˆæˆ‘ä»¬å°±åœ¨è¿™ç¯‡æ–‡ç« ä¸­ä¸€èµ·å¯»æ‰¾ç­”æ¡ˆå§!å½“ç„¶ï¼Œå¦‚æœä½ å¯¹è¿™äº›é—®é¢˜éƒ½å¾ˆæ¸…æ¥šï¼Œä¹Ÿæ¬¢è¿è¡¨è¾¾çœ‹æ³•!<br><strong>Serializableæ¥å£æ¦‚è¿°</strong></p><p>Serializableæ˜¯java.ioåŒ…ä¸­å®šä¹‰çš„ã€ç”¨äºå®ç°Javaç±»çš„åºåˆ—åŒ–æ“ä½œè€Œæä¾›çš„ä¸€ä¸ªè¯­ä¹‰çº§åˆ«çš„æ¥å£ã€‚Serializableåºåˆ—åŒ–æ¥å£æ²¡æœ‰ä»»ä½•æ–¹æ³•æˆ–è€…å­—æ®µï¼Œåªæ˜¯ç”¨äºæ ‡è¯†å¯åºåˆ—åŒ–çš„è¯­ä¹‰ã€‚å®ç°äº†Serializableæ¥å£çš„ç±»å¯ä»¥è¢«ObjectOutputStreamè½¬æ¢ä¸ºå­—èŠ‚æµï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ObjectInputStreamå†å°†å…¶è§£æä¸ºå¯¹è±¡ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å°†åºåˆ—åŒ–å¯¹è±¡å†™å…¥æ–‡ä»¶åï¼Œå†æ¬¡ä»æ–‡ä»¶ä¸­è¯»å–å®ƒå¹¶ååºåˆ—åŒ–æˆå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥ä½¿ç”¨è¡¨ç¤ºå¯¹è±¡åŠå…¶æ•°æ®çš„ç±»å‹ä¿¡æ¯å’Œå­—èŠ‚åœ¨å†…å­˜ä¸­é‡æ–°åˆ›å»ºå¯¹è±¡ã€‚<br>è€Œè¿™ä¸€ç‚¹å¯¹äºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€æ¥è¯´æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºæ— è®ºä»€ä¹ˆç¼–ç¨‹è¯­è¨€ï¼Œå…¶åº•å±‚æ¶‰åŠIOæ“ä½œçš„éƒ¨åˆ†è¿˜æ˜¯ç”±æ“ä½œç³»ç»Ÿå…¶å¸®å…¶å®Œæˆçš„ï¼Œè€Œåº•å±‚IOæ“ä½œéƒ½æ˜¯ä»¥å­—èŠ‚æµçš„æ–¹å¼è¿›è¡Œçš„ï¼Œæ‰€ä»¥å†™æ“ä½œéƒ½æ¶‰åŠå°†ç¼–ç¨‹è¯­è¨€æ•°æ®ç±»å‹è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œè€Œè¯»æ“ä½œåˆ™åˆæ¶‰åŠå°†å­—èŠ‚æµè½¬åŒ–ä¸ºç¼–ç¨‹è¯­è¨€ç±»å‹çš„ç‰¹å®šæ•°æ®ç±»å‹ã€‚è€ŒJavaä½œä¸ºä¸€é—¨é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯¹è±¡ä½œä¸ºå…¶ä¸»è¦æ•°æ®çš„ç±»å‹è½½ä½“ï¼Œä¸ºäº†å®Œæˆå¯¹è±¡æ•°æ®çš„è¯»å†™æ“ä½œï¼Œä¹Ÿå°±éœ€è¦ä¸€ç§æ–¹å¼æ¥è®©JVMçŸ¥é“åœ¨è¿›è¡ŒIOæ“ä½œæ—¶å¦‚ä½•å°†å¯¹è±¡æ•°æ®è½¬æ¢ä¸ºå­—èŠ‚æµï¼Œä»¥åŠå¦‚ä½•å°†å­—èŠ‚æµæ•°æ®è½¬æ¢ä¸ºç‰¹å®šçš„å¯¹è±¡ï¼Œè€ŒSerializableæ¥å£å°±æ‰¿æ‹…äº†è¿™æ ·ä¸€ä¸ªè§’è‰²ã€‚<br>ä¸‹é¢æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¾‹å­æ¥å®ç°å°†åºåˆ—åŒ–çš„å¯¹è±¡å­˜å‚¨åˆ°æ–‡ä»¶ï¼Œç„¶åå†å°†å…¶ä»æ–‡ä»¶ä¸­ååºåˆ—åŒ–ä¸ºå¯¹è±¡ï¼Œä»£ç ç¤ºä¾‹å¦‚ä¸‹ï¼š<br>å…ˆå®šä¹‰ä¸€ä¸ªåºåˆ—åŒ–å¯¹è±¡Userï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span>     <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>     <span class="token keyword">private</span> <span class="token class-name">String</span> userId<span class="token punctuation">;</span>     <span class="token keyword">private</span> <span class="token class-name">String</span> userName<span class="token punctuation">;</span>     <span class="token keyword">public</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token class-name">String</span> userId<span class="token punctuation">,</span> <span class="token class-name">String</span> userName<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token keyword">this</span><span class="token punctuation">.</span>userId <span class="token operator">=</span> userId<span class="token punctuation">;</span>         <span class="token keyword">this</span><span class="token punctuation">.</span>userName <span class="token operator">=</span> userName<span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç„¶åæˆ‘ä»¬ç¼–å†™æµ‹è¯•ç±»ï¼Œæ¥å¯¹è¯¥å¯¹è±¡è¿›è¡Œè¯»å†™æ“ä½œï¼Œæˆ‘ä»¬å…ˆæµ‹è¯•å°†è¯¥å¯¹è±¡å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SerializableTest</span> <span class="token punctuation">&#123;</span>      <span class="token comment">/**      * å°†Userå¯¹è±¡ä½œä¸ºæ–‡æœ¬å†™å…¥ç£ç›˜      */</span>     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">writeObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">"1001"</span><span class="token punctuation">,</span> <span class="token string">"Joe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>             <span class="token class-name">ObjectOutputStream</span> objectOutputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"/Users/guanliyuan/user.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             objectOutputStream<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>             objectOutputStream<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">&#125;</span>     <span class="token punctuation">&#125;</span>      <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token function">writeObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å°±å°†Userå¯¹è±¡åŠå…¶æºå¸¦çš„æ•°æ®å†™å…¥äº†æ–‡æœ¬user.txtä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹ä¸‹user.txtä¸­å­˜å‚¨çš„æ•°æ®æ­¤æ—¶æ˜¯ä¸ªä»€ä¹ˆæ ¼å¼ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>NotSerializableException</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>User</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectOutputStream</span><span class="token punctuation">.</span><span class="token function">writeObject0</span><span class="token punctuation">(</span><span class="token class-name">ObjectOutputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1184</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectOutputStream</span><span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span><span class="token class-name">ObjectOutputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">348</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>SerializableTest</span><span class="token punctuation">.</span><span class="token function">writeObj</span><span class="token punctuation">(</span><span class="token class-name">SerializableTest</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">19</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>SerializableTest</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">SerializableTest</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">27</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æˆ‘ä»¬çœ‹åˆ°å¯¹è±¡æ•°æ®ä»¥äºŒè¿›åˆ¶æ–‡æœ¬çš„æ–¹å¼è¢«æŒä¹…åŒ–åˆ°äº†ç£ç›˜æ–‡ä»¶ä¸­ã€‚åœ¨è¿›è¡Œååºåˆ—åŒ–æµ‹è¯•ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä¸‹å°†Userå®ç°Serializableæ¥å£çš„ä»£ç éƒ¨åˆ†å»æ‰ï¼Œçœ‹çœ‹æ­¤æ—¶å†™æ“ä½œæ˜¯å¦è¿˜èƒ½æˆåŠŸï¼Œç»“æœå¦‚ä¸‹ï¼š<br>ç»“æœä¸å‡ºæ‰€æ–™ï¼Œæœç„¶æ˜¯ä¸å¯ä»¥çš„ï¼ŒæŠ›å‡ºäº†NotSerializableExceptionå¼‚å¸¸ï¼Œæç¤ºéå¯åºåˆ—åŒ–å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰å®ç°Serializableæ¥å£çš„å¯¹è±¡æ˜¯æ— æ³•é€šè¿‡IOæ“ä½œæŒä¹…åŒ–çš„ã€‚<br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç»§ç»­ç¼–å†™æµ‹è¯•ä»£ç ï¼Œå°è¯•å°†ä¹‹å‰æŒä¹…åŒ–å†™å…¥user.txtæ–‡ä»¶çš„å¯¹è±¡æ•°æ®å†æ¬¡è½¬åŒ–ä¸ºJavaå¯¹è±¡ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SerializableTest</span> <span class="token punctuation">&#123;</span>     <span class="token comment">/**      * å°†ç±»ä»æ–‡æœ¬ä¸­æå–å¹¶èµ‹å€¼ç»™å†…å­˜ä¸­çš„ç±»      */</span>     <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">readObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>             <span class="token class-name">ObjectInputStream</span> objectInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"/Users/guanliyuan/user.txt"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                 <span class="token class-name">Object</span> object <span class="token operator">=</span> objectInputStream<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                 <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> object<span class="token punctuation">;</span>                 <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">ClassNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                 e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>             <span class="token punctuation">&#125;</span>         <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>             e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token punctuation">&#125;</span>     <span class="token punctuation">&#125;</span>       <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span> args<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token function">readObj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é€šè¿‡ååºåˆ—åŒ–æ“ä½œï¼Œå¯ä»¥å†æ¬¡å°†æŒä¹…åŒ–çš„å¯¹è±¡å­—èŠ‚æµæ•°æ®é€šè¿‡IOè½¬åŒ–ä¸ºJavaå¯¹è±¡ï¼Œç»“æœå¦‚ä¸‹ï¼š<br><code>cn.wudimanong.serializable.User@6f496d9fÂ </code><br>æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬å†æ¬¡å°è¯•å°†Userå®ç°Serializableæ¥å£çš„ä»£ç éƒ¨åˆ†å»æ‰ï¼Œå‘ç°ä¹Ÿæ— æ³•å†æ–‡æœ¬è½¬æ¢ä¸ºåºåˆ—åŒ–å¯¹è±¡ï¼ŒæŠ¥é”™ä¿¡æ¯ä¸ºï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>InvalidClassException</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>User</span><span class="token punctuation">;</span> <span class="token keyword">class</span> invalid <span class="token keyword">for</span> deserialization     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectStreamClass</span>$<span class="token class-name">ExceptionInfo</span><span class="token punctuation">.</span><span class="token function">newInvalidClassException</span><span class="token punctuation">(</span><span class="token class-name">ObjectStreamClass</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">157</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectStreamClass</span><span class="token punctuation">.</span><span class="token function">checkDeserialize</span><span class="token punctuation">(</span><span class="token class-name">ObjectStreamClass</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">862</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readOrdinaryObject</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">2038</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readObject0</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1568</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">428</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>SerializableTest</span><span class="token punctuation">.</span><span class="token function">readObj</span><span class="token punctuation">(</span><span class="token class-name">SerializableTest</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">31</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>SerializableTest</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">SerializableTest</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">44</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æç¤ºéæ³•ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œè¯´æ˜åœ¨Javaä¸­å¦‚ä½•è¦å®ç°å¯¹è±¡çš„IOè¯»å†™æ“ä½œï¼Œéƒ½å¿…é¡»å®ç°Serializableæ¥å£ï¼Œå¦åˆ™ä»£ç å°±ä¼šæŠ¥é”™!<br><strong>åºåˆ—åŒ–&amp;ååºåˆ—åŒ–</strong></p><p>é€šè¿‡ä¸Šé¢çš„é˜è¿°å’Œç¤ºä¾‹ï¼Œç›¸ä¿¡å¤§å®¶å¯¹Serializableæ¥å£çš„ä½œç”¨æ˜¯æœ‰äº†æ¯”è¾ƒå…·ä½“çš„ä½“ä¼šäº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸Šå±‚åˆ°ç†è®ºå±‚é¢ï¼Œçœ‹ä¸‹åˆ°åº•ä»€ä¹ˆæ˜¯åºåˆ—åŒ–/ååºåˆ—åŒ–ã€‚åºåˆ—åŒ–æ˜¯æŒ‡æŠŠå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—çš„è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå¯¹è±¡çš„åºåˆ—åŒ–ï¼Œå°±æ˜¯æŠŠå†…å­˜ä¸­çš„è¿™äº›å¯¹è±¡å˜æˆä¸€è¿ä¸²çš„å­—èŠ‚(bytes)æè¿°çš„è¿‡ç¨‹ã€‚<br>è€Œååºåˆ—åŒ–åˆ™ç›¸åï¼Œå°±æ˜¯æŠŠæŒä¹…åŒ–çš„å­—èŠ‚æ–‡ä»¶æ•°æ®æ¢å¤ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ã€‚é‚£ä¹ˆä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åºåˆ—åŒ–å‘¢?å¤§æ¦‚æœ‰è¿™æ ·ä¸¤ç±»æ¯”è¾ƒå¸¸è§çš„åœºæ™¯ï¼š1)ã€éœ€è¦æŠŠå†…å­˜ä¸­çš„å¯¹è±¡çŠ¶æ€æ•°æ®ä¿å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶æˆ–è€…æ•°æ®åº“ä¸­çš„æ—¶å€™ï¼Œè¿™ä¸ªåœºæ™¯æ˜¯æ¯”è¾ƒå¸¸è§çš„ï¼Œä¾‹å¦‚æˆ‘ä»¬åˆ©ç”¨mybatisæ¡†æ¶ç¼–å†™æŒä¹…å±‚insertå¯¹è±¡æ•°æ®åˆ°æ•°æ®åº“ä¸­æ—¶;2)ã€ç½‘ç»œé€šä¿¡æ—¶éœ€è¦ç”¨å¥—æ¥å­—åœ¨ç½‘ç»œä¸­ä¼ é€å¯¹è±¡æ—¶ï¼Œå¦‚æˆ‘ä»¬ä½¿ç”¨RPCåè®®è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶;<br><strong>å…³äºserialVersionUID</strong></p><p>å¯¹äºJVMæ¥è¯´ï¼Œè¦è¿›è¡ŒæŒä¹…åŒ–çš„ç±»å¿…é¡»è¦æœ‰ä¸€ä¸ªæ ‡è®°ï¼Œåªæœ‰æŒæœ‰è¿™ä¸ªæ ‡è®°JVMæ‰å…è®¸ç±»åˆ›å»ºçš„å¯¹è±¡å¯ä»¥é€šè¿‡å…¶IOç³»ç»Ÿè½¬æ¢ä¸ºå­—èŠ‚æ•°æ®ï¼Œä»è€Œå®ç°æŒä¹…åŒ–ï¼Œè€Œè¿™ä¸ªæ ‡è®°å°±æ˜¯Serializableæ¥å£ã€‚è€Œåœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­åˆ™éœ€è¦ä½¿ç”¨serialVersionUIDæ¥ç¡®å®šç”±é‚£ä¸ªç±»æ¥åŠ è½½è¿™ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨å®ç°Serializableæ¥å£çš„æ—¶å€™ï¼Œä¸€èˆ¬è¿˜ä¼šè¦å»å°½é‡æ˜¾ç¤ºåœ°å®šä¹‰serialVersionUIDï¼Œå¦‚ï¼š<br><code>privateÂ staticÂ finalÂ longÂ serialVersionUIDÂ =Â 1L;Â </code><br>åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ¥æ”¶æ–¹ä¸ºå¯¹è±¡åŠ è½½äº†ä¸€ä¸ªç±»ï¼Œå¦‚æœè¯¥å¯¹è±¡çš„serialVersionUIDä¸å¯¹åº”æŒä¹…åŒ–æ—¶çš„ç±»ä¸åŒï¼Œé‚£ä¹ˆååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­å°†ä¼šå¯¼è‡´InvalidClassExceptionå¼‚å¸¸ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¹‹å‰ååºåˆ—åŒ–çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æ•…æ„å°†Userç±»çš„serialVersionUIDæ”¹ä¸º2Lï¼Œå¦‚ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>InvalidClassException</span><span class="token operator">:</span> <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>User</span><span class="token punctuation">;</span> local <span class="token keyword">class</span> incompatible<span class="token operator">:</span> stream classdesc serialVersionUID <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> local <span class="token keyword">class</span> serialVersionUID <span class="token operator">=</span> <span class="token number">2</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectStreamClass</span><span class="token punctuation">.</span><span class="token function">initNonProxy</span><span class="token punctuation">(</span><span class="token class-name">ObjectStreamClass</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">687</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readNonProxyDesc</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1880</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readClassDesc</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1746</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readOrdinaryObject</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">2037</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readObject0</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">1568</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>ObjectInputStream</span><span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token class-name">ObjectInputStream</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">428</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>SerializableTest</span><span class="token punctuation">.</span><span class="token function">readObj</span><span class="token punctuation">(</span><span class="token class-name">SerializableTest</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">31</span><span class="token punctuation">)</span>     at <span class="token class-name"><span class="token namespace">cn<span class="token punctuation">.</span>wudimanong<span class="token punctuation">.</span>serializable<span class="token punctuation">.</span></span>SerializableTest</span><span class="token punctuation">.</span><span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">SerializableTest</span><span class="token punctuation">.</span>java<span class="token operator">:</span><span class="token number">44</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¦‚æœæˆ‘ä»¬åœ¨åºåˆ—åŒ–ä¸­æ²¡æœ‰æ˜¾ç¤ºåœ°å£°æ˜serialVersionUIDï¼Œåˆ™åºåˆ—åŒ–è¿è¡Œæ—¶å°†ä¼šæ ¹æ®è¯¥ç±»çš„å„ä¸ªæ–¹é¢è®¡ç®—è¯¥ç±»é»˜è®¤çš„serialVersionUIDå€¼ã€‚ä½†æ˜¯ï¼ŒJavaå®˜æ–¹å¼ºçƒˆå»ºè®®æ‰€æœ‰è¦åºåˆ—åŒ–çš„ç±»éƒ½æ˜¾ç¤ºåœ°å£°æ˜serialVersionUIDå­—æ®µï¼Œå› ä¸ºå¦‚æœé«˜åº¦ä¾èµ–äºJVMé»˜è®¤ç”ŸæˆserialVersionUIDï¼Œå¯èƒ½ä¼šå¯¼è‡´å…¶ä¸ç¼–è¯‘å™¨çš„å®ç°ç»†èŠ‚è€¦åˆï¼Œè¿™æ ·å¯èƒ½ä¼šå¯¼è‡´åœ¨ååºåˆ—åŒ–çš„è¿‡ç¨‹ä¸­å‘ç”Ÿæ„å¤–çš„InvalidClassExceptionå¼‚å¸¸ã€‚å› æ­¤ï¼Œä¸ºäº†ä¿è¯è·¨ä¸åŒJavaç¼–è¯‘å™¨å®ç°çš„serialVersionUIDå€¼çš„ä¸€è‡´ï¼Œå®ç°Serializableæ¥å£çš„å¿…é¡»æ˜¾ç¤ºåœ°å£°æ˜serialVersionUIDå­—æ®µã€‚<br>æ­¤å¤–serialVersionUIDå­—æ®µåœ°å£°æ˜è¦å°½å¯èƒ½ä½¿ç”¨privateå…³é”®å­—ä¿®é¥°ï¼Œè¿™æ˜¯å› ä¸ºè¯¥å­—æ®µçš„å£°æ˜åªé€‚ç”¨äºå£°æ˜çš„ç±»ï¼Œè¯¥å­—æ®µä½œä¸ºæˆå‘˜å˜é‡è¢«å­ç±»ç»§æ‰¿æ˜¯æ²¡æœ‰ç”¨å¤„çš„!æœ‰ä¸ªç‰¹æ®Šçš„åœ°æ–¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ•°ç»„ç±»æ˜¯ä¸èƒ½æ˜¾ç¤ºåœ°å£°æ˜serialVersionUIDçš„ï¼Œå› ä¸ºå®ƒä»¬å§‹ç»ˆå…·æœ‰é»˜è®¤è®¡ç®—çš„å€¼ï¼Œä¸è¿‡æ•°ç»„ç±»ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯æ”¾å¼ƒäº†åŒ¹é…serialVersionUIDå€¼çš„è¦æ±‚ã€‚<br>å‚è€ƒèµ„æ–™ï¼š<br><a href="https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true">https://docs.oracle.com/javase/8/docs/api/java/io/Serializable.html?is-external=true</a><br><a href="http://www.tutorialspoint.com/java/java_serialization.htm">http://www.tutorialspoint.com/java/java_serialization.htm</a><br><a href="https://www.51cto.com/article/596334.html">https://www.51cto.com/article/596334.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> åºåˆ—åŒ– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springboot åç«¯ç»Ÿä¸€è¿”å›æ•°æ®æ ¼å¼ï¼Œå¼‚å¸¸ç»Ÿä¸€å¤„ç†ï¼ˆå…¨å±€å¼‚å¸¸å¤„ç†å™¨ï¼‰</title>
      <link href="/20220927111806/"/>
      <url>/20220927111806/</url>
      
        <content type="html"><![CDATA[<h1>springboot åç«¯ç»Ÿä¸€è¿”å›æ•°æ®æ ¼å¼ï¼Œå¼‚å¸¸ç»Ÿä¸€å¤„ç†</h1><h2 id="æ¨¡æ¿">æ¨¡æ¿</h2><h2 id="åœºæ™¯ï¼š">åœºæ™¯ï¼š</h2><ul><li>åç«¯ç»™å‰ç«¯çš„æ•°æ®ç±»å‹å¯èƒ½ä¼šæ˜¯åŸºæœ¬æ•°æ®ç±»å‹ã€Stringå­—ç¬¦ä¸²ã€å¯¹è±¡ã€æ•°ç»„ã€æˆ–è€…å¼‚å¸¸æç¤ºç­‰ã€‚å‰ç«¯æ‹¿åˆ°ä½ è¿”å›çš„æ•°æ®å»å±•ç¤ºæˆ–è€…ç»™å‡ºé”™è¯¯æç¤ºï¼Œä½†ä»–ä¸å¯èƒ½è¯´æ¯ä¸ªæ¥å£éƒ½æŠŠè¿™äº›å¼‚å¸¸æç¤ºå¤„ç†ä¸€éï¼Œæ¯”å¦‚è¯´è¿”å›æ²¡æœ‰ç™»å½•ã€æˆ–è€…ä¸€äº›ä¸šåŠ¡å¼‚å¸¸ç­‰ã€‚</li></ul><h2 id="åˆ†æï¼š">åˆ†æï¼š</h2><ul><li>åŸºäºä¸Šé¢åœºæ™¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨åç«¯è¿”å›ç»“æœå‰åšä¸€å±‚ç»Ÿä¸€å¤„ç†ã€‚è¿”å›ä¸€ä¸ªç»Ÿä¸€çš„å¯¹è±¡ï¼Œå¦‚ResponseVOï¼Œæœ‰codeã€msgã€dataï¼›å‰ç«¯æ ¹æ®è¿”å›çš„codeåšç»Ÿä¸€å¤„ç†<ul><li>code=0ï¼Œè¿”å›æˆåŠŸï¼Œè¿”å›æ•°æ®åœ¨dataä¸Š</li><li>code=1æˆ–å…¶ä»–ï¼Œåç«¯å¼‚å¸¸è¿”å›ï¼Œå¯èƒ½æ˜¯ä¸šåŠ¡å¼‚å¸¸ï¼Œä¹Ÿå¯èƒ½æ˜¯ç¨‹åºå¼‚å¸¸ï¼Œé”™è¯¯ä¿¡æ¯æ”¾åœ¨msgä¸Š</li></ul></li><li>å¦‚æœæœªç™»å…¥ï¼Œåç«¯è¿”å›403ï¼Œè¿™æ—¶å€™å‰ç«¯åœ¨è°ƒç”¨åç«¯æ¥å£è¿”å›é‚£é‡Œæ ¹æ®é”™è¯¯ç å»åšç»Ÿä¸€çš„å¤„ç†ï¼Œç»Ÿä¸€æç¤ºæˆ–å…¶ä»–ã€‚æˆåŠŸçš„è¯å°±æŠŠè¿”å›çš„æ•°æ®dataç»™å¯¹åº”è°ƒç”¨æ–¹æ³•é‚£é‡Œã€‚</li></ul><h2 id="å®ç°ï¼š">å®ç°ï¼š</h2><h3 id="åˆçº§ç‰ˆï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªmapï¼Œç„¶åé€šè¿‡mapæŠŠcodeã€msgã€data-æ”¾è¿›å»">åˆçº§ç‰ˆï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªmapï¼Œç„¶åé€šè¿‡mapæŠŠcodeã€msgã€data æ”¾è¿›å»</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/test"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"code"</span><span class="token punctuation">,</span><span class="token string">"0"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span><span class="token string">"æµ‹è¯•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> map<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿”å›ç»“æœï¼š<br><img src="https://cdn.nlark.com/yuque/0/2022/png/22938993/1664266413210-39dfa412-3739-4a7e-b438-93d35edea00c.png#clientId=u2b011796-65b5-4&amp;from=paste&amp;height=99&amp;id=u1aaccbce&amp;originHeight=197&amp;originWidth=512&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14383&amp;status=done&amp;style=none&amp;taskId=u59e8dc8a-219c-42d2-80f3-5b22ff2eaf1&amp;title=&amp;width=256" alt="" loading="lazy"></p><ul><li>ä¸Šé¢å›¾ç‰‡æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ»¡è¶³äº†æˆ‘ä»¬çš„éœ€æ±‚ï¼Œè¿”å›äº†codeã€msgã€è¿˜æœ‰æˆ‘ä»¬çš„æ•°æ®dataã€‚</li><li>ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œæˆ‘ä»¬æ¯ä¸ªæ–¹æ³•éƒ½è¦å†™ä¸€émapï¼ŒæŠŠè¿™äº›æ•°æ®æ”¾è¿›å»æ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦å‘¢ï¼Œåœ¨ä¸Šé¢èŠ±è¿™ä¹ˆå¤šæ—¶é—´å»å†™è¿™ä¸ªè¿˜æ€ä¹ˆæ‘¸é±¼å‘¢ï¼Œå› æ­¤æˆ‘ä»¬å°å°çš„ä¼˜åŒ–ä¸€ä¸‹å°±æœ‰äº†æˆ‘ä»¬çš„è¿›é˜¶ç‰ˆ</li></ul><h3 id="è¿›é˜¶ç‰ˆï¼Œç»Ÿä¸€å°è£…ï¼šå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„è¿”å›å¯¹è±¡ResponseVO-ï¼Œåœ¨ResponseVO-é‡Œå†™æˆåŠŸå’Œå¤±è´¥çš„æ–¹æ³•">è¿›é˜¶ç‰ˆï¼Œç»Ÿä¸€å°è£…ï¼šå®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„è¿”å›å¯¹è±¡ResponseVO ï¼Œåœ¨ResponseVO é‡Œå†™æˆåŠŸå’Œå¤±è´¥çš„æ–¹æ³•</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseVO</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span><span class="token comment">/**    * å“åº”çŠ¶æ€ç ï¼Œ0-æˆåŠŸï¼Œé0-å¤±è´¥    */</span>   <span class="token keyword">private</span> <span class="token class-name">Integer</span> code <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   <span class="token comment">/**    * è¿”å›ç»“æœè¯´æ˜    */</span>   <span class="token keyword">private</span> <span class="token class-name">String</span> msg <span class="token operator">=</span> <span class="token string">"æˆåŠŸ"</span><span class="token punctuation">;</span>   <span class="token comment">/**    * JSONæ ¼å¼å“åº”æ•°æ®ï¼šå®ä½“ç±»æ•°æ®    */</span>   <span class="token keyword">private</span> <span class="token class-name">Object</span> data<span class="token punctuation">;</span>   <span class="token comment">/**    * è¿”å›æˆåŠŸ    * @param data    * @return    */</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ResponseVO</span> <span class="token function">success</span><span class="token punctuation">(</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>   <span class="token class-name">ResponseVO</span> response <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseVO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   response<span class="token punctuation">.</span><span class="token function">setCode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   response<span class="token punctuation">.</span><span class="token function">setMsg</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   response<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token keyword">return</span> response<span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è¿™æ—¶å€™åœ¨controllerè°ƒç”¨å°±å˜æˆäº†ä¸‹é¢è¿™æ ·ï¼Œæ˜¯ä¸æ˜¯ç®€æ´å¤šäº†å‘¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/test1"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">ResponseVO</span> <span class="token function">test1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">ResponseVO</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">"æµ‹è¯•1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ç°åœ¨è™½ç„¶ç®€æ´å¤šäº†ï¼Œä½†æ˜¯è¿˜æ˜¯åœ¨æ¯ä¸ªæ–¹æ³•ä¸Šéƒ½è¦å†™ResponseVO.success(ï¼‰æˆ–è€…ResponseVO.fail()ï¼Œè€Œä¸”æ¯ä¸ªæ–¹æ³•çš„è¿”å›å€¼éƒ½å˜æˆäº†ResponseVOï¼Œæˆ‘ä»¬éƒ½ä¸çŸ¥é“ä»–ä»¬çš„æ„ä¹‰äº†ï¼Œé‚£æœ‰æ²¡æœ‰ç»Ÿä¸€å¤„ç†çš„å‘¢ï¼Œå°±æ˜¯æˆ‘è¯¥è¿”å›å•¥å°±è¿”å›å•¥ï¼Œcontrollerå±‚ä¸ç”¨å…³å¿ƒè¿™äº›ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯æœ‰çš„ï¼Œå› æ­¤å°±æœ‰äº†ä¸‹é¢çš„æœ€ç»ˆç‰ˆæ–¹æ¡ˆã€‚</li></ul><h3 id="æœ€ç»ˆç‰ˆï¼ŒResponseBodyAdvice">æœ€ç»ˆç‰ˆï¼ŒResponseBodyAdvice</h3><ul><li>æ¥ä¸‹æ¥å°±è¦ç”¨åˆ°ResponseBodyAdviceï¼Œä»å­—é¢æ„æ€ç†è§£å®ƒçš„æ„æ€å°±æ˜¯è¿”å›ä½“<strong>åˆ‡é¢</strong>ï¼Œå°±æ˜¯å¯¹Controllerè¿”å›çš„æ•°æ®è¿›è¡Œç»Ÿä¸€å¤„ç†ï¼Œå› æ­¤æˆ‘ä»¬åªè¦å®ç°è¿™ä¸ªæ¥å£ï¼Œåœ¨ä¸Šé¢åšç»Ÿä¸€å¤„ç†å³å¯ï¼Œä»–æœ‰ä¸¤ä¸ªæ¥å£ï¼Œæˆ‘ä»¬åªéœ€åœ¨beforeBodyWriteæ–¹æ³•å¤„ç†å°±å¯ä»¥äº†ï¼Œå”¯ä¸€è¦æ³¨æ„çš„å°±æ˜¯å½“è¿”å›Stringç±»å‹æ—¶è¦ç‰¹æ®Šå¤„ç†ï¼Œä¸ç„¶ä¼šæŠ¥è½¬æ¢é”™è¯¯ã€‚ç»Ÿä¸€å°è£…åå°±ä¸ç”¨å»å…³å¿ƒè¿”å›ç±»å‹äº†ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestControllerAdvice</span>    <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseHandler</span> <span class="token keyword">implements</span> <span class="token class-name">ResponseBodyAdvice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>        <span class="token keyword">private</span> <span class="token class-name">Log</span> log <span class="token operator">=</span> <span class="token class-name">LogFactory</span><span class="token punctuation">.</span><span class="token function">getLog</span><span class="token punctuation">(</span><span class="token class-name">ResponseHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">MethodParameter</span> returnType<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">HttpMessageConverter</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> converterType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token annotation punctuation">@Override</span>        <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">beforeBodyWrite</span><span class="token punctuation">(</span><span class="token class-name">Object</span> body<span class="token punctuation">,</span> <span class="token class-name">MethodParameter</span> returnType<span class="token punctuation">,</span> <span class="token class-name">MediaType</span> selectedContentType<span class="token punctuation">,</span>                                      <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">HttpMessageConverter</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> selectedConverterType<span class="token punctuation">,</span> <span class="token class-name">ServerHttpRequest</span> request<span class="token punctuation">,</span>                                      <span class="token class-name">ServerHttpResponse</span> response<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">ResponseVO</span> respVo <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>body <span class="token keyword">instanceof</span> <span class="token class-name">ResponseVO</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                respVo <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">ResponseVO</span><span class="token punctuation">)</span> body<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                respVo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResponseVO</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                respVo<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>body<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å¦‚æœè¿”å›çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œä¼šå…ˆåˆ¤æ–­HttpMessageConverterèƒ½å¦æ”¯æŒå¯¹åº”çš„è¿”å›ç±»å‹å†ä½¿ç”¨ResponseBodyAdviceè¿›è¡Œå°è£…</span>            <span class="token comment">//é‚£ä¹ˆæ­¤æ—¶åœ¨è¿›æ¥å°±ä¸æ˜¯Stringç±»å‹ï¼Œæ‰€ä»¥ä¼šæŠ¥æ— æ³•è½¬æ¢æˆResponseVOå¯¹è±¡,é‚£ä¹ˆè¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯ç›´æ¥è¿”å›jsonå­—ç¬¦ä¸²ï¼Œå¦ä¸€ç§æ˜¯</span>            <span class="token comment">//ä¸€ç§æ˜¯è‡ªå·±çš„WebConfigè¿›è¡Œé¢å¤–çš„é…ç½®</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>body <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token class-name">JSONUtil</span><span class="token punctuation">.</span><span class="token function">toJsonStr</span><span class="token punctuation">(</span>respVo<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> respVo<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é—®é¢˜1ã€å‡å¦‚æœ‰ä¸ªæ¥å£ç‰¹æ®Šï¼Œä¸éœ€è¦è¿™ä¸ªè¿”å›è¿™ä¸ªæ ¼å¼æ€ä¹ˆåŠå‘¢ï¼Ÿ">é—®é¢˜1ã€å‡å¦‚æœ‰ä¸ªæ¥å£ç‰¹æ®Šï¼Œä¸éœ€è¦è¿™ä¸ªè¿”å›è¿™ä¸ªæ ¼å¼æ€ä¹ˆåŠå‘¢ï¼Ÿ</h3><ul><li>æˆ‘ä»¬å¯ä»¥ç”¨åˆ°ResponseBodyAdviceæ¥å£çš„å¦ä¸€ä¸ªæ–¹æ³•ï¼Œè®©ä½ çš„æ–¹æ³•è¿”å›å€¼ä¸èµ°è¿™ä¸ªç»Ÿä¸€è¿”å›æ ¼å¼å¤„ç†ï¼Œæœ€å¥½çš„æ–¹å¼å°±æ˜¯å®šä¸€ä¸ªæ³¨è§£ï¼Œåœ¨éœ€è¦å¿½ç•¥çš„æ–¹æ³•ä¸ŠåŠ ä¸Šè¿™ä¸ªæ³¨è§£ï¼Œå®ç°æ–¹å¼å¦‚ä¸‹</li></ul><ol><li>å®šä¹‰æ³¨è§£IgnoreResponseHandler</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Documented</span><span class="token annotation punctuation">@Inherited</span><span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">ANNOTATION_TYPE</span><span class="token punctuation">,</span> <span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">METHOD</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">IgnoreResponseHandler</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>åœ¨ResponseBodyAdviceçš„supportsæ–¹æ³•å¿½ç•¥</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestControllerAdvice</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResponseHandler</span> <span class="token keyword">implements</span> <span class="token class-name">ResponseBodyAdvice</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span> <span class="token class-name">Log</span> log <span class="token operator">=</span> <span class="token class-name">LogFactory</span><span class="token punctuation">.</span><span class="token function">getLog</span><span class="token punctuation">(</span><span class="token class-name">ResponseHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">supports</span><span class="token punctuation">(</span><span class="token class-name">MethodParameter</span> returnType<span class="token punctuation">,</span> <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">HttpMessageConverter</span><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span><span class="token punctuation">></span></span> converterType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token operator">!</span>returnType<span class="token punctuation">.</span><span class="token function">hasMethodAnnotation</span><span class="token punctuation">(</span><span class="token class-name">IgnoreResponseHandler</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ä½¿ç”¨ï¼Œè¿”å›ç»“æœï¼Œè¿™æ ·å°±å¿½ç•¥æ‰äº†</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/test5"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@IgnoreResponseHandler</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">test5</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"æµ‹è¯•1"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://www.cnblogs.com/ds521/p/16262706.html">https://www.cnblogs.com/ds521/p/16262706.html</a></p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Swaggeræ³¨è§£</title>
      <link href="/20220628111124/"/>
      <url>/20220628111124/</url>
      
        <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/jiangyu1013/article/details/83107255">https://blog.csdn.net/jiangyu1013/article/details/83107255</a><br><a href="https://www.cnblogs.com/h-c-g/p/11004020.html">https://www.cnblogs.com/h-c-g/p/11004020.html</a></p><h3 id="Swagger2-JSONå…¥å‚ä½¿ç”¨Mapã€JSONObjectç­‰éå®ä½“ç±»æ¥æ”¶æ—¶çš„å¤„ç†">Swagger2 JSONå…¥å‚ä½¿ç”¨Mapã€JSONObjectç­‰éå®ä½“ç±»æ¥æ”¶æ—¶çš„å¤„ç†</h3><p><a href="https://blog.csdn.net/x11819130/article/details/111608470">https://blog.csdn.net/x11819130/article/details/111608470</a><br>knife4jå®˜æ–¹æ–‡æ¡£ï¼š<br>åŠ¨æ€è¯·æ±‚å‚æ•°æ·»åŠ æ–‡æ¡£æ³¨é‡Š<br><a href="https://doc.xiaominfo.com/knife4j/documentation/dynamicRequestDescription.html">https://doc.xiaominfo.com/knife4j/documentation/dynamicRequestDescription.html</a></p><blockquote><p>éœ€è¦ä¸æ˜¾ç¤ºparamä¸ºå‚æ•°æ—¶å¯ä»¥ä½¿ç”¨@ApiIgnoreæ³¨è§£</p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@AutoLog</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"webé¦–é¡µ-åœ°å›¾æ˜¾ç¤ºæŒ‰è¡Œæ”¿åŒºåˆ’"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">"webé¦–é¡µ-åœ°å›¾æ˜¾ç¤ºæŒ‰è¡Œæ”¿åŒºåˆ’"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ApiImplicitParams</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"orgType"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"è¡Œæ”¿ç­‰çº§"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"String"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"header"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"X-Access-Token"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"tokenæ ‡è®°"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"String"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"firstFacilitiesId"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"ä¸€çº§è®¾æ–½id"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"String"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"åŒºåŸŸid"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"String"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"leftLongitude"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"åœ°å›¾å·¦ä¸‹ç»åº¦"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"decimal"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"leftLatitude"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"åœ°å›¾å·¦ä¸‹çº¬åº¦"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"decimal"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"rightLongitude"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"åœ°å›¾å³ä¸Šç»åº¦"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"decimal"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>paramType <span class="token operator">=</span> <span class="token string">"query"</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">"rightLatitude"</span><span class="token punctuation">,</span>value <span class="token operator">=</span><span class="token string">"åœ°å›¾å³ä¸Šçº¬åº¦"</span><span class="token punctuation">,</span>dataType <span class="token operator">=</span><span class="token string">"decimal"</span><span class="token punctuation">)</span>         <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/circleCountByOrgType"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Result</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">></span></span> <span class="token function">circleCountByOrgType</span><span class="token punctuation">(</span>        <span class="token annotation punctuation">@ApiIgnore</span> <span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">Map</span> param<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span>mapList<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>@ApiImplicitParamï¼š<br>ä½œç”¨åœ¨æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºå•ç‹¬çš„è¯·æ±‚å‚æ•°<br>å‚æ•°ï¼š</p><ol><li>name ï¼šå‚æ•°åã€‚</li><li>value ï¼š å‚æ•°çš„å…·ä½“æ„ä¹‰ï¼Œä½œç”¨ã€‚</li><li>required ï¼š å‚æ•°æ˜¯å¦å¿…å¡«ã€‚</li><li>dataType ï¼šå‚æ•°çš„æ•°æ®ç±»å‹ã€‚</li><li>paramType ï¼šæŸ¥è¯¢å‚æ•°ç±»å‹ï¼Œè¿™é‡Œæœ‰å‡ ç§å½¢å¼ï¼š<ul><li>paramType ç±»å‹ ä½œç”¨<ol><li>path ä»¥åœ°å€çš„å½¢å¼æäº¤æ•°æ®</li><li>query ç›´æ¥è·Ÿå‚æ•°å®Œæˆè‡ªåŠ¨æ˜ å°„èµ‹å€¼</li><li>body ä»¥æµçš„å½¢å¼æäº¤ ä»…æ”¯æŒPOST</li><li>header å‚æ•°åœ¨request headers é‡Œè¾¹æäº¤</li><li>form ä»¥formè¡¨å•çš„å½¢å¼æäº¤ ä»…æ”¯æŒPOST</li></ol></li></ul></li></ol></blockquote><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307202311456.png" alt="" loading="lazy"></p><p>@ApiImplicitParamsï¼š<br>ç”¨äºæ–¹æ³•ï¼ŒåŒ…å«å¤šä¸ª @ApiImplicitParamï¼š<br>ä¾‹ï¼š<br>@ApiOperation(â€œæŸ¥è¯¢æµ‹è¯•â€)<br>@GetMapping(â€œselectâ€)<br>//@ApiImplicitParam(name=â€œnameâ€,value=â€œç”¨æˆ·åâ€,dataType=â€œStringâ€, paramType = â€œqueryâ€)<br>@ApiImplicitParams({<br>@ApiImplicitParam(name=â€œnameâ€,value=â€œç”¨æˆ·åâ€,dataType=â€œstringâ€, paramType = â€œqueryâ€,example=â€œxingguoâ€),<br>@ApiImplicitParam(name=â€œidâ€,value=â€œç”¨æˆ·idâ€,dataType=â€œlongâ€, paramType = â€œqueryâ€)})<br>public void select(){<br>}</p><p>å…¶ä»–æ³¨è§£ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Api</span>ï¼šç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¡¨ç¤ºå¯¹ç±»çš„è¯´æ˜tags<span class="token operator">=</span><span class="token string">"è¯´æ˜è¯¥ç±»çš„ä½œç”¨ï¼Œå¯ä»¥åœ¨UIç•Œé¢ä¸Šçœ‹åˆ°çš„æ³¨è§£"</span>    value<span class="token operator">=</span><span class="token string">"è¯¥å‚æ•°æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œåœ¨UIç•Œé¢ä¸Šä¹Ÿçœ‹åˆ°ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®"</span>            <span class="token annotation punctuation">@ApiOperation</span>ï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨    value<span class="token operator">=</span><span class="token string">"è¯´æ˜æ–¹æ³•çš„ç”¨é€”ã€ä½œç”¨"</span>    notes<span class="token operator">=</span><span class="token string">"æ–¹æ³•çš„å¤‡æ³¨è¯´æ˜"</span>            <span class="token annotation punctuation">@ApiImplicitParams</span>ï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å‚æ•°è¯´æ˜    <span class="token annotation punctuation">@ApiImplicitParam</span>ï¼šç”¨åœ¨<span class="token annotation punctuation">@ApiImplicitParams</span>æ³¨è§£ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªè¯·æ±‚å‚æ•°çš„å„ä¸ªæ–¹é¢    nameï¼šå‚æ•°å    valueï¼šå‚æ•°çš„æ±‰å­—è¯´æ˜ã€è§£é‡Š    requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼     paramTypeï¼šå‚æ•°æ”¾åœ¨å“ªä¸ªåœ°æ–¹    Â· header <span class="token operator">--</span><span class="token operator">></span> è¯·æ±‚å‚æ•°çš„è·å–ï¼š<span class="token annotation punctuation">@RequestHeader</span>    Â· query <span class="token operator">--</span><span class="token operator">></span> è¯·æ±‚å‚æ•°çš„è·å–ï¼š<span class="token annotation punctuation">@RequestParam</span>    Â· pathï¼ˆç”¨äºrestfulæ¥å£ï¼‰<span class="token operator">--</span><span class="token operator">></span> è¯·æ±‚å‚æ•°çš„è·å–ï¼š<span class="token annotation punctuation">@PathVariable</span>    Â· bodyï¼ˆä¸å¸¸ç”¨ï¼‰    Â· formï¼ˆä¸å¸¸ç”¨ï¼‰        dataTypeï¼šå‚æ•°ç±»å‹ï¼Œé»˜è®¤<span class="token class-name">String</span>ï¼Œå…¶å®ƒå€¼dataType<span class="token operator">=</span><span class="token string">"Integer"</span>           defaultValueï¼šå‚æ•°çš„é»˜è®¤å€¼            <span class="token annotation punctuation">@ApiResponses</span>ï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº”    <span class="token annotation punctuation">@ApiResponse</span>ï¼šç”¨åœ¨<span class="token annotation punctuation">@ApiResponses</span>ä¸­ï¼Œä¸€èˆ¬ç”¨äºè¡¨è¾¾ä¸€ä¸ªé”™è¯¯çš„å“åº”ä¿¡æ¯    codeï¼šæ•°å­—ï¼Œä¾‹å¦‚<span class="token number">400</span>    messageï¼šä¿¡æ¯ï¼Œä¾‹å¦‚<span class="token string">"è¯·æ±‚å‚æ•°æ²¡å¡«å¥½"</span>    responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±»            <span class="token annotation punctuation">@ApiModel</span>ï¼šç”¨äºå“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯    ï¼ˆè¿™ç§ä¸€èˆ¬ç”¨åœ¨poståˆ›å»ºçš„æ—¶å€™ï¼Œä½¿ç”¨<span class="token annotation punctuation">@RequestBody</span>è¿™æ ·çš„åœºæ™¯ï¼Œ    è¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨<span class="token annotation punctuation">@ApiImplicitParam</span>æ³¨è§£è¿›è¡Œæè¿°çš„æ—¶å€™ï¼‰    <span class="token annotation punctuation">@ApiModelProperty</span>ï¼šç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å“åº”ç±»çš„å±æ€§<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>1ã€@Apiï¼šç”¨åœ¨è¯·æ±‚çš„ç±»ä¸Šï¼Œè¯´æ˜è¯¥ç±»çš„ä½œç”¨<br>tags=â€œè¯´æ˜è¯¥ç±»çš„ä½œç”¨â€<br>value=â€œè¯¥å‚æ•°æ²¡ä»€ä¹ˆæ„ä¹‰ï¼Œæ‰€ä»¥ä¸éœ€è¦é…ç½®â€<br>ç¤ºä¾‹ï¼š<br>@Api(tags=â€œAPPç”¨æˆ·æ³¨å†ŒControllerâ€)<br>2ã€@ApiOperationï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ä½œç”¨<br>@ApiOperationï¼šâ€œç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¯´æ˜æ–¹æ³•çš„ä½œç”¨â€<br>value=â€œè¯´æ˜æ–¹æ³•çš„ä½œç”¨â€<br>notes=â€œæ–¹æ³•çš„å¤‡æ³¨è¯´æ˜â€<br>ç¤ºä¾‹ï¼š<br>@ApiOperation(value=â€œç”¨æˆ·æ³¨å†Œâ€,notes=â€œæ‰‹æœºå·ã€å¯†ç éƒ½æ˜¯å¿…è¾“é¡¹ï¼Œå¹´é¾„éšè¾¹å¡«ï¼Œä½†å¿…é¡»æ˜¯æ•°å­—â€)<br>3ã€@ApiImplicitParamsï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼ŒåŒ…å«ä¸€ç»„å‚æ•°è¯´æ˜<br>@ApiImplicitParamsï¼šç”¨åœ¨è¯·æ±‚çš„æ–¹æ³•ä¸Šï¼ŒåŒ…å«ä¸€ç»„å‚æ•°è¯´æ˜<br>@ApiImplicitParamï¼šç”¨åœ¨ @ApiImplicitParams æ³¨è§£ä¸­ï¼ŒæŒ‡å®šä¸€ä¸ªè¯·æ±‚å‚æ•°çš„é…ç½®ä¿¡æ¯<br>nameï¼šå‚æ•°å<br>valueï¼šå‚æ•°çš„æ±‰å­—è¯´æ˜ã€è§£é‡Š<br>requiredï¼šå‚æ•°æ˜¯å¦å¿…é¡»ä¼ <br>paramTypeï¼šå‚æ•°æ”¾åœ¨å“ªä¸ªåœ°æ–¹<br>Â· header --&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestHeader<br>Â· query --&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@RequestParam<br>Â· pathï¼ˆç”¨äºrestfulæ¥å£ï¼‰â€“&gt; è¯·æ±‚å‚æ•°çš„è·å–ï¼š@PathVariable<br>Â· bodyï¼ˆä¸å¸¸ç”¨ï¼‰<br>Â· formï¼ˆä¸å¸¸ç”¨ï¼‰<br>dataTypeï¼šå‚æ•°ç±»å‹ï¼Œé»˜è®¤Stringï¼Œå…¶å®ƒå€¼dataType=â€œIntegerâ€<br>defaultValueï¼šå‚æ•°çš„é»˜è®¤å€¼<br>ç¤ºåˆ—ï¼š<br>@ApiImplicitParams({Â  Â  @ApiImplicitParam(name=â€œmobileâ€,value=â€œæ‰‹æœºå·â€,required=true,paramType=â€œformâ€),Â  Â  @ApiImplicitParam(name=â€œpasswordâ€,value=â€œå¯†ç â€,required=true,paramType=â€œformâ€),Â  Â  @ApiImplicitParam(name=â€œageâ€,value=â€œå¹´é¾„â€,required=true,paramType=â€œformâ€,dataType=â€œIntegerâ€)})<br>4ã€@ApiResponsesï¼šç”¨äºè¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº”<br>@ApiResponsesï¼šç”¨äºè¯·æ±‚çš„æ–¹æ³•ä¸Šï¼Œè¡¨ç¤ºä¸€ç»„å“åº”<br>@ApiResponseï¼šç”¨åœ¨@ApiResponsesä¸­ï¼Œä¸€èˆ¬ç”¨äºè¡¨è¾¾ä¸€ä¸ªé”™è¯¯çš„å“åº”ä¿¡æ¯<br>codeï¼šæ•°å­—ï¼Œä¾‹å¦‚400<br>messageï¼šä¿¡æ¯ï¼Œä¾‹å¦‚&quot;è¯·æ±‚å‚æ•°æ²¡å¡«å¥½&quot;<br>responseï¼šæŠ›å‡ºå¼‚å¸¸çš„ç±»<br>ç¤ºä¾‹ï¼š<br>@ApiOperation(value = â€œselect1è¯·æ±‚â€,notes = â€œå¤šä¸ªå‚æ•°ï¼Œå¤šç§çš„æŸ¥è¯¢å‚æ•°ç±»å‹â€)@ApiResponses({Â  Â  @ApiResponse(code=400,message=â€œè¯·æ±‚å‚æ•°æ²¡å¡«å¥½â€),Â  Â  @ApiResponse(code=404,message=â€œè¯·æ±‚è·¯å¾„æ²¡æœ‰æˆ–é¡µé¢è·³è½¬è·¯å¾„ä¸å¯¹â€)})</p><p>5ã€@ApiModelï¼šç”¨äºå“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯<br>@ApiModelï¼šç”¨äºå“åº”ç±»ä¸Šï¼Œè¡¨ç¤ºä¸€ä¸ªè¿”å›å“åº”æ•°æ®çš„ä¿¡æ¯<br>ï¼ˆè¿™ç§ä¸€èˆ¬ç”¨åœ¨poståˆ›å»ºçš„æ—¶å€™ï¼Œä½¿ç”¨@RequestBodyè¿™æ ·çš„åœºæ™¯ï¼Œ<br>è¯·æ±‚å‚æ•°æ— æ³•ä½¿ç”¨@ApiImplicitParamæ³¨è§£è¿›è¡Œæè¿°çš„æ—¶å€™ï¼‰<br>@ApiModelPropertyï¼šç”¨åœ¨å±æ€§ä¸Šï¼Œæè¿°å“åº”ç±»çš„å±æ€§</p><p>ç¤ºä¾‹:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModel</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModelProperty</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">Serializable</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@ApiModel</span><span class="token punctuation">(</span>description<span class="token operator">=</span> <span class="token string">"è¿”å›å“åº”æ•°æ®"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RestMessage</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span><span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ˜¯å¦æˆåŠŸ"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span> success<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"è¿”å›å¯¹è±¡"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Object</span> data<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"é”™è¯¯ç¼–å·"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> errCode<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"é”™è¯¯ä¿¡æ¯"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> message<span class="token punctuation">;</span>        <span class="token comment">/* getter/setter */</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> Swagger </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯¹è±¡å­˜å‚¨OSS</title>
      <link href="/20220624110410/"/>
      <url>/20220624110410/</url>
      
        <content type="html"><![CDATA[<h1>OSS</h1><p>pomä¾èµ–</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.qcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cos_api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.6.54<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è®¾è®¡æ€è·¯">è®¾è®¡æ€è·¯</h2><h4 id="åˆ›å»ºServiceåŒ…ï¼Œæ·»åŠ OSSServiceæ¥å£ï¼ŒåŒ…å«uploadæ–¹æ³•ï¼Œ">åˆ›å»ºServiceåŒ…ï¼Œæ·»åŠ OSSServiceæ¥å£ï¼ŒåŒ…å«uploadæ–¹æ³•ï¼Œ</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span></span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OSSService</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ›å»ºImplåŒ…ï¼Œæ·»åŠ OSSServiceImlå®ç°">åˆ›å»ºImplåŒ…ï¼Œæ·»åŠ OSSServiceImlå®ç°</h4><p>å…¶ä¸­<code>ossClient</code>ä¸ºè‡ªå®šä¹‰çš„å·¥å…·ç±»ï¼Œå®ç°ä¸OSSçš„è¿æ¥ï¼Œè¿”å›ä¸€ä¸ª<code>COSClient</code>å¯¹è±¡ã€‚<br>ä¸‹é¢çš„ä»£ç å‚è€ƒå®˜æ–¹æ–‡æ¡£ æµç±»å‹ï¼ˆ InputStream ç±»å‹ï¼‰ä¸Šä¼ ï¼Œä½¿ç”¨çš„æ˜¯ç®€å•ä¸Šä¼ ï¼Œæ²¡æœ‰ä½¿ç”¨é«˜çº§æ¥å£ã€‚<br>è°ƒç”¨é«˜çº§æ¥å£å¯ä»¥å†å†™ä¸€ä¸ªå·¥å…·ç±»ã€‚</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">Impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">OSSService</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">ConstantYML</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>utils<span class="token punctuation">.</span>ossClient</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span></span><span class="token class-name">COSClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">CosClientException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>exception<span class="token punctuation">.</span></span><span class="token class-name">CosServiceException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">ObjectMetadata</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PutObjectRequest</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">PutObjectResult</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>joda<span class="token punctuation">.</span>time<span class="token punctuation">.</span></span><span class="token class-name">DateTime</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">InputStream</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OSSServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">OSSService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">upload</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// è°ƒç”¨ COS æ¥å£ä¹‹å‰å¿…é¡»ä¿è¯æœ¬è¿›ç¨‹å­˜åœ¨ä¸€ä¸ª COSClient å®ä¾‹ï¼Œå¦‚æœæ²¡æœ‰åˆ™åˆ›å»º</span>        <span class="token class-name">COSClient</span> cosClient <span class="token operator">=</span> ossClient<span class="token punctuation">.</span><span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å­˜å‚¨æ¡¶çš„å‘½åæ ¼å¼ä¸º BucketName-APPIDï¼Œæ­¤å¤„å¡«å†™çš„å­˜å‚¨æ¡¶åç§°å¿…é¡»ä¸ºæ­¤æ ¼å¼</span>        <span class="token class-name">String</span> bucketName <span class="token operator">=</span> <span class="token class-name">ConstantYML</span><span class="token punctuation">.</span><span class="token constant">BUCKET_NAME</span> <span class="token punctuation">;</span>        <span class="token comment">//æ„å»ºæ—¥æœŸè·¯å¾„:avatar/2019/02/26/æ–‡ä»¶å</span>        <span class="token class-name">String</span> filePath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DateTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token string">"yyyy/MM/dd"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// å¯¹è±¡é”®(Key)æ˜¯å¯¹è±¡åœ¨å­˜å‚¨æ¡¶ä¸­çš„å”¯ä¸€æ ‡è¯†ã€‚</span>        <span class="token class-name">String</span> key <span class="token operator">=</span> filePath <span class="token operator">+</span> <span class="token string">"/"</span> <span class="token operator">+</span> file<span class="token punctuation">.</span><span class="token function">getOriginalFilename</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–ä¸Šä¼ æ–‡ä»¶æµ</span>        <span class="token class-name">InputStream</span> inputStream <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            inputStream <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">getInputStream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">ObjectMetadata</span> objectMetadata <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMetadata</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¸Šä¼ çš„æµå¦‚æœèƒ½å¤Ÿè·å–å‡†ç¡®çš„æµé•¿åº¦ï¼Œåˆ™æ¨èä¸€å®šå¡«å†™ content-length</span><span class="token comment">// å¦‚æœç¡®å®æ²¡åŠæ³•è·å–åˆ°ï¼Œåˆ™ä¸‹é¢è¿™è¡Œå¯ä»¥çœç•¥ï¼Œä½†åŒæ—¶é«˜çº§æ¥å£ä¹Ÿæ²¡åŠæ³•ä½¿ç”¨åˆ†å—ä¸Šä¼ äº†</span>        objectMetadata<span class="token punctuation">.</span><span class="token function">setContentLength</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span><span class="token function">getSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">PutObjectRequest</span> putObjectRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PutObjectRequest</span><span class="token punctuation">(</span>bucketName<span class="token punctuation">,</span> key<span class="token punctuation">,</span> inputStream<span class="token punctuation">,</span> objectMetadata<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">PutObjectResult</span> putObjectResult <span class="token operator">=</span> cosClient<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span>putObjectRequest<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>putObjectResult<span class="token punctuation">.</span><span class="token function">getRequestId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">CosServiceException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">CosClientException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token comment">// ç¡®è®¤æœ¬è¿›ç¨‹ä¸å†ä½¿ç”¨ cosClient å®ä¾‹ä¹‹åï¼Œå…³é—­ä¹‹</span>        cosClient<span class="token punctuation">.</span><span class="token function">shutdown</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> key<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åœ¨utilsåŒ…ä¸­åˆ›å»ºå·¥å…·ç±»ossClient">åœ¨utilsåŒ…ä¸­åˆ›å»ºå·¥å…·ç±»ossClient</h4><p>æ­¤å¤„æ³¨å…¥äº†application.ymlé‡Œçš„é…ç½®ï¼Œé€šè¿‡å·¥å…·ç±»çš„ConstantYMLå®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span></span><span class="token class-name">COSClient</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span></span><span class="token class-name">ClientConfig</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>auth<span class="token punctuation">.</span></span><span class="token class-name">BasicCOSCredentials</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>auth<span class="token punctuation">.</span></span><span class="token class-name">COSCredentials</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpProtocol</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>qcloud<span class="token punctuation">.</span>cos<span class="token punctuation">.</span>region<span class="token punctuation">.</span></span><span class="token class-name">Region</span></span><span class="token punctuation">;</span><span class="token comment">/** * Generate request client tool class */</span><span class="token keyword">public</span>  <span class="token keyword">class</span> ossClient <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">COSClient</span> <span class="token function">getClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 1 åˆå§‹åŒ–ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼ˆsecretId, secretKeyï¼‰ã€‚</span>        <span class="token class-name">String</span> secretId <span class="token operator">=</span> <span class="token class-name">ConstantYML</span><span class="token punctuation">.</span><span class="token constant">SECRET_ID</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> secretKey <span class="token operator">=</span> <span class="token class-name">ConstantYML</span><span class="token punctuation">.</span><span class="token constant">SECRET_KEY</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token function">getCosClient</span><span class="token punctuation">(</span>secretId<span class="token punctuation">,</span>secretKey<span class="token punctuation">,</span> <span class="token class-name">ConstantYML</span><span class="token punctuation">.</span><span class="token constant">REGION_NAME</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">COSClient</span> <span class="token function">getCosClient</span><span class="token punctuation">(</span><span class="token class-name">String</span> secretId<span class="token punctuation">,</span> <span class="token class-name">String</span> secretKey<span class="token punctuation">,</span> <span class="token class-name">String</span> _region<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// 1 åˆå§‹åŒ–ç”¨æˆ·èº«ä»½ä¿¡æ¯ï¼ˆsecretId, secretKeyï¼‰ã€‚</span>        <span class="token class-name">COSCredentials</span> cred <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BasicCOSCredentials</span><span class="token punctuation">(</span>secretId<span class="token punctuation">,</span> secretKey<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 2 è®¾ç½® bucket çš„åŒºåŸŸ, CI åœ°åŸŸçš„ç®€ç§°è¯·å‚ç…§ https://cloud.tencent.com/document/product/436/6224</span>        <span class="token comment">// clientConfig ä¸­åŒ…å«äº†è®¾ç½® region, https(é»˜è®¤ https), è¶…æ—¶, ä»£ç†ç­‰ set æ–¹æ³•, ä½¿ç”¨å¯å‚è§æºç æˆ–è€…å¸¸è§é—®é¢˜ Java SDK éƒ¨åˆ†ã€‚</span>        <span class="token class-name">Region</span> region <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Region</span><span class="token punctuation">(</span>_region<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ClientConfig</span> clientConfig <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClientConfig</span><span class="token punctuation">(</span>region<span class="token punctuation">)</span><span class="token punctuation">;</span>        clientConfig<span class="token punctuation">.</span><span class="token function">setHttpProtocol</span><span class="token punctuation">(</span><span class="token class-name">HttpProtocol</span><span class="token punctuation">.</span>http<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// 3 ç”Ÿæˆ cos å®¢æˆ·ç«¯ã€‚</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">COSClient</span><span class="token punctuation">(</span>cred<span class="token punctuation">,</span> clientConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å·¥å…·ç±»ConstantYML">å·¥å…·ç±»ConstantYML</h4><h5 id="ä¼˜é›…çš„è·å–ymlçš„é…ç½®ä¿¡æ¯">ä¼˜é›…çš„è·å–ymlçš„é…ç½®ä¿¡æ¯</h5><p>ä½¿ç”¨äº†@ConfigurationPropertieså’ŒInitializingBeanæ¥å£</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span></span><span class="token class-name">InitializingBean</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"tencent.oss"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConstantYML</span> <span class="token keyword">implements</span> <span class="token class-name">InitializingBean</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> accessKey<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> secretKey<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> regionName<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> bucketName<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">SECRET_ID</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">SECRET_KEY</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">REGION_NAME</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token constant">BUCKET_NAME</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterPropertiesSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token constant">SECRET_ID</span> <span class="token operator">=</span> accessKey<span class="token punctuation">;</span>        <span class="token constant">SECRET_KEY</span> <span class="token operator">=</span> secretKey<span class="token punctuation">;</span>        <span class="token constant">REGION_NAME</span> <span class="token operator">=</span> regionName<span class="token punctuation">;</span>        <span class="token constant">BUCKET_NAME</span> <span class="token operator">=</span> bucketName<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æœ€ååœ¨ControlleråŒ…é‡Œé¢å®ç°OSSController">æœ€ååœ¨ControlleråŒ…é‡Œé¢å®ç°OSSController</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>common<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">R</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>oss<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">OSSService</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">Api</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiImplicitParam</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiOperation</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span></span><span class="token class-name">MultipartFile</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Api</span><span class="token punctuation">(</span><span class="token string">"è…¾è®¯äº‘OSS"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@CrossOrigin</span><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"oss"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OSSController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">OSSService</span> ossService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ–‡ä»¶ä¸Šä¼ "</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"upload"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"file"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"å•æ–‡ä»¶ä¸Šä¼ "</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>dataType<span class="token operator">=</span><span class="token string">"MultipartFile"</span><span class="token punctuation">,</span>            allowMultiple <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>paramType <span class="token operator">=</span> <span class="token string">"form"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">upload</span><span class="token punctuation">(</span>            <span class="token annotation punctuation">@RequestPart</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> key <span class="token operator">=</span> ossService<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> uploadUrl <span class="token operator">=</span> <span class="token string">"https://glxy-1304079174.cos.ap-chongqing.myqcloud.com/"</span> <span class="token operator">+</span> key<span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">message</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸Šä¼ æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"url"</span><span class="token punctuation">,</span> uploadUrl<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h2><h3 id="Knife4j-3-0-3æ–‡ä»¶ä¸Šä¼ ä¸æ˜¾ç¤ºä¸Šä¼ é€‰æ‹©æ–‡æœ¬åŸŸ">Knife4j 3.0.3æ–‡ä»¶ä¸Šä¼ ä¸æ˜¾ç¤ºä¸Šä¼ é€‰æ‹©æ–‡æœ¬åŸŸ</h3><h4 id="è§£å†³">è§£å†³</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ³¨æ„ paramType<span class="token operator">=</span> <span class="token string">"form"</span>        <span class="token annotation punctuation">@ApiImplicitParam</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"file"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"å•æ–‡ä»¶ä¸Šä¼ "</span><span class="token punctuation">,</span>required <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>dataType<span class="token operator">=</span><span class="token string">"MultipartFile"</span><span class="token punctuation">,</span>                      allowMultiple <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>paramType <span class="token operator">=</span> <span class="token string">"form"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/analysisGps"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">AjaxResult</span> <span class="token function">analysisGps</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestPart</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span> <span class="token class-name">MultipartFile</span> file<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="OSSä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶">OSSä¸Šä¼ æ–‡ä»¶å¤§å°é™åˆ¶</h3><p>Spring Bootä¿®æ”¹æœ€å¤§ä¸Šä¼ æ–‡ä»¶é™åˆ¶:The field file exceeds its maximum permitted size of 1048576 bytes.SpringBootåšæ–‡ä»¶ä¸Šä¼ æ—¶å‡ºç°äº†The field file exceeds its maximum permitted size of 1048576 bytes.é”™è¯¯ï¼Œæ˜¾ç¤ºæ–‡ä»¶çš„å¤§å°è¶…å‡ºäº†å…è®¸çš„èŒƒå›´ã€‚æŸ¥çœ‹äº†å®˜æ–¹æ–‡æ¡£ï¼ŒåŸæ¥Spring Bootå·¥ç¨‹åµŒå…¥çš„tomcaté™åˆ¶äº†è¯·æ±‚çš„æ–‡ä»¶å¤§å°ï¼Œè¿™ä¸€ç‚¹åœ¨Spring Bootçš„å®˜æ–¹æ–‡æ¡£ä¸­æœ‰è¯´æ˜.</p><h4 id="è§£å†³-2">è§£å†³</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java">spring<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span>max<span class="token operator">-</span>file<span class="token operator">-</span>size<span class="token operator">=</span><span class="token number">5</span><span class="token constant">GB</span>spring<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>multipart<span class="token punctuation">.</span>max<span class="token operator">-</span>request<span class="token operator">-</span>size<span class="token operator">=</span><span class="token number">5</span><span class="token constant">GB</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> å¯¹è±¡å­˜å‚¨ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“</title>
      <link href="/20220624110402/"/>
      <url>/20220624110402/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸»é”®ç­–ç•¥">ä¸»é”®ç­–ç•¥</h2><h3 id="1-æ•°æ®åº“è‡ªå¢é•¿åºåˆ—æˆ–å­—æ®µ">1. æ•°æ®åº“è‡ªå¢é•¿åºåˆ—æˆ–å­—æ®µ</h3><p>æœ€å¸¸è§çš„æ–¹å¼ã€‚åˆ©ç”¨æ•°æ®åº“ï¼Œå…¨æ•°æ®åº“å”¯ä¸€ã€‚</p><h4 id="ä¼˜ç‚¹ï¼š">ä¼˜ç‚¹ï¼š</h4><p>1ï¼‰ç®€å•ï¼Œä»£ç æ–¹ä¾¿ï¼Œæ€§èƒ½å¯ä»¥æ¥å—ã€‚<br>2ï¼‰æ•°å­—IDå¤©ç„¶æ’åºï¼Œå¯¹åˆ†é¡µæˆ–è€…éœ€è¦æ’åºçš„ç»“æœå¾ˆæœ‰å¸®åŠ©ã€‚</p><h4 id="ç¼ºç‚¹ï¼š">ç¼ºç‚¹ï¼š</h4><p>1ï¼‰ä¸åŒæ•°æ®åº“è¯­æ³•å’Œå®ç°ä¸åŒï¼Œæ•°æ®åº“è¿ç§»çš„æ—¶å€™æˆ–å¤šæ•°æ®åº“ç‰ˆæœ¬æ”¯æŒçš„æ—¶å€™éœ€è¦å¤„ç†ã€‚<br>2ï¼‰åœ¨å•ä¸ªæ•°æ®åº“æˆ–è¯»å†™åˆ†ç¦»æˆ–ä¸€ä¸»å¤šä»çš„æƒ…å†µä¸‹ï¼Œåªæœ‰ä¸€ä¸ªä¸»åº“å¯ä»¥ç”Ÿæˆã€‚æœ‰å•ç‚¹æ•…éšœçš„é£é™©ã€‚<br>3ï¼‰åœ¨æ€§èƒ½è¾¾ä¸åˆ°è¦æ±‚çš„æƒ…å†µä¸‹ï¼Œæ¯”è¾ƒéš¾äºæ‰©å±•ã€‚ï¼ˆä¸é€‚ç”¨äºæµ·é‡é«˜å¹¶å‘ï¼‰<br>4ï¼‰å¦‚æœé‡è§å¤šä¸ªç³»ç»Ÿéœ€è¦åˆå¹¶æˆ–è€…æ¶‰åŠåˆ°æ•°æ®è¿ç§»ä¼šç›¸å½“ç—›è‹¦ã€‚<br>5ï¼‰åˆ†è¡¨åˆ†åº“çš„æ—¶å€™ä¼šæœ‰éº»çƒ¦ã€‚<br>6ï¼‰<strong>å¹¶éä¸€å®šè¿ç»­</strong>ï¼Œç±»ä¼¼MySQLï¼Œå½“ç”Ÿæˆæ–°IDçš„äº‹åŠ¡å›æ»šï¼Œé‚£ä¹ˆåç»­çš„äº‹åŠ¡ä¹Ÿä¸ä¼šå†ç”¨è¿™ä¸ªIDäº†ã€‚è¿™ä¸ªåœ¨æ€§èƒ½å’Œè¿ç»­æ€§çš„æŠ˜ä¸­ã€‚å¦‚æœä¸ºäº†ä¿è¯è¿ç»­ï¼Œå¿…é¡»è¦åœ¨äº‹åŠ¡ç»“æŸåæ‰èƒ½ç”ŸæˆIDï¼Œé‚£æ€§èƒ½å°±ä¼šå‡ºç°é—®é¢˜ã€‚<br>7ï¼‰åœ¨<strong>åˆ†å¸ƒå¼æ•°æ®åº“</strong>ä¸­ï¼Œå¦‚æœé‡‡ç”¨äº†è‡ªå¢ä¸»é”®çš„è¯ï¼Œæœ‰å¯èƒ½ä¼šå¸¦æ¥å°¾éƒ¨çƒ­ç‚¹ã€‚åˆ†å¸ƒå¼æ•°æ®åº“å¸¸å¸¸ä½¿ç”¨rangeçš„åˆ†åŒºæ–¹å¼ï¼Œ<strong>åœ¨å¤§é‡æ–°å¢è®°å½•çš„æ—¶å€™ï¼ŒIOä¼šé›†ä¸­åœ¨ä¸€ä¸ªåˆ†åŒºä¸Šï¼Œé€ æˆçƒ­ç‚¹æ•°æ®ã€‚</strong></p><h4 id="ä¼˜åŒ–æ–¹æ¡ˆï¼š">ä¼˜åŒ–æ–¹æ¡ˆï¼š</h4><p>1ï¼‰é’ˆå¯¹ä¸»åº“å•ç‚¹ï¼Œå¦‚æœæœ‰å¤šä¸ªMasteråº“ï¼Œåˆ™æ¯ä¸ªMasteråº“è®¾ç½®çš„<strong>èµ·å§‹æ•°å­—ä¸ä¸€æ ·ï¼Œæ­¥é•¿ä¸€æ ·</strong>ï¼Œå¯ä»¥æ˜¯Masterçš„ä¸ªæ•°ã€‚æ¯”å¦‚ï¼šMaster1 ç”Ÿæˆçš„æ˜¯ 1ï¼Œ4ï¼Œ7ï¼Œ10ï¼ŒMaster2ç”Ÿæˆçš„æ˜¯2,5,8,11 Master3ç”Ÿæˆçš„æ˜¯ 3,6,9,12ã€‚è¿™æ ·å°±å¯ä»¥æœ‰æ•ˆç”Ÿæˆé›†ç¾¤ä¸­çš„å”¯ä¸€IDï¼Œä¹Ÿå¯ä»¥å¤§å¤§é™ä½IDç”Ÿæˆæ•°æ®åº“æ“ä½œçš„è´Ÿè½½ã€‚ï¼ˆå¯ä»¥ç”¨rediså®ç°ï¼‰</p><h3 id="2-Redisç”ŸæˆID">2. Redisç”ŸæˆID</h3><p>å½“ä½¿ç”¨æ•°æ®åº“æ¥ç”ŸæˆIDæ€§èƒ½ä¸å¤Ÿè¦æ±‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•ä½¿ç”¨Redisæ¥ç”ŸæˆIDã€‚è¿™ä¸»è¦ä¾èµ–äºRedisæ˜¯å•çº¿ç¨‹çš„ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç”¨ç”Ÿæˆå…¨å±€å”¯ä¸€çš„IDã€‚å¯ä»¥ç”¨Redisçš„åŸå­æ“ä½œ INCRå’ŒINCRBYæ¥å®ç°ã€‚<br>å¯ä»¥ä½¿ç”¨Redisé›†ç¾¤æ¥è·å–æ›´é«˜çš„ååé‡ã€‚å‡å¦‚ä¸€ä¸ªé›†ç¾¤ä¸­æœ‰5å°Redisã€‚å¯ä»¥åˆå§‹åŒ–æ¯å°Redisçš„å€¼åˆ†åˆ«æ˜¯1,2,3,4,5ï¼Œç„¶åæ­¥é•¿éƒ½æ˜¯5ã€‚å„ä¸ªRedisç”Ÿæˆçš„IDä¸ºï¼š<br>Aï¼š1,6,11,16,21<br>Bï¼š2,7,12,17,22<br>Cï¼š3,8,13,18,23<br>Dï¼š4,9,14,19,24<br>Eï¼š5,10,15,20,25<br>è¿™ä¸ªï¼Œéšä¾¿è´Ÿè½½åˆ°å“ªä¸ªæœºç¡®å®šå¥½ï¼Œæœªæ¥å¾ˆéš¾åšä¿®æ”¹ã€‚ä½†æ˜¯3-5å°æœåŠ¡å™¨åŸºæœ¬èƒ½å¤Ÿæ»¡è¶³å™¨ä¸Šï¼Œéƒ½å¯ä»¥è·å¾—ä¸åŒçš„IDã€‚ä½†æ˜¯æ­¥é•¿å’Œåˆå§‹å€¼ä¸€å®šéœ€è¦äº‹å…ˆéœ€è¦äº†ã€‚ä½¿ç”¨Redisé›†ç¾¤ä¹Ÿå¯ä»¥æ–¹å¼å•ç‚¹æ•…éšœçš„é—®é¢˜ã€‚<br>å¦å¤–ï¼Œæ¯”è¾ƒé€‚åˆä½¿ç”¨Redisæ¥ç”Ÿæˆæ¯å¤©ä»0å¼€å§‹çš„æµæ°´å·ã€‚æ¯”å¦‚è®¢å•å·=æ—¥æœŸ+å½“æ—¥è‡ªå¢é•¿å·ã€‚å¯ä»¥æ¯å¤©åœ¨Redisä¸­ç”Ÿæˆä¸€ä¸ªKeyï¼Œä½¿ç”¨INCRè¿›è¡Œç´¯åŠ ã€‚</p><p>ä¼˜ç‚¹ï¼š<br>1ï¼‰ä¸ä¾èµ–äºæ•°æ®åº“ï¼Œçµæ´»æ–¹ä¾¿ï¼Œä¸”æ€§èƒ½ä¼˜äºæ•°æ®åº“ã€‚<br>2ï¼‰æ•°å­—IDå¤©ç„¶æ’åºï¼Œå¯¹åˆ†é¡µæˆ–è€…éœ€è¦æ’åºçš„ç»“æœå¾ˆæœ‰å¸®åŠ©ã€‚<br>ç¼ºç‚¹ï¼š<br>1ï¼‰å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰Redisï¼Œè¿˜éœ€è¦å¼•å…¥æ–°çš„ç»„ä»¶ï¼Œå¢åŠ ç³»ç»Ÿå¤æ‚åº¦ã€‚<br>2ï¼‰éœ€è¦ç¼–ç å’Œé…ç½®çš„å·¥ä½œé‡æ¯”è¾ƒå¤§ã€‚</p><h3 id="2-UUID">2. UUID</h3><p>å¸¸è§çš„æ–¹å¼ã€‚å¯ä»¥åˆ©ç”¨æ•°æ®åº“ä¹Ÿå¯ä»¥åˆ©ç”¨ç¨‹åºç”Ÿæˆï¼Œä¸€èˆ¬æ¥è¯´å…¨çƒå”¯ä¸€ã€‚UUIDæ˜¯ç”±32ä¸ªçš„16è¿›åˆ¶æ•°å­—ç»„æˆï¼Œæ‰€ä»¥æ¯ä¸ªUUIDçš„é•¿åº¦æ˜¯128ä½ï¼ˆ16^32 = 2^128ï¼‰ã€‚UUIDä½œä¸ºä¸€ç§å¹¿æ³›ä½¿ç”¨æ ‡å‡†ï¼Œæœ‰å¤šä¸ªå®ç°ç‰ˆæœ¬ï¼Œå½±å“å®ƒçš„å› ç´ åŒ…æ‹¬æ—¶é—´ã€ç½‘å¡MACåœ°å€ã€è‡ªå®šä¹‰Namesapceç­‰ç­‰ã€‚<br>ä¼˜ç‚¹ï¼š<br>1ï¼‰ç®€å•ï¼Œä»£ç æ–¹ä¾¿ã€‚<br>2ï¼‰ç”ŸæˆIDæ€§èƒ½éå¸¸å¥½ï¼ŒåŸºæœ¬ä¸ä¼šæœ‰æ€§èƒ½é—®é¢˜ã€‚<br>3ï¼‰å…¨çƒå”¯ä¸€ï¼Œåœ¨é‡è§æ•°æ®è¿ç§»ï¼Œç³»ç»Ÿæ•°æ®åˆå¹¶ï¼Œæˆ–è€…æ•°æ®åº“å˜æ›´ç­‰æƒ…å†µä¸‹ï¼Œå¯ä»¥ä»å®¹åº”å¯¹ã€‚</p><p>ç¼ºç‚¹ï¼š<br>1ï¼‰æ²¡æœ‰<strong>æ’åº</strong>ï¼Œæ— æ³•ä¿è¯è¶‹åŠ¿é€’å¢ã€‚<br>2ï¼‰UUIDå¾€å¾€æ˜¯ä½¿ç”¨å­—ç¬¦ä¸²å­˜å‚¨ï¼ŒæŸ¥è¯¢çš„æ•ˆç‡æ¯”è¾ƒä½ã€‚<br>3ï¼‰å­˜å‚¨ç©ºé—´æ¯”è¾ƒå¤§ï¼Œå¦‚æœæ˜¯æµ·é‡æ•°æ®åº“ï¼Œå°±éœ€è¦è€ƒè™‘å­˜å‚¨é‡çš„é—®é¢˜ã€‚<br>4ï¼‰ä¼ è¾“æ•°æ®é‡å¤§<br>5ï¼‰ä¸å¯è¯»ã€‚</p><p>ä¼˜åŒ–<br>1ï¼‰ä¸ºäº†è§£å†³UUIDä¸å¯è¯»ï¼Œå¯ä»¥ä½¿ç”¨UUID to Int64çš„æ–¹æ³•ã€‚<br>2ï¼‰ä¸ºäº†è§£å†³UUIDæ— åºçš„é—®é¢˜ï¼ŒNHibernateåœ¨å…¶ä¸»é”®ç”Ÿæˆæ–¹å¼ä¸­æä¾›äº†Combç®—æ³•ï¼ˆcombined guid/timestampï¼‰ã€‚ä¿ç•™GUIDçš„10ä¸ªå­—èŠ‚ï¼Œç”¨å¦6ä¸ªå­—èŠ‚è¡¨ç¤ºGUIDç”Ÿæˆçš„æ—¶é—´ï¼ˆDateTimeï¼‰ã€‚</p><h3 id=""></h3><ol start="4"><li>Twitterçš„snowflakeç®—æ³•<br>snowflakeæ˜¯Twitterå¼€æºçš„åˆ†å¸ƒå¼IDç”Ÿæˆç®—æ³•ï¼Œç»“æœæ˜¯ä¸€ä¸ªlongå‹çš„IDã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä½¿ç”¨41bitä½œä¸ºæ¯«ç§’æ•°ï¼Œ10bitä½œä¸ºæœºå™¨çš„IDï¼ˆ5ä¸ªbitæ˜¯æ•°æ®ä¸­å¿ƒï¼Œ5ä¸ªbitçš„æœºå™¨IDï¼‰ï¼Œ12bitä½œä¸ºæ¯«ç§’å†…çš„æµæ°´å·ï¼ˆæ„å‘³ç€æ¯ä¸ªèŠ‚ç‚¹åœ¨æ¯æ¯«ç§’å¯ä»¥äº§ç”Ÿ 4096 ä¸ª IDï¼‰ï¼Œæœ€åè¿˜æœ‰ä¸€ä¸ªç¬¦å·ä½ï¼Œæ°¸è¿œæ˜¯0ã€‚å…·ä½“å®ç°çš„ä»£ç å¯ä»¥å‚çœ‹<a href="https://github.com/twitter/snowflake">https://github.com/twitter/snowflake</a>ã€‚é›ªèŠ±ç®—æ³•æ”¯æŒçš„TPSå¯ä»¥è¾¾åˆ°419ä¸‡å·¦å³ï¼ˆ2^22*1000ï¼‰ã€‚<br>é›ªèŠ±ç®—æ³•åœ¨å·¥ç¨‹å®ç°ä¸Šæœ‰å•æœºç‰ˆæœ¬å’Œåˆ†å¸ƒå¼ç‰ˆæœ¬ã€‚å•æœºç‰ˆæœ¬å¦‚ä¸‹ï¼Œåˆ†å¸ƒå¼ç‰ˆæœ¬å¯ä»¥å‚çœ‹ç¾å›¢leafç®—æ³•ï¼š<a href="https://github.com/Meituan-Dianping/Leaf">https://github.com/Meituan-Dianping/Leaf</a></li></ol><p>å‚è€ƒï¼š<a href="https://www.cnblogs.com/haoxinyue/p/5208136.html">https://www.cnblogs.com/haoxinyue/p/5208136.html</a></p><h2 id="MabatisPlus-å®ç°ä¹è§‚é”">MabatisPlus å®ç°ä¹è§‚é”</h2><p><a href="https://baomidou.com/pages/0d93c0/#optimisticlockerinnerinterceptor">å®˜æ–¹æ–‡æ¡£</a></p><h3 id="è¸©å‘è®°å½•">è¸©å‘è®°å½•</h3><ul><li>åœ¨æ•°æ®åº“ä¸­æ·»åŠ å­—æ®µversionæ—¶ï¼Œè¦æœ‰é»˜è®¤å€¼</li><li>åªæœ‰å…ˆæŸ¥è¯¢ï¼Œå†æ›´æ–°æ‰ä¼šç”Ÿæ•ˆ</li></ul><h2 id="å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢å¸¦åˆ†é¡µ">å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢å¸¦åˆ†é¡µ</h2><h3 id="Mybatisåˆ†é¡µé…ç½®">Mybatisåˆ†é¡µé…ç½®</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">package com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>admin_house<span class="token punctuation">.</span>config<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>DbType<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>MybatisPlusInterceptor<span class="token punctuation">;</span><span class="token keyword">import</span> com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token keyword">inner</span><span class="token punctuation">.</span>PaginationInnerInterceptor<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>mybatis<span class="token punctuation">.</span>spring<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>MapperScan<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Bean<span class="token punctuation">;</span><span class="token keyword">import</span> org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span>Configuration<span class="token punctuation">;</span><span class="token variable">@Configuration</span><span class="token variable">@MapperScan</span><span class="token punctuation">(</span><span class="token string">"com.izyq.admin_house.dao"</span><span class="token punctuation">)</span><span class="token keyword">public</span> class MybatisPlusConfig &#123;    <span class="token comment">/**     * æ–°çš„åˆ†é¡µæ’ä»¶,ä¸€ç¼“å’ŒäºŒç¼“éµå¾ªmybatisçš„è§„åˆ™,éœ€è¦è®¾ç½® MybatisConfiguration#useDeprecatedExecutor = false é¿å…ç¼“å­˜å‡ºç°é—®é¢˜(è¯¥å±æ€§ä¼šåœ¨æ—§æ’ä»¶ç§»é™¤åä¸€åŒç§»é™¤)     */</span>    <span class="token variable">@Bean</span>    <span class="token keyword">public</span> MybatisPlusInterceptor mybatisPlusInterceptor<span class="token punctuation">(</span><span class="token punctuation">)</span> &#123;        MybatisPlusInterceptor interceptor <span class="token operator">=</span> new MybatisPlusInterceptor<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        interceptor<span class="token punctuation">.</span>addInnerInterceptor<span class="token punctuation">(</span>new PaginationInnerInterceptor<span class="token punctuation">(</span>DbType<span class="token punctuation">.</span>MYSQL<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> interceptor<span class="token punctuation">;</span>    &#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>æŠŠæ¡ä»¶å€¼ä¼ åˆ°æ¥å£<ul><li>å°è£…å¤šæ¡ä»¶<strong>TeacherQuery</strong></li></ul></li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>vo</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">io<span class="token punctuation">.</span>swagger<span class="token punctuation">.</span>annotations<span class="token punctuation">.</span></span><span class="token class-name">ApiModelProperty</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">lombok<span class="token punctuation">.</span></span><span class="token class-name">Data</span></span><span class="token punctuation">;</span><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TeacherQuery</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1L</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æ•™å¸ˆåç§°,æ¨¡ç³ŠæŸ¥è¯¢"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"å¤´è¡” 1é«˜çº§è®²å¸ˆ 2é¦–å¸­è®²å¸ˆ"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> level<span class="token punctuation">;</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æŸ¥è¯¢å¼€å§‹æ—¶é—´"</span><span class="token punctuation">,</span> example <span class="token operator">=</span> <span class="token string">"2019-01-01 10:10:10"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> begin<span class="token punctuation">;</span><span class="token comment">//æ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯Stringç±»å‹ï¼Œå‰ç«¯ä¼ è¿‡æ¥çš„æ•°æ®æ— éœ€è¿›è¡Œç±» å‹è½¬æ¢</span>    <span class="token annotation punctuation">@ApiModelProperty</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"æŸ¥è¯¢ç»“æŸæ—¶é—´"</span><span class="token punctuation">,</span> example <span class="token operator">=</span> <span class="token string">"2019-12-01 10:10:10"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> end<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢<ul><li>åˆ¤æ–­æ¡ä»¶å€¼æ˜¯å¦ä¸ºç©º,æ ¹æ®åˆ¤æ–­å€¼ï¼Œæ‹¼æ¥æ¡ä»¶</li></ul></li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**    * å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢å¸¦åˆ†é¡µ    */</span>   <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"è®²å¸ˆå¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢"</span><span class="token punctuation">)</span>   <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"pageTheacherCondition/&#123;current&#125;/&#123;limit&#125;"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">pageTheacherCondition</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> current<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> limit<span class="token punctuation">,</span>                                 <span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">TeacherQuery</span> teacherQuery<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token comment">//åˆ›å»ºPageå¯¹è±¡</span>       <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> pageTeacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>current<span class="token punctuation">,</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//åˆ›å»ºæ¡ä»¶</span>       <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">String</span> name <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">Integer</span> level <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">String</span> begin <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getBegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">String</span> end <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢</span>       <span class="token comment">//åŠ¨æ€sql</span>       <span class="token comment">//åˆ¤æ–­æ¡ä»¶å€¼æ˜¯å¦ä¸ºç©º,æ ¹æ®åˆ¤æ–­å€¼ï¼Œæ‹¼æ¥æ¡ä»¶</span>       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>           wrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token keyword">if</span><span class="token punctuation">(</span>level <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>           wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"level"</span><span class="token punctuation">,</span>level<span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"leverä¸ä¸ºnull"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>           wrapper<span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span><span class="token string">"gmt_create"</span><span class="token punctuation">,</span>begin<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>           wrapper<span class="token punctuation">.</span><span class="token function">le</span><span class="token punctuation">(</span><span class="token string">"gmt_modified"</span><span class="token punctuation">,</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> page <span class="token operator">=</span> eduTeacherService<span class="token punctuation">.</span><span class="token function">page</span><span class="token punctuation">(</span>pageTeacher<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"total"</span><span class="token punctuation">,</span>page<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"item"</span><span class="token punctuation">,</span>page<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>è¿›ä¸€æ­¥å°è£…<ul><li>private IEduTeacherService eduTeacherService;<ul><li>eduTeacherServiceæ˜¯IEduTeacherServiceç±» æˆ‘ä»¬è¦åœ¨è¿™é‡Œé¢å»å®ç°å®ƒ</li><li>åœ¨ IEduTeacherService ä¸­æ·»åŠ æ–¹æ³•</li></ul></li></ul></li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">IEduTeacherService</span> <span class="token keyword">extends</span> <span class="token class-name">IService</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">void</span> <span class="token function">pageQuery</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> pageTeacher<span class="token punctuation">,</span> <span class="token class-name">TeacherQuery</span> teacherQuery<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>åœ¨EduTeacherServiceImplä¸­å®ç°</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>core<span class="token punctuation">.</span>conditions<span class="token punctuation">.</span>query<span class="token punctuation">.</span></span><span class="token class-name">QueryWrapper</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span>pagination<span class="token punctuation">.</span></span><span class="token class-name">Page</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>entity<span class="token punctuation">.</span></span><span class="token class-name">EduTeacher</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>entity<span class="token punctuation">.</span>vo<span class="token punctuation">.</span></span><span class="token class-name">TeacherQuery</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>mapper<span class="token punctuation">.</span></span><span class="token class-name">EduTeacherMapper</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>izyq<span class="token punctuation">.</span>edu<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">IEduTeacherService</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>extension<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">ServiceImpl</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>commons<span class="token punctuation">.</span>lang3<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span></span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span><span class="token comment">/** * &lt;p> * è®²å¸ˆ æœåŠ¡å®ç°ç±» * &lt;/p> * * @author zyq * @since 2022-05-03 */</span><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EduTeacherServiceImpl</span> <span class="token keyword">extends</span> <span class="token class-name">ServiceImpl</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacherMapper</span><span class="token punctuation">,</span> <span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> <span class="token keyword">implements</span> <span class="token class-name">IEduTeacherService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">pageQuery</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> pageParam<span class="token punctuation">,</span> <span class="token class-name">TeacherQuery</span> teacherQuery<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> wrapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QueryWrapper</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> name <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Integer</span> level <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> begin <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getBegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> end <span class="token operator">=</span> teacherQuery<span class="token punctuation">.</span><span class="token function">getEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢</span>        <span class="token comment">//åŠ¨æ€sql</span>        <span class="token comment">//åˆ¤æ–­æ¡ä»¶å€¼æ˜¯å¦ä¸ºç©º,æ ¹æ®åˆ¤æ–­å€¼ï¼Œæ‹¼æ¥æ¡ä»¶</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>teacherQuery <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            baseMapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>pageParam<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            wrapper<span class="token punctuation">.</span><span class="token function">like</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>level <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            wrapper<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token string">"level"</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"leverä¸ä¸ºnull"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>begin<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            wrapper<span class="token punctuation">.</span><span class="token function">ge</span><span class="token punctuation">(</span><span class="token string">"gmt_create"</span><span class="token punctuation">,</span> begin<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span>end<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            wrapper<span class="token punctuation">.</span><span class="token function">le</span><span class="token punctuation">(</span><span class="token string">"gmt_modified"</span><span class="token punctuation">,</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        baseMapper<span class="token punctuation">.</span><span class="token function">selectPage</span><span class="token punctuation">(</span>pageParam<span class="token punctuation">,</span> wrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>åœ¨Controllerä¸­ä½¿ç”¨</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/**    * å¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢å¸¦åˆ†é¡µ    */</span>   <span class="token annotation punctuation">@ApiOperation</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"è®²å¸ˆå¤šæ¡ä»¶ç»„åˆæŸ¥è¯¢"</span><span class="token punctuation">)</span>   <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"pageTheacherCondition/&#123;current&#125;/&#123;limit&#125;"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">pageTheacherCondition</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> current<span class="token punctuation">,</span> <span class="token annotation punctuation">@PathVariable</span> <span class="token keyword">long</span> limit<span class="token punctuation">,</span>                                 <span class="token annotation punctuation">@RequestBody</span><span class="token punctuation">(</span>required <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token class-name">TeacherQuery</span> teacherQuery<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token comment">//åˆ›å»ºPageå¯¹è±¡</span>       <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">EduTeacher</span><span class="token punctuation">></span></span> pageTeacher <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>current<span class="token punctuation">,</span>limit<span class="token punctuation">)</span><span class="token punctuation">;</span>       eduTeacherService<span class="token punctuation">.</span><span class="token function">pageQuery</span><span class="token punctuation">(</span>pageTeacher<span class="token punctuation">,</span>teacherQuery<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"total"</span><span class="token punctuation">,</span>pageTeacher<span class="token punctuation">.</span><span class="token function">getTotal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token string">"item"</span><span class="token punctuation">,</span>pageTeacher<span class="token punctuation">.</span><span class="token function">getRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="è‡ªåŠ¨å¡«å……">è‡ªåŠ¨å¡«å……</h2><h3 id="éœ€æ±‚åœºæ™¯">éœ€æ±‚åœºæ™¯</h3><p>å¯¹æ•°æ®åº“ä¸­çš„ CreateTime updateTime ç­‰è¿™ç±»å‚æ•°è¿›è¡Œè‡ªåŠ¨å¡«å……</p><h3 id="å®ç°">å®ç°</h3><p>ä½¿ç”¨MPè‡ªåŠ¨å¡«å……æ’ä»¶å®ç° è¯¦æƒ…æŸ¥çœ‹MPå®˜æ–¹æ–‡æ¡£<br><a href="https://baomidou.com/pages/4c6bcf/">https://baomidou.com/pages/4c6bcf/</a></p><h1>é‡åˆ°çš„é—®é¢˜</h1><h2 id="Jsonæ—¶é—´æ ¼å¼é—®é¢˜">Jsonæ—¶é—´æ ¼å¼é—®é¢˜</h2><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#spring.jackson.date-format=yyyy-MM-dd HH:mm:ss</span><span class="token comment">#spring.jackson.time-zone=GMT+8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><strong>ä¸èµ·ä½œç”¨</strong></p><h3 id="è§£å†³">è§£å†³</h3><p>åœ¨æ—¶é—´å®ä½“ç±»ä¸ŠåŠ ä¸Šè¿™å¥æ³¨è§£<br>@JsonFormat(pattern = â€œyyyy-MM-dd HH:mm:ssâ€,timezone = â€œGMT+8â€)</p><h2 id="-2"></h2><h1>Java</h1><h2 id="é“¾å¼ç¼–ç¨‹">é“¾å¼ç¼–ç¨‹</h2><p>æ–¹æ³• return this å³å¯å®ç°</p><h2 id="-3"></h2>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MPä»£ç ç”Ÿæˆå™¨</title>
      <link href="/20230503105914/"/>
      <url>/20230503105914/</url>
      
        <content type="html"><![CDATA[<h2 id="é—®é¢˜">é—®é¢˜</h2><p>:::info<br>Knife4j Failed to start bean â€˜documentationPluginsBootstrapperâ€™; nested exception is java.lang.NullPointerException<br>:::</p><h3 id="è§£å†³">è§£å†³</h3><p><a href="https://zhuanlan.zhihu.com/p/447338078">https://zhuanlan.zhihu.com/p/447338078</a><br>å¦‚æœä½ åœ¨å¯åŠ¨é¡¹ç›®çš„æ—¶å€™æŠ›å‡ºï¼šFailed to start bean â€˜documentationPluginsBootstrapperâ€™; nested exception is java.lang.NullPointerException<br>åƒä¸‡ä¸è¦æ…Œï¼Œé‚£æ˜¯å› ä¸ºä½ çš„ springboot ç‰ˆæœ¬å¤ªé«˜ï¼Œåº”è¯¥æ˜¯ 2.6.xï¼Œç”±äºSpringfoxä½¿ç”¨çš„è·¯å¾„åŒ¹é…æ˜¯åŸºäºAntPathMatcherï¼Œè€ŒSpring Boot 2.6.Xä½¿ç”¨çš„æ˜¯PathPatternMatcherï¼Œæ‰€ä»¥å°†MVCçš„è·¯å¾„åŒ¹é…è§„åˆ™æ”¹æˆ AntPathMatcherï¼Œåœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥å¦‚ä¸‹å‚æ•°å³å¯ï¼ˆå¦‚æœæ²¡æœ‰æŠ¥é”™ï¼Œå¯ä»¥è·³è¿‡è¿™ä¸ªç¯èŠ‚ï¼‰</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span><span class="token key atrule">mvc</span><span class="token punctuation">:</span><span class="token key atrule">pathmatch</span><span class="token punctuation">:</span><span class="token comment"># Springfoxä½¿ç”¨çš„è·¯å¾„åŒ¹é…æ˜¯åŸºäºAntPathMatcherçš„ï¼Œè€ŒSpring Boot 2.6.Xä½¿ç”¨çš„æ˜¯PathPatternMatcher</span><span class="token comment"># æ‰€ä»¥éœ€è¦é…ç½®æ­¤å‚æ•°</span>      <span class="token key atrule">matching-strategy</span><span class="token punctuation">:</span> ant_path_matcher<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ¨¡ç‰ˆ">æ¨¡ç‰ˆ</h2><pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">package generator<span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>FastAutoGenerator</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">com<span class="token punctuation">.</span>baomidou<span class="token punctuation">.</span>mybatisplus<span class="token punctuation">.</span>generator<span class="token punctuation">.</span>config<span class="token punctuation">.</span>DataSourceConfig</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>ibatis<span class="token punctuation">.</span>jdbc<span class="token punctuation">.</span>ScriptRunner</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>InputStreamReader</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>Connection</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token module">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SQLException</span><span class="token punctuation">;</span><span class="token comment">/** * &lt;p> * å¿«é€Ÿç”Ÿæˆ * &lt;/p> * * @author lanjerry * @since 2021-09-16 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MP</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * æ•°æ®æºé…ç½®     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> DataSourceConfig<span class="token punctuation">.</span>Builder DATA_SOURCE_CONFIG <span class="token operator">=</span> <span class="token keyword">new</span> DataSourceConfig            <span class="token punctuation">.</span><span class="token function">Builder</span><span class="token punctuation">(</span><span class="token string">"jdbc:mysql://z.xxx.cn:3309/glxy?serverTimezone=Asia/Shanghai"</span><span class="token punctuation">,</span> <span class="token string">"root"</span><span class="token punctuation">,</span> <span class="token string">"imZyq."</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/**     * æ‰§è¡Œ run     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span>String<span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> throws SQLException <span class="token punctuation">&#123;</span>        FastAutoGenerator<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>DATA_SOURCE_CONFIG<span class="token punctuation">)</span>                <span class="token comment">// å…¨å±€é…ç½®</span>                <span class="token punctuation">.</span><span class="token function">globalConfig</span><span class="token punctuation">(</span>builder <span class="token operator">-></span> <span class="token punctuation">&#123;</span>                    builder<span class="token punctuation">.</span><span class="token function">author</span><span class="token punctuation">(</span><span class="token string">"zyq"</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®ä½œè€…</span>                            <span class="token punctuation">.</span><span class="token function">enableSwagger</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// å¼€å¯ swagger æ¨¡å¼</span>                            <span class="token punctuation">.</span><span class="token function">outputDir</span><span class="token punctuation">(</span><span class="token string">"/Users/izyq/Documents/Code/Java/gulixueyuan/service/edu/src/main/java"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span>                <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>                <span class="token comment">// åŒ…é…ç½®</span>                <span class="token punctuation">.</span><span class="token function">packageConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span>scanner<span class="token punctuation">,</span> builder<span class="token punctuation">)</span> <span class="token operator">-></span> builder<span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥åŒ…å"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token comment">// ç­–ç•¥é…ç½®</span>                <span class="token punctuation">.</span><span class="token function">strategyConfig</span><span class="token punctuation">(</span><span class="token punctuation">(</span>scanner<span class="token punctuation">,</span> builder<span class="token punctuation">)</span> <span class="token operator">-></span> builder<span class="token punctuation">.</span><span class="token function">addInclude</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥è¡¨åï¼Œå¤šä¸ªè¡¨åç”¨,éš”å¼€"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token comment">/*                    æ¨¡æ¿å¼•æ“é…ç½®ï¼Œé»˜è®¤ Velocity å¯é€‰æ¨¡æ¿å¼•æ“ Beetl æˆ– Freemarker                   .templateEngine(new BeetlTemplateEngine())                   .templateEngine(new FreemarkerTemplateEngine())                 */</span>                <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>Gitå­¦ä¹ </title>
      <link href="/3151/"/>
      <url>/3151/</url>
      
        <content type="html"><![CDATA[<h4 id="git-åŸºæœ¬å‘½ä»¤">git åŸºæœ¬å‘½ä»¤</h4><p><code>git init</code> åˆå§‹åŒ–ä»“åº“</p><p><code>git add &lt;filename&gt;</code>  åŠ å…¥æš‚å­˜åŒº</p><p><code>git add .</code>  å°†æ‰€æœ‰æ–‡ä»¶åŠ å…¥æš‚å­˜åŒº</p><p><code>git commit -m &lt;messeage&gt; </code> æäº¤æ–‡ä»¶åˆ°æœ¬åœ°ä»“åº“ <em>messageä¸ºå¯¹è¯¥æ¬¡æäº¤çš„æè¿°</em></p><p><code>git reset &lt;filename&gt; </code>  ç§»å‡ºæš‚å­˜åŒº</p><p><code>alias</code> åˆ«å</p><p>gitå®‰è£…ç›®å½• <code>gitconfig</code>æ–‡ä»¶å¯ä»¥è®¾ç½®alias</p><p><code>git reflog</code> å¯æŸ¥çœ‹commitID</p><p><code>git checkout -b &lt;name&gt; &lt;template&gt;</code>åˆ›å»ºæ–°çš„åˆ†æ”¯</p><p><code>&lt;name&gt;</code> æ–°åˆ†æ”¯çš„åå­— <code>&lt;template&gt;</code>ä»¥å“ªä¸ªåˆ†æ”¯æˆ–è€…commitä¸ºæ¨¡æ¿</p><p>ä¸å¡«åˆ™é»˜è®¤ä»¥å½“å‰åˆ†æ”¯ä¸ºæ¨¡æ¿</p><p><code>git checkout &lt;branchname&gt;</code>åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯</p><p><code>git branch</code> æŸ¥çœ‹æ‰€æœ‰åˆ†æ”¯</p><h4 id="git-å›æ»š">git å›æ»š</h4><p><code>git reset &lt;commitID&gt;</code> å›é€€</p><p>1.å·²æäº¤ï¼Œæ²¡æœ‰push</p><ul><li><code>git reset --soft</code> æ’¤é”€<code>commit</code></li><li><code>git reset --mix</code>æ’¤é”€commitå’Œaddä¸¤ä¸ªåŠ¨ä½œ</li></ul><p>2.å·²æäº¤ï¼Œå¹¶ä¸”push</p><ul><li><code>git reset --hard</code>æ’¤é”€å¹¶èˆå¼ƒç‰ˆæœ¬å·ä¹‹åçš„æäº¤è®°å½•ï¼Œæ–‡ä»¶å°†è¿˜åŸä¸ºæ‰€é€‰æäº¤çš„çŠ¶æ€</li><li><code>git revert</code> æ–‡ä»¶è¿˜åŸä¸ºæ‰€é€‰æäº¤çŠ¶æ€ æœ¬åœ°å˜æ›´ä¿æŒä¸å˜</li></ul><p>æ–‡ä»¶çŠ¶æ€ï¼š<br>1.æ²¡æœ‰è¢«addè¿‡çš„æ–‡ä»¶å«untracked<br>2.addä¹‹åæ–‡ä»¶å¤„äºstagedçŠ¶æ€ç­‰å¾…commit<br>3.commitä¹‹åæ–‡ä»¶å¤„äºunmodifiedè¿™é‡Œä¹‹æ‰€ä»¥æ˜¯modifiedæ˜¯å› ä¸ºæ–‡ä»¶ä¼šè·Ÿä»“åº“ä¸­çš„æ–‡ä»¶å¯¹æ¯”<br>4.å½“unmodifiedçš„æ–‡ä»¶è¢«ä¿®æ”¹åˆ™ä¼šå˜ä¸ºmodifiedçŠ¶æ€<br>5.modifiedä¹‹åçš„æ–‡ä»¶addä¹‹åå°†ç»§ç»­å˜ä¸ºstagedçŠ¶æ€<br>6.unmodifedçš„æ–‡ä»¶è¿˜æœ‰ä¸€ç§å¯èƒ½æ˜¯å·²ç»ä¸å†éœ€è¦äº†ï¼Œé‚£ä¹ˆå¯ä»¥removeå®ƒä¸å†è¿½è¸ªå˜ä¸ºuntrackedçŠ¶æ€</p><ul class="contains-task-list"><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> git flowå·¥ä½œæµ</li><li class="task-list-item"><input class="task-list-item-checkbox" checked="" disabled="" type="checkbox"> git rebase  å’Œ merge  ï¼ˆåˆå¹¶å’Œå˜åŸºï¼‰</li></ul><h4 id="gitignoreä¸ç”Ÿæ•ˆ">.gitignoreä¸ç”Ÿæ•ˆ</h4><blockquote><p><strong>åŸå› ï¼š</strong><br>1ï¼‰.gitignoreåªèƒ½å¿½ç•¥é‚£äº›åŸæ¥æ²¡æœ‰è¢«trackçš„æ–‡ä»¶ï¼Œå¦‚æœæŸäº›æ–‡ä»¶å·²ç»è¢«çº³å…¥äº†ç‰ˆæœ¬ç®¡ç†ä¸­ï¼Œåˆ™ä¿®æ”¹.gitignoreæ˜¯æ— æ•ˆçš„ã€‚<br>2ï¼‰æƒ³è¦.gitignoreèµ·ä½œç”¨ï¼Œå¿…é¡»è¦åœ¨è¿™äº›æ–‡ä»¶ä¸åœ¨æš‚å­˜åŒºä¸­æ‰å¯ä»¥ï¼Œ.gitignoreæ–‡ä»¶åªæ˜¯å¿½ç•¥æ²¡æœ‰è¢«staged(cached)æ–‡ä»¶ï¼Œ  å¯¹äºå·²ç»è¢«stagedæ–‡ä»¶ï¼ŒåŠ å…¥ignoreæ–‡ä»¶æ—¶ä¸€å®šè¦å…ˆä»stagedç§»é™¤ï¼Œæ‰å¯ä»¥å¿½ç•¥ã€‚</p></blockquote><h5 id="è§£å†³æ–¹æ¡ˆ">è§£å†³æ–¹æ¡ˆ</h5><p>å…ˆæŠŠæœ¬åœ°ç¼“å­˜åˆ é™¤ï¼Œç„¶åå†è¿›è¡Œgitçš„æäº¤</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> <span class="token function">rm</span> <span class="token parameter variable">-r</span> <span class="token parameter variable">--cached</span> <span class="token builtin class-name">.</span><span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span><span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">'update .gitignore'</span><span class="token function">git</span> push <span class="token parameter variable">-u</span> origin master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>ç¬¬äºŒç§æ–¹æ³•ï¼ˆæœªæµ‹è¯•ï¼‰</strong></p><p>æ‰‹åŠ¨è®¾ç½®ä¸è¦æ£€æŸ¥ç‰¹å®šæ–‡ä»¶çš„æ›´æ”¹æƒ…å†µã€‚</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> update-index --assume-unchanged <span class="token environment constant">PATH</span> //åœ¨<span class="token environment constant">PATH</span>å¤„è¾“å…¥è¦å¿½ç•¥çš„æ–‡ä»¶<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Gitä¸­CRLFä¸LFçš„è½¬æ¢">Gitä¸­CRLFä¸LFçš„è½¬æ¢</h4><blockquote><p><a href="https://git-scm.com/docs/gitattributes">Git - gitattributes Documentation</a></p></blockquote><h5 id="é€šè¿‡Gitçš„å…¨å±€é…ç½®è¿›è¡Œä¿®æ”¹">é€šè¿‡Gitçš„å…¨å±€é…ç½®è¿›è¡Œä¿®æ”¹</h5><p><em>æ­¤ç§æ–¹å¼ä¿®æ”¹çš„æ˜¯è‡ªå·±ç”µè„‘çš„gitçš„å…¨å±€é…ç½®</em></p><ul><li>è®¾ç½®autoclfå±æ€§</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// æäº¤æ—¶è½¬æ¢ä¸ºLFï¼Œæ£€å‡ºæ—¶è½¬æ¢ä¸ºCRLF<span class="token function">git</span> config <span class="token parameter variable">--global</span> core.autocrlf <span class="token boolean">true</span>   // æäº¤æ—¶è½¬æ¢ä¸ºLFï¼Œæ£€å‡ºæ—¶ä¸è½¬æ¢<span class="token function">git</span> config <span class="token parameter variable">--global</span> core.autocrlf input   // æäº¤æ£€å‡ºå‡ä¸è½¬æ¢<span class="token function">git</span> config <span class="token parameter variable">--global</span> core.autocrlf <span class="token boolean">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¼€å¯safecrlfæ£€æŸ¥</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">// æ‹’ç»æäº¤åŒ…å«æ··åˆæ¢è¡Œç¬¦çš„æ–‡ä»¶ ï¼ˆä¸€èˆ¬è®¾ç½®ä¸ºtrueï¼‰<span class="token function">git</span> config <span class="token parameter variable">--global</span> core.safecrlf <span class="token boolean">true</span>   // å…è®¸æäº¤åŒ…å«æ··åˆæ¢è¡Œç¬¦çš„æ–‡ä»¶<span class="token function">git</span> config <span class="token parameter variable">--global</span> core.safecrlf <span class="token boolean">false</span>   // æäº¤åŒ…å«æ··åˆæ¢è¡Œç¬¦çš„æ–‡ä»¶æ—¶ç»™å‡ºè­¦å‘Š<span class="token function">git</span> config <span class="token parameter variable">--global</span> core.safecrlf warn<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="é€šè¿‡-gitattributesè¿›è¡Œä¿®æ”¹ï¼ˆæ›´æ¨èï¼‰">é€šè¿‡.gitattributesè¿›è¡Œä¿®æ”¹ï¼ˆæ›´æ¨èï¼‰</h5><blockquote><p>.gitattributesæ˜¯é’ˆå¯¹ä¸€ä¸ªå•ä¸€çš„ä»“åº“çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€ä¸ªä»£ç ä»“åº“éƒ½å¯ä»¥åŒ…å«ä¸€ä¸ª.gitattributesæ–‡ä»¶ã€‚è¿™ç§æ–¹å¼è®¾ç½®ä¹‹åï¼Œä¸éœ€è¦ä¸€ä¸ªé¡¹ç›®ç»„é‡Œé¢çš„åŒäº‹åˆ†åˆ«å†å»ä¿®æ”¹è‡ªå·±ç”µè„‘çš„gitçš„å…¨å±€é…ç½®ã€‚</p></blockquote><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>. <span class="token assign-left variable">text</span><span class="token operator">=</span>autoï¼šé‡‡ç”¨gitè®¤ä¸ºæœ€å¥½çš„æ–¹å¼æ¥å¤„ç†æ–‡ä»¶ï¼Œæœªåœ¨.gitattributesä¸­ è®¾ç½®çš„é¡¹é»˜è®¤æŒ‰ç…§è¿™ç§æ–¹å¼å¤„ç†ï¼›ï¼ˆIf Git decides that the content is text, its line endings are converted to LF on checkin. When the <span class="token function">file</span> has been committed with CRLF, no conversion  is done.ï¼‰gitå‘ç°æ˜¯æ–‡æœ¬æ–‡ä»¶,é‚£ä¹ˆåœ¨checkinçš„æ—¶å€™ï¼Œä¼šå°†æ–‡ä»¶ç»“å°¾ç¬¦è½¬ æ¢ä¸ºLFã€‚æœæ–‡ä»¶å·²ç»è¢«å·²CRLFçš„å½¢å¼æäº¤ï¼ˆå°±æ˜¯è¯´å·²ç»åœ¨Gtiä»“åº“ä¸­çš„æ–‡ä»¶ï¼Œå¦‚ æœç»“æŸç¬¦æ˜¯CRLFï¼Œä¸ä¼šæœ‰ä»»ä½•çš„è½¬æ¢ï¼‰ï¼Œä¸ä¼šæœ‰ä»»ä½•è½¬æ¢ã€‚  <span class="token number">2</span>. <span class="token parameter variable">-text</span> è¡¨ç¤ºè®©gitåœ¨checkinä»¥åŠcheckoutçš„æ—¶å€™ï¼Œå¯¹end-of-lineä¸ åšä»»ä½•è½¬æ¢ã€‚  <span class="token number">3</span>. text è¡¨ç¤ºåœ¨checkinçš„æ—¶å€™ä¼šè¢«è½¬æ¢ä¸ºLFï¼ˆåœ¨repositoryä¸­çš„æ–‡ä»¶ç»“æŸ ç¬¦æ˜¯LFï¼‰ï¼Œå¦‚æœéœ€è¦æ§åˆ¶åœ¨checkoutçš„æ—¶å€™çš„æ¢è¡Œç¬¦ï¼Œéœ€è¦ç»“åˆeolè¿›è¡Œè®¾ç½® ï¼ˆä¹Ÿå°±æ˜¯  æ§åˆ¶working treeä¸­çš„æ–‡ä»¶çš„ç»“å°¾ç¬¦ï¼Œéœ€è¦é€šè¿‡eolè®¾ç½®ï¼‰ã€‚  <span class="token assign-left variable">text</span><span class="token operator">=</span>autoå’Œtextçš„åŒºåˆ«åœ¨äºï¼Œtext<span class="token operator">=</span>autoç”±gitæ¥ç¡®å®šæ˜¯ä¸æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œ ä»è€Œè¿›è¡Œè½¬æ¢ï¼›è€Œtextè¡¨ç¤ºï¼Œä½ ç¡®å®šè¿™ä¸ªpathå°±æ˜¯æ–‡æœ¬æ–‡ä»¶ï¼Œä¼šç›´æ¥å¯¹è¿™ä¸ª pathè¿›è¡Œè½¬æ¢ï¼Œè€Œä¸æ˜¯æœ‰gitæ¥decidesæ˜¯å¦è½¬æ¢ã€‚  <span class="token number">4</span>. å¦‚æœæ²¡æœ‰æŒ‡å®štextï¼Œgitä¼šä½¿ç”¨å…¨å±€é…ç½®ä¸­çš„core.autocrlfæ¥è¿›è¡Œeol çš„è½¬æ¢ã€‚core.autocrlféœ€è¦è‡ªå·±åœ¨è‡ªå·±çš„ç”µè„‘ä¸Šè¿›è¡Œé…ç½®ã€‚ <span class="token number">5</span>. <span class="token assign-left variable">eol</span><span class="token operator">=</span>crlfï¼šå¯¹å·¦è¾¹åŒ¹é…çš„æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨CRLFæ¢è¡Œç¬¦æ ¼å¼ï¼Œå¦‚æœæœ‰æ–‡ä»¶ä¸­å‡ºç°LFå°†ä¼šè½¬æ¢æˆCRLF<span class="token punctuation">;</span>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨checkinå’Œcheckoutçš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸­éƒ½æ˜¯CRLFï¼ŒLFä¼šè¢«è½¬æ¢ä¸ºCRLFã€‚ <span class="token number">7</span>. <span class="token assign-left variable">eol</span><span class="token operator">=</span>lfï¼šå¯¹å·¦è¾¹åŒ¹é…çš„æ–‡ä»¶ç»Ÿä¸€ä½¿ç”¨LFæ¢è¡Œç¬¦æ ¼å¼ï¼Œå¦‚æœæœ‰æ–‡ä»¶ä¸­å‡ºç°CRLFå°†ä¼šè½¬æ¢æˆLF<span class="token punctuation">;</span>ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨checkinå’Œcheckoutçš„æ—¶å€™ï¼Œæ–‡ä»¶ä¸­éƒ½æ˜¯LFï¼ŒCRLFä¼šè¢«è½¬æ¢ä¸ºLFã€‚ <span class="token number">8</span>. binary: å‘Šè¯‰gitè¯¥æ–‡ä»¶ä¸ºäºŒè¿›åˆ¶ï¼Œé˜²æ­¢gitä¿®æ”¹è¯¥æ–‡ä»¶ã€‚gitä¸ä¼šå¯¹å¯¹å…¶ä¸­çš„æ¢è¡Œç¬¦è¿›è¡Œæ”¹å˜ã€‚æ³¨æ„ï¼š.gitattributesæ–‡ä»¶å¿…é¡»è¦æäº¤ä¹‹åæ‰èƒ½ç”Ÿæ•ˆã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> git </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>C++åŸºç¡€</title>
      <link href="/44178/"/>
      <url>/44178/</url>
      
        <content type="html"><![CDATA[<h3 id="å¤´æ–‡ä»¶å†™æ³•">å¤´æ–‡ä»¶å†™æ³•</h3><pre class="line-numbers language-c++" data-language="c++"><code class="language-c++">#é˜²å«å¼å£°æ˜#ifndef _COMPLEX_ &#x2F;&#x2F;å¦‚æœæ²¡æœ‰å®šä¹‰è¿™ä¸ªâ€˜_COMPLEX_â€™ #define _COMPLEX_ &#x2F;&#x2F;å¦‚æœæ²¡æœ‰å®šä¹‰è¿™ä¸ªâ€˜_COMPLEX_â€™ ï¼Œåˆ™å®šä¹‰è¿™ä¸ªâ€˜_COMPLEX_â€™&#x2F;&#x2F;ç¬¬ä¸€æ¬¡include å°±ä¼šå®šä¹‰è¿™ä¸ª_COMPLEX_&#x2F;&#x2F;ç¬¬äºŒæ¬¡å†includeæ—¶ï¼Œè¿™ä¸ª_COMPLEX_è¢«å®šä¹‰è¿‡äº†ï¼Œä¸ä¼šè¿›å…¥åˆ°ä¸»ä½“ï¼Œä¹Ÿå°±ä¸ä¼šé‡å¤includeÂ·Â·Â·Â·Â·Â·    #endif<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªå·±å†™çš„å¤´æ–‡ä»¶ç”¨<code>#include â€œnameâ€</code> å³ç”¨åŒå¼•å·å¼•ç”¨</p><h3 id="ç±»æ¨¡æ¿">ç±»æ¨¡æ¿</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20211103213406959.png" alt="" loading="lazy"></p><p>å¦‚æœæ˜¯è¿™æ · é‚£ä¹ˆ<code>reï¼Œim</code>å°±è¢«å†™æ­»äº†ï¼Œè¿™å¥½å—ï¼Ÿè¿™ä¸å¥½ã€‚</p><p>å¦‚æœéœ€è¦ä¸€ä¸ªfloatç±»å‹æˆ–è€…æ•´å‹ç±»å‹çš„è¯éš¾åˆ°è¦é‡æ–°å†™ä¸€ä¸ªç±»å—ï¼Ÿ</p><p>è¿™æ—¶å€™å°±ç”¨åˆ°ç±»æ¨¡æ¿ï¼Œä¸æŠŠå˜é‡ç±»å‹å†™æ­»</p><p>æ‰€ä»¥è¿™æ ·</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20211103214052692.png" alt="" loading="lazy"></p><p>é‚£ä¹ˆæˆ‘ä»¬ä½¿ç”¨æ—¶åªéœ€è¿™æ ·</p><p><code>complex&lt;double&gt; c1(2.5,1.5)</code> <code>reï¼Œim</code>å°±æ˜¯<code>double</code>å‹</p><p><code>complex&lt;int&gt; c2(2,6)</code> <code>reï¼Œim</code>å°±æ˜¯<code>int</code>å‹</p><h3 id="inlineï¼ˆå†…è”ï¼‰å‡½æ•°">inlineï¼ˆå†…è”ï¼‰å‡½æ•°</h3><ul><li><p>å®šä¹‰</p><ul><li>å®šä¹‰åœ¨classé‡Œçš„å‡½æ•°</li></ul></li><li><p>ä¼˜ç‚¹</p><ul><li>é€Ÿåº¦å¿«</li><li>æœ‰å®çš„ç‰¹æ€§ï¼Œæ²¡æœ‰å®çš„ç¼ºç‚¹</li></ul></li><li><p>ç¼ºç‚¹</p><ul><li>è¿‡äºå¤æ‚çš„inline funcä¸ä¼šè¢«ç¼–è¯‘å™¨å®šä¹‰æˆinline</li></ul></li></ul><h3 id="æ„é€ å‡½æ•°">æ„é€ å‡½æ•°</h3><ul><li>ç‰¹åˆ«ä¹‹å¤„<ul><li>å‡½æ•°åç§°å’Œç±»çš„åç§°ç›¸åŒ</li><li>æ²¡æœ‰è¿”å›ç±»å‹ï¼Œä¹Ÿä¸éœ€è¦æœ‰</li><li>æ„é€ å‡½æ•°å°±æ˜¯ç”¨æ¥åˆ›å»ºå¯¹è±¡çš„</li><li>åˆ›å»ºå¯¹è±¡æ—¶æ„é€ å‡½æ•°ä¼šè¢«è‡ªç„¶è€Œç„¶è°ƒç”¨èµ·æ¥</li><li>åˆå€¼åˆ—ï¼ˆè§å›¾ï¼‰ è¦å¥½å¥½åˆ©ç”¨ ï¼ˆæ„é€ å‡½æ•°çš„ç‰¹æ®Šè¯­æ³•ï¼‰</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20211103221805093.png" alt="" loading="lazy"></p><h3 id="å‚æ•°ä¼ é€’">å‚æ•°ä¼ é€’</h3><ul><li>å°½é‡ç”¨å¼•ç”¨<ul><li>å¦‚æœä¸æƒ³ä¼ è¿›å»çš„å‚æ•°è¢«ä¿®æ”¹ï¼ŒåŠ <code>const</code></li></ul></li></ul><h3 id="å‹å…ƒï¼ˆfriendsï¼‰">å‹å…ƒï¼ˆfriendsï¼‰</h3><ul><li>å‹å…ƒå¯ä»¥è°ƒç”¨Private</li><li>ç›¸åŒçš„classäº’ä¸ºå‹å…ƒ</li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20211103233743036.png" alt="" loading="lazy"></p><p><code>c2</code>é€šè¿‡<code>func</code>ç›´æ¥è®¿é—®<code>c1</code>çš„<code>re im</code></p><h3 id="æˆå‘˜å‡½æ•°">æˆå‘˜å‡½æ•°</h3><ul><li>ä»»ä½•ä¸€ä¸ªæˆå‘˜å‡½æ•°éƒ½æœ‰ä¸€ä¸ªéšè—çš„thisæŒ‡é’ˆ</li><li>thisæŒ‡é’ˆæŒ‡å‘è¿™ä¸ªè°ƒç”¨è€… ï¼Œå³è°è°ƒç”¨ï¼ŒæŒ‡å‘è°</li></ul>]]></content>
      
      
      <categories>
          
          <category> Cè¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Padavanå¸¸ç”¨å‘½ä»¤</title>
      <link href="/54362/"/>
      <url>/54362/</url>
      
        <content type="html"><![CDATA[<h2 id="é‡å¯æœåŠ¡å‘½ä»¤">é‡å¯æœåŠ¡å‘½ä»¤</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">restart_dhcpd    restart_firewall  restart_virtualvpn_client restart_wanrestart_dns      restart_networkmap restart_virtualvpn_server2Gç›¸å…³çš„å‘½ä»¤radio2_disable     radio2_enable      radio2_guest_enable  radio2_toggle      radio2_toggle_onradio2_eeprom_mac   radio2_guest_disable radio2_restart     radio2_toggle_off5Gç›¸å…³çš„å‘½ä»¤radio5_disable     radio5_enable      radio5_guest_enable  radio5_toggle      radio5_toggle_onradio5_eeprom_mac   radio5_guest_disable radio5_restart     radio5_toggle_off<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é…åˆè®¡åˆ’ä»»åŠ¡ï¼Œå°±å¯ä»¥å®šæ—¶é‡å¯å„ç§æœåŠ¡äº†</p><h2 id="NVRAM">NVRAM</h2><p><code>nvram show</code><br>åˆ—å‡º <code>NVRAM</code> å†…æ‰€æœ‰å‚æ•°ï¼Œæˆ‘ä»¬äº¦å¯ä»¥ç”¨ <code>grep</code> å‘½ä»¤æ¥ç­›é€‰</p><p>è¿™å‘½ä»¤åˆ—å‡ºäº†æ‰€ä»¥ç”¨ <code>lan</code>å¼€å¤´çš„å‚æ•°</p><p><code>nvram show | grep lan</code></p><p><code>nvram set</code> å‚æ•°=æ•°å€¼</p><p><code>nvram set vpnc_dgw=1</code></p><h2 id="è‡ªå®šä¹‰è„šæœ¬">è‡ªå®šä¹‰è„šæœ¬</h2><h3 id="1-æ£€æµ‹å…¨éƒ¨æµé‡æ˜¯å¦èµ°VPN">1.æ£€æµ‹å…¨éƒ¨æµé‡æ˜¯å¦èµ°VPN</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token assign-left variable">vpnc_dwg_status</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span>nvram get vpnc_dgw<span class="token variable">`</span></span>logger <span class="token parameter variable">-t</span> <span class="token string">"ã€check_vpnã€‘"</span> <span class="token string">"æ£€æµ‹æ˜¯å¦å…¨éƒ¨æµé‡èµ°VPN"</span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"<span class="token variable">$vpnc_dwg_status</span>"</span> <span class="token operator">==</span> <span class="token string">"1"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span>logger <span class="token parameter variable">-t</span> <span class="token string">"ã€check_vpnã€‘"</span> <span class="token string">"å…¨å±€æµé‡èµ°VPN"</span><span class="token keyword">else</span>logger <span class="token parameter variable">-t</span> <span class="token string">"ã€check_vpnã€‘"</span> <span class="token string">"å¿«æ–­ç½‘äº†ï¼è‡ªåŠ¨è®¾ç½®å…¨å±€æµé‡èµ°VPN"</span>nvram <span class="token builtin class-name">set</span> <span class="token assign-left variable">vpnc_dgw</span><span class="token operator">=</span><span class="token number">1</span>restart_vpn_client<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-æ£€æµ‹æ¡¥æ¥çŠ¶æ€">2.æ£€æµ‹æ¡¥æ¥çŠ¶æ€</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/sh</span><span class="token assign-left variable">ping_text</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ping</span> <span class="token parameter variable">-4</span> <span class="token number">10.0</span>.1.1 <span class="token parameter variable">-c</span> <span class="token number">1</span> <span class="token parameter variable">-w</span> <span class="token number">4</span> <span class="token parameter variable">-q</span><span class="token variable">`</span></span><span class="token assign-left variable">ping_time</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $ping_text <span class="token operator">|</span> <span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">'/'</span> <span class="token string">'&#123;print $4&#125;'</span><span class="token operator">|</span> <span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">'.'</span> <span class="token string">'&#123;print $1&#125;'</span><span class="token variable">`</span></span><span class="token assign-left variable">ping_loss</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token builtin class-name">echo</span> $ping_text <span class="token operator">|</span> <span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">', '</span> <span class="token string">'&#123;print $3&#125;'</span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token string">'&#123;print $1&#125;'</span><span class="token variable">`</span></span><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-z</span> <span class="token string">"<span class="token variable">$ping_time</span>"</span> <span class="token punctuation">]</span> <span class="token punctuation">;</span> <span class="token keyword">then</span><span class="token builtin class-name">echo</span> <span class="token string">"online"</span>logger <span class="token parameter variable">-t</span> <span class="token string">"ã€wtach_wanã€‘"</span> <span class="token string">"ç½‘ç»œè¿æ¥æ­£å¸¸"</span><span class="token keyword">else</span><span class="token builtin class-name">echo</span> <span class="token string">"Internetäº’è”ç½‘æ–­çº¿åè‡ªåŠ¨é‡å¯WAN"</span>logger <span class="token parameter variable">-t</span> <span class="token string">"ã€wtach_wanã€‘"</span> <span class="token string">"Internetäº’è”ç½‘æ–­çº¿åè‡ªåŠ¨é‡å¯WAN"</span>restart_wan<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Padavan </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SQLæ³¨å…¥åŸºç¡€</title>
      <link href="/20316/"/>
      <url>/20316/</url>
      
        <content type="html"><![CDATA[<p>æŸ¥åº“ <code>select schema_name from information_schema.schemata</code></p><p>æŸ¥è¡¨ <code>select table_name from information_schema.tables where table_schema=''</code></p><p>æŸ¥åˆ— <code>select column_name from information_schema.columns where table_name =''</code></p><p>æŸ¥å­—æ®µ <code>select username,password from security.users;</code></p><h3 id="LIMIT">LIMIT</h3><p><code>select * from users where id='1' limit 0,1</code>//æ‰§è¡Œè¯¥è¯­å¥å‰éœ€è¦å…ˆé€‰æ‹©å¯¹åº”çš„æ•°æ®åº“</p><p>limit 0,1 å…¶ä¸­ 0è¡¨ç¤ºä»å“ªå¼€å§‹ï¼Œ1è¡¨ç¤ºæ­¥é•¿</p><h3 id="order">order</h3><p><code>select * from users order by 1</code> //å¯¹usersè¿™ä¸ªè¡¨ä¸­çš„ç¬¬ä¸€åˆ—è¿›è¡Œæ’åºï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸€åˆ—åˆ™ä¼šæŠ¥é”™ï¼Œå¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹è·å¾—åˆ—æ•°</p><h3 id="union-è”åˆæŸ¥è¯¢">union è”åˆæŸ¥è¯¢</h3><p>åº”ç”¨åœºæ™¯ï¼š<br>è¦æŸ¥è¯¢çš„ç»“æœæ¥è‡ªäºå¤šä¸ªè¡¨ï¼Œä¸”å¤šä¸ªè¡¨æ²¡æœ‰ç›´æ¥çš„è¿æ¥å…³ç³»ï¼Œä½†æŸ¥è¯¢çš„ä¿¡æ¯ä¸€è‡´æ—¶</p><p>ç‰¹ç‚¹ï¼š<br>1ã€è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢<strong>åˆ—æ•°æ˜¯ä¸€è‡´çš„</strong>ï¼<br>2ã€è¦æ±‚å¤šæ¡æŸ¥è¯¢è¯­å¥çš„æŸ¥è¯¢çš„æ¯ä¸€åˆ—çš„ç±»å‹å’Œé¡ºåºæœ€å¥½ä¸€è‡´<br>3ã€unionå…³é”®å­—é»˜è®¤å»é‡ï¼Œå¦‚æœä½¿ç”¨union all å¯ä»¥åŒ…å«é‡å¤é¡¹</p><h4 id="ä¾‹å­">ä¾‹å­</h4><p>å¯¹ <code>http://localhost:8888/Less-1/?id=-1' union select 1,2,3--+ </code></p><p>æ‰§è¡Œçš„mysqlè¯­å¥ä¸º</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">SELECT * FROM users WHERE id&#x3D;&#39;-1&#39; union select 1,2,3-- &#39; LIMIT 0,1<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å‡½æ•°">å‡½æ•°</h3><h4 id="group-concat">group_concat()</h4><h4 id="concat-ws-â€˜-â€™-A-B">concat_ws(â€˜~â€™,A,B)</h4><blockquote><p>æ³¨æ„è¿™é‡Œçš„å•å¼•å·ï¼Œæˆ‘ä»¬è¦å°½é‡é¿å…å‡ºç°å•å¼•å·é—®é¢˜ï¼Œæ”¹ç”¨åå…­è¿›åˆ¶</p></blockquote><p>ä¸‰ä¸ªå‚æ•°åˆ†åˆ«ä¸º åˆ†éš”ç¬¦ æ•°æ®A æ•°æ®B</p><p>æœ€ç»ˆè¿”å›ç»“æœä¸º A~B</p><h4 id="left-a-b">left(a,b)</h4><p>â€¢left(a,b)ä»å·¦ä¾§æˆªå–açš„å‰bä½ï¼Œæ­£ç¡®åˆ™è¿”å›1ï¼Œé”™è¯¯åˆ™è¿”å›0</p><p><code>left(database(),1)='s'</code> //ç¬¬ä¸€ä½æ˜¯å¦ä¸ºs</p><h4 id="regexp">regexp()</h4><p><code>select user() regexp 'r'</code></p><p>ç»“æœæ˜¯rå¼€å¤´çš„ç”¨æˆ·åï¼Œrootç­‰ï¼Œregexpåé¢å¸¦æ­£åˆ™è¡¨è¾¾å¼</p><h4 id="like">like()</h4><p><code>select user() like like 'ro%'</code> æ­¤å¤„çš„ä½œç”¨ä¸ºåŒ¹é… å¼€å¤´ä¸ºâ€œroâ€çš„ç”¨æˆ·å</p><h4 id="substr-a-b-c">substr(a,b,c)</h4><p>ä»ä½ç½®bå¼€å§‹ï¼Œæˆªå–aå­—ç¬¦ä¸²cä½é•¿åº¦</p><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select substr((select database()),1,1)&#x3D;&#39;sâ€™; -- åŒ¹é…ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯å¦æ˜¯ sselect substr((select database()),1,3)&#x3D; â€˜secâ€™; -- åŒ¹é…å‰ä¸‰ä¸ªä¸ªå­—ç¬¦æ˜¯å¦æ˜¯ sec<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ascii">ascii()</h4><p>å°†æŸä¸ªå­—ç¬¦ä¸²è½¬åŒ–ä¸ºasciiå€¼</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> SQL </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SQLæ³¨å…¥ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PythonåŸºç¡€å·©å›º</title>
      <link href="/19628/"/>
      <url>/19628/</url>
      
        <content type="html"><![CDATA[<h3 id="æ ‡è¯†ç¬¦">æ ‡è¯†ç¬¦</h3><ul><li>é¦–å­—ç¬¦æ˜¯å­—æ¯æˆ–ä¸‹åˆ’çº¿</li><li>å…¶ä½™å¯ä»¥æ˜¯<strong>å­—æ¯ã€ä¸‹åˆ’çº¿ã€æ•°å­—</strong></li><li>å¤§å°å†™æ•æ„Ÿ(PIå’Œpiæ˜¯ä¸åŒçš„æ ‡è¯†ç¬¦)</li><li><strong>å…³é”®å­—</strong>  <strong>ä¸</strong>  å¯ä½œä¸ºæ ‡è¯†ç¬¦</li></ul><p>å…³é”®å­—ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> keyword<span class="token keyword">print</span><span class="token punctuation">(</span>keyword<span class="token punctuation">.</span>kwlist<span class="token punctuation">)</span><span class="token comment">#è¾“å‡ºï¼š</span><span class="token punctuation">[</span><span class="token string">'False'</span><span class="token punctuation">,</span> <span class="token string">'None'</span><span class="token punctuation">,</span> <span class="token string">'True'</span><span class="token punctuation">,</span> <span class="token string">'and'</span><span class="token punctuation">,</span> <span class="token string">'as'</span><span class="token punctuation">,</span> <span class="token string">'assert'</span><span class="token punctuation">,</span> <span class="token string">'async'</span><span class="token punctuation">,</span> <span class="token string">'await'</span><span class="token punctuation">,</span> <span class="token string">'break'</span><span class="token punctuation">,</span> <span class="token string">'class'</span><span class="token punctuation">,</span> <span class="token string">'continue'</span><span class="token punctuation">,</span> <span class="token string">'def'</span><span class="token punctuation">,</span> <span class="token string">'del'</span><span class="token punctuation">,</span> <span class="token string">'elif'</span><span class="token punctuation">,</span> <span class="token string">'else'</span><span class="token punctuation">,</span> <span class="token string">'except'</span><span class="token punctuation">,</span> <span class="token string">'finally'</span><span class="token punctuation">,</span> <span class="token string">'for'</span><span class="token punctuation">,</span> <span class="token string">'from'</span><span class="token punctuation">,</span> <span class="token string">'global'</span><span class="token punctuation">,</span> <span class="token string">'if'</span><span class="token punctuation">,</span> <span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token string">'in'</span><span class="token punctuation">,</span> <span class="token string">'is'</span><span class="token punctuation">,</span> <span class="token string">'lambda'</span><span class="token punctuation">,</span> <span class="token string">'nonlocal'</span><span class="token punctuation">,</span> <span class="token string">'not'</span><span class="token punctuation">,</span> <span class="token string">'or'</span><span class="token punctuation">,</span> <span class="token string">'pass'</span><span class="token punctuation">,</span> <span class="token string">'raise'</span><span class="token punctuation">,</span> <span class="token string">'return'</span><span class="token punctuation">,</span> <span class="token string">'try'</span><span class="token punctuation">,</span> <span class="token string">'while'</span><span class="token punctuation">,</span> <span class="token string">'with'</span><span class="token punctuation">,</span> <span class="token string">'yield'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¨è¾¾å¼">è¡¨è¾¾å¼</h3><p>ç”¨è¿ç®—ç¬¦ï¼ˆ<strong>é™¤äº†èµ‹å€¼è¿ç®—ç¬¦</strong>ï¼‰è¿æ¥å„ç§ç±»å‹æ•°æ®çš„å¼å­å°±æ˜¯è¡¨è¾¾å¼</p><ul><li>è¿ç®—ç¬¦æœ‰ä¼˜å…ˆçº§é¡ºåº</li><li>è¡¨è¾¾å¼å¿…é¡»æœ‰è¿ç®—ç»“æœ</li><li>å•ä¸ªå¸¸é‡æˆ–å˜é‡å¯ä»¥çœ‹ä½œæ˜¯æœ€ç®€å•çš„è¡¨è¾¾å¼ ä¾‹å¦‚ï¼š3ï¼Œâ€˜aâ€™</li></ul><h3 id="æ•°å­—">æ•°å­—</h3><ul><li>Pythonæ”¯æŒä»»æ„å¤§çš„æ•°å­—ï¼Œå…·ä½“å¯ä»¥å¤§åˆ°ä»€ä¹ˆç¨‹åº¦ä»…å—å†…å­˜å¤§å°çš„é™åˆ¶ã€‚</li><li>ç”±äºç²¾åº¦çš„é—®é¢˜ï¼Œå¯¹äºå®æ•°è¿ç®—å¯èƒ½ä¼šæœ‰ä¸€å®šçš„è¯¯å·®ï¼Œ<strong>åº”å°½é‡é¿å…åœ¨å®æ•°ä¹‹é—´ç›´æ¥è¿›è¡Œç›¸ç­‰æ€§æµ‹è¯•</strong>ï¼Œè€Œæ˜¯åº”è¯¥ä»¥äºŒè€…ä¹‹å·®çš„ç»å¯¹å€¼æ˜¯å¦<strong>è¶³å¤Ÿå°</strong>ä½œä¸ºä¸¤ä¸ªå®æ•°æ˜¯å¦ç›¸ç­‰çš„ä¾æ®ã€‚</li><li>åœ¨æ•°å­—çš„ç®—æœ¯è¿ç®—è¡¨è¾¾å¼æ±‚å€¼æ—¶ä¼šè¿›è¡Œéšå¼çš„ç±»å‹è½¬æ¢</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token operator">>></span><span class="token operator">></span> <span class="token number">0.4</span> <span class="token operator">-</span> <span class="token number">0.1</span> <span class="token operator">==</span> <span class="token number">0.3</span> <span class="token comment">#åº”å°½é‡é¿å…ç›´æ¥æ¯”è¾ƒä¸¤ä¸ªå®æ•°æ˜¯å¦ç›¸ç­‰</span><span class="token boolean">False</span><span class="token operator">>></span><span class="token operator">></span> <span class="token builtin">abs</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token operator">-</span><span class="token number">0.1</span> <span class="token operator">-</span> <span class="token number">0.3</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1e-6</span> <span class="token comment">#è¿™é‡Œ1e-6è¡¨ç¤º10çš„-6æ¬¡æ–¹</span><span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ‡ç‰‡">åˆ‡ç‰‡</h3><p>[N,M] ä¸åŒ…æ‹¬M</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">kè¡¨ç¤ºæ­¥è¿›ï¼Œç¼ºçœä¸º<span class="token number">1</span>å½“k<span class="token operator">&lt;</span><span class="token number">0</span>æ—¶ï¼Œa<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">]</span>è¡¨ç¤ºä»a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>å¼€å§‹<span class="token punctuation">(</span>å«a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>åˆ°a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>ç»“æŸ<span class="token punctuation">(</span>ä¸å«a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>ï¼Œä¸”é¡ºåºæ˜¯ä»åå‘å‰è¿›è¡Œéå†ï¼Œè¿”å›éå†ç»“æœã€‚iç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º<span class="token operator">-</span><span class="token number">1.</span> jç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º<span class="token operator">-</span><span class="token builtin">len</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span>å½“k<span class="token operator">></span><span class="token number">0</span>æ—¶ï¼Œa<span class="token punctuation">[</span>i<span class="token punctuation">,</span>j<span class="token punctuation">,</span>k<span class="token punctuation">]</span>è¡¨ç¤ºä»a<span class="token punctuation">[</span>i<span class="token punctuation">]</span>å¼€å§‹<span class="token punctuation">(</span>å«a<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>åˆ°a<span class="token punctuation">[</span>j<span class="token punctuation">]</span>ç»“æŸ<span class="token punctuation">(</span>ä¸å«a<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span>ï¼Œä¸”é¡ºåºæ˜¯ä»å‰å‘åè¿›è¡Œéå†ï¼Œè¿”å›éå†ç»“æœã€‚å½“iç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º<span class="token number">0</span>å½“jç¼ºçœæ—¶ï¼Œé»˜è®¤ä¸º<span class="token builtin">len</span><span class="token punctuation">(</span>alist<span class="token punctuation">)</span>kçš„æ­£è´Ÿå€¼çš„æ”¹å˜åªæ˜¯æ”¹å˜äº†éå†çš„æ–¹å‘è€Œå·²<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="èµ‹å€¼è¯­å¥">èµ‹å€¼è¯­å¥</h3><p><code>a,b = b,a</code> å¯ä»¥å®ç°aå’Œbçš„å€¼äº’æ¢</p><p>åŒæ ·<code>a,b ,c= c,b,a</code>ä¹Ÿæ˜¯å¯ä»¥çš„</p><h3 id="Round">Round</h3><p>è¿”å›æµ®ç‚¹æ•°çš„å››èˆäº”å…¥å€¼</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token boolean">False</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">in</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token boolean">True</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20211106221358354.png" alt="" loading="lazy"></p><h3 id="åŒºé—´">åŒºé—´</h3><ul><li>range å·¦å¼€å³é—­</li></ul><p>å­—ç¬¦ä¸² ä¸å¯å˜ç±»å‹</p><p>#è€ƒçš„æ˜¯å¤šåˆ†æ”¯æƒ…å†µä¸‹ï¼Œæ‰§è¡Œç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ä»£ç ï¼Œç„¶åå°±è·³å‡ºäº†ï¼Œè€Œä¸ä¼šé¡ºåºæ‰§è¡Œåç»­çš„æ¯ä¸ªåˆ†æ”¯</p><p>æƒ°æ€§æ±‚å€¼</p><p>reversed zip map filter enumerate éƒ½å…·æœ‰æƒ°æ€§æ±‚å€¼</p><p>strip()å‡½æ•°æ³¨æ„çš„åœ°æ–¹</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">str</span><span class="token operator">=</span>â€<span class="token operator">**</span><span class="token operator">*</span>python<span class="token operator">**</span><span class="token operator">*</span>â€<span class="token builtin">str</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span>â€˜<span class="token operator">*</span>â€™<span class="token punctuation">)</span>â€˜pythonâ€™<span class="token comment">#ä¼šæŠŠé¦–å°¾é‡å¤çš„éƒ½åˆ é™¤æ‰</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ç†è§£ append ä¸ extend æ–¹æ³•çš„åŒºåˆ«</p><p>append è¡¨ç¤ºæŠŠæŸä¸ªæ•°æ®å½“ä½œæ–°å…ƒç´ è¿½åŠ åˆ°åˆ—è¡¨çš„æœ€åé¢ï¼Œå®ƒçš„å‚æ•°å¯ä»¥æ˜¯<strong>ä»»æ„å¯¹è±¡</strong>ï¼š</p><p>extend çš„å‚æ•°å¿…é¡»æ˜¯<strong>å¯è¿­ä»£å¯¹è±¡</strong>ï¼Œè¡¨ç¤ºæŠŠè¯¥å¯¹è±¡é‡Œé¢æ‰€æœ‰å…ƒç´ <strong>é€ä¸ª</strong>åœ°è¿½åŠ åˆ°åˆ—è¡¨çš„åé¢ã€‚</p><h3 id="æ·±æ‹·è´-æµ…æ‹·è´">æ·±æ‹·è´ æµ…æ‹·è´</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> copyList <span class="token operator">=</span> <span class="token punctuation">[</span>â€œå¼ ä¸‰â€<span class="token punctuation">,</span>â€æå››â€<span class="token punctuation">,</span><span class="token punctuation">[</span>â€å¤§ç‹äº”â€<span class="token punctuation">,</span>â€å°ç‹äº”â€<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment">#ç­‰å·ï¼šåˆ—è¡¨å¯¹è±¡åœ°å€çš„æ‹·è´ï¼Œå¹¶æ²¡æœ‰å®ç°æ‹·è´æ•°æ®</span>List1 <span class="token operator">=</span> List<span class="token comment">#æµ…æ‹·è´ï¼šæ‹·è´æœ€å¤–å±‚çš„æ•°æ®ï¼ŒåµŒå¥—çš„ç»“æ„ä¾ç„¶æ˜¯åœ°å€å¼•ç”¨</span>List2 <span class="token operator">=</span> List<span class="token punctuation">.</span>copy<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#æ·±æ‹·è´ï¼šæ‹·è´æ•°æ®</span>List3<span class="token operator">=</span>copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>List<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>â€œList<span class="token punctuation">:</span>â€<span class="token punctuation">,</span>List<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>â€œç­‰å·<span class="token punctuation">:</span>â€<span class="token punctuation">,</span>List1<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>â€œæµ…æ‹·è´<span class="token punctuation">:</span>â€<span class="token punctuation">,</span>List2<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>â€œæ·±æ‹·è´<span class="token punctuation">:</span>â€<span class="token punctuation">,</span>List3<span class="token punctuation">)</span>è¾“å‡ºç»“æœï¼šList<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span> <span class="token string">'æå››'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'å¤§ç‹äº”'</span><span class="token punctuation">,</span> <span class="token string">'å°ç‹äº”'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>ç­‰å·<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span> <span class="token string">'æå››'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'å¤§ç‹äº”'</span><span class="token punctuation">,</span> <span class="token string">'å°ç‹äº”'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>æµ…æ‹·è´<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span> <span class="token string">'æå››'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'å¤§ç‹äº”'</span><span class="token punctuation">,</span> <span class="token string">'å°ç‹äº”'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>æ·±æ‹·è´<span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span> <span class="token string">'æå››'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'å¤§ç‹äº”'</span><span class="token punctuation">,</span> <span class="token string">'å°ç‹äº”'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¦‚ä½•å¯¹åˆ—è¡¨è¿›è¡Œæ’åº">å¦‚ä½•å¯¹åˆ—è¡¨è¿›è¡Œæ’åº</h3><p>åˆ—è¡¨æ’åºæœ‰ä¸¤ç§æ–¹å¼ï¼Œä¸€ç§æ˜¯åˆ—è¡¨è‡ªå¸¦çš„æ–¹æ³•sort()ï¼Œæ³¨æ„ï¼šsort()æ˜¯åŸåœ°æ“ä½œï¼›ä¸€ç§æ˜¯å†…å»ºå‡½æ•°<code>sorted()</code>ï¼Œ<strong>è¿”å›æ–°çš„åˆ—è¡¨</strong>ã€‚å¤æ‚çš„æ•°æ®ç±»å‹å¯é€šè¿‡æŒ‡å®škeyå‚æ•°è¿›è¡Œæ’åºã€‚</p><p>remove ç§»é™¤æŸä¸ªå…ƒç´ ï¼Œè€Œä¸”åªèƒ½ç§»é™¤ç¬¬ä¸€æ¬¡å‡ºç°çš„å…ƒç´ ã€‚</p><p>delå…³é”®å­— æ ¹æ®æŒ‡å®šçš„ä½ç½®ç§»é™¤æŸå…ƒç´ ï¼›</p><p>pop æ–¹æ³•å¯ä»¥è¿”å›ç§»é™¤çš„å…ƒç´ </p><p>tupleæ²¡æœ‰append()ã€insert()æ–¹æ³•ï¼Œä¹Ÿä¸èƒ½èµ‹å€¼æˆå¦å¤–çš„å…ƒç´ ï¼Œå…¶ä»–è·å–æ–¹æ³•å’Œlistæ˜¯ä¸€æ ·çš„ã€‚<br>å› ä¸ºtupleä¸å¯å˜ï¼Œæ‰€ä»¥ä»£ç æ›´å®‰å…¨ï¼Œå¦‚æœ‰å¯èƒ½ï¼Œå°½é‡ä½¿ç”¨tupleä»£æ›¿listã€‚</p><h3 id="å­—å…¸">å­—å…¸</h3><p>å­—å…¸çš„è¿­ä»£ï¼Œdic.items()å¯æŸ¥çœ‹å­—å…¸çš„æ¯ä¸€å¯¹é”®å€¼å¯¹ï¼Œæ³¨æ„ï¼šå¦‚æœç›´æ¥å¯¹å­—å…¸å¯¹è±¡è¿›è¡Œè¿­<br>ä»£æˆ–è€…éå†æ—¶é»˜è®¤æ˜¯éå†å­—å…¸çš„â€œé”®â€ï¼š</p><p>ä½¿ç”¨ dic.clear()æ–¹æ³•åˆ é™¤å­—å…¸</p><p>aStock = {} åªåˆ é™¤äº†å¼•ç”¨ï¼Œå¹¶æ²¡æœ‰æ¸…ç©ºå­—å…¸</p><h3 id="é›†åˆ">é›†åˆ</h3><p>å¦‚æœåŸåºåˆ—æˆ–å¯è¿­ä»£å¯¹è±¡ä¸­æœ‰å¯å˜ï¼ˆä¸å¯å“ˆå¸Œï¼‰çš„å€¼ï¼Œæ— æ³•è½¬æ¢æˆä¸ºé›†åˆï¼ŒæŠ›å‡ºå¼‚å¸¸</p><h4 id="å¢åŠ é›†åˆå…ƒç´ ">å¢åŠ é›†åˆå…ƒç´ </h4><p>é›†åˆå¯¹è±¡çš„ add()æ–¹æ³•å¯ä»¥å¢åŠ æ–°å…ƒç´ ï¼Œå¦‚æœè¯¥å…ƒç´ å·²å­˜åœ¨åˆ™å¿½ç•¥è¯¥æ“ä½œï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼›<br>update()æ–¹æ³•åˆå¹¶å¦å¤–ä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ åˆ°å½“å‰é›†åˆä¸­ï¼Œå¹¶è‡ªåŠ¨å»é™¤é‡å¤å…ƒç´ ã€‚</p><p>é›†åˆå…·æœ‰æ— åºæ€§ï¼Œåªèƒ½éšæœºåˆ ï¼Œä¸èƒ½æŒ‡å®šç´¢å¼•</p><p>.joinè¿”å›çš„æ˜¯str</p><p>.joinæ¥æ”¶çš„ä¹Ÿåªèƒ½æ˜¯strç±»å‹</p><p><code>ï¼ˆï¼‰</code>å…ƒç»„</p><p><code>[ ]</code>åˆ—è¡¨</p><p><code>&#123; &#125;</code>å­—å…¸</p><p><code>indexï¼ˆ,start,endï¼‰</code></p><p>å­—å…¸<code>.get(  ,default)</code> è‹¥ä¸å­˜åœ¨ è¿”å›é»˜è®¤å€¼</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ ¡å›­å…¬å‘Šæé†’</title>
      <link href="/20230710014120/"/>
      <url>/20230710014120/</url>
      
        <content type="html"><![CDATA[<h2 id="é¡¹ç›®èƒŒæ™¯">é¡¹ç›®èƒŒæ™¯</h2><p>ç”±äºå­¦æ ¡å„ç§é€šçŸ¥ã€ç«èµ›ç¹å¤šï¼Œç›¸å…³äº‹å®œåœ¨ä¸åŒéƒ¨é—¨å‘å¸ƒï¼ŒåŒå­¦ä»¬æ€»æ˜¯é”™è¿‡ä¸€äº›é‡è¦çš„é€š çŸ¥ï¼Œä¸ºäº†æé«˜è·å–å­¦æ ¡é€šçŸ¥çš„æ•ˆç‡ï¼Œé¢å‘ä¸­å›½çŸ³æ²¹å¤§å­¦ï¼ˆåŒ—äº¬ï¼‰çš„åŒå­¦ä»¬å¼€å‘äº†æ­¤è½¯ä»¶ã€‚æ­¤è½¯ä»¶ä¸»è¦åŠŸèƒ½ä¸ºçˆ¬å–å­¦æ ¡æ•™åŠ¡å¤„ï¼ŒçŸ³æ²¹å­¦é™¢ï¼Œå·¥å­¦é™¢ï¼Œæ–‡ç†å­¦é™¢ï¼Œå°±ä¸šåˆ›ä¸šï¼Œå…±é’å›¢çš„é€šçŸ¥å¹¶å‘é€é‚®ä»¶åˆ°æŒ‡å®šé‚®ç®±åœ°å€ã€‚</p><h2 id="æ¦‚è¦è®¾è®¡">æ¦‚è¦è®¾è®¡</h2><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101343869.png" alt="" loading="lazy"></p><p>é‡‡ç”¨æ¨¡å—åŒ–ç¼–ç¨‹ï¼Œåœ¨<code>main.py</code>ä¸­import4ä¸ªæ¨¡å—ï¼Œå„ä¸ªæ¨¡å—åˆ†åˆ«æ‰¿æ‹…ç›¸åº”çš„åŠŸèƒ½ã€‚</p><p><code>configs.py</code>å‚¨å­˜å„ç±»é…ç½®ï¼Œæ–¹ä¾¿è°ƒç”¨å’Œç»Ÿä¸€ä¿®æ”¹</p><p><code>spider.py</code>çˆ¬è™«ä¸»è¦é…ç½®ï¼Œä¸»è¦æ‰¿æ‹…æ•°æ®çš„æå–ï¼Œåˆ†ç»„ï¼Œå†™å…¥ï¼Œæ£€æŸ¥æ•°æ®æœ‰æ— æ›´æ–°å¹¶è¿”å›çŠ¶æ€ç </p><p><code>send.py</code>Â Â Â  å‘é€é‚®ä»¶æ¨¡å—ï¼Œä½¿ç”¨smtplibåº“å‘é€htmlé‚®ä»¶</p><p><code>tool.py</code>Â  åˆ›å»ºç›®å½•ã€æ–‡ä»¶ï¼Œæ—¥å¿—çš„å†™å…¥ï¼Œè·å–ç³»ç»Ÿæ—¶é—´çš„é›†æˆï¼Œæ–¹ä¾¿åœ¨å…¶ä½™æ¨¡å—è°ƒç”¨</p><h2 id="è¿è¡Œæˆªå›¾">è¿è¡Œæˆªå›¾</h2><blockquote><p>åé¢éƒ¨ç½²åˆ°äº†LinuxæœåŠ¡å™¨ä¸Šï¼Œè¯¦è§ï¼š<br><a href="https://blog.izyq.cn/9039/">CUPNoticeéƒ¨ç½²åˆ°Linuxä¸Š | å¥”è·‘</a></p></blockquote><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//202307101345160.png" alt="" loading="lazy"></p><h2 id="æ•ˆæœå±•ç¤º">æ•ˆæœå±•ç¤º</h2><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//present1.png" alt="" loading="lazy"><br><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master//present2.png" alt="" loading="lazy"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> çˆ¬è™« </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ±å¿« è½¯è·¯ç”± ç¾¤æ™– All in one ä¸»æœºæŠ˜è…¾æ—¥è®°</title>
      <link href="/53797/"/>
      <url>/53797/</url>
      
        <content type="html"><![CDATA[<h2 id="æ•ˆæœå›¾">æ•ˆæœå›¾</h2><h3 id="å®ç‰©å›¾">å®ç‰©å›¾</h3><p>å›¾å§å¤§ä½¬ç‹‚å–œ</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104949779.png" alt="" loading="lazy"></p><h3 id="ç½‘ç»œæ‹“æ‰‘">ç½‘ç»œæ‹“æ‰‘</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/%E6%9C%AA%E5%91%BD%E5%90%8D%E6%96%87%E4%BB%B6.png" alt="" loading="lazy"></p><h3 id="ESXIç½‘ç»œæ‹“æ‰‘">ESXIç½‘ç»œæ‹“æ‰‘</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104358832.png" alt="" loading="lazy"></p><h3 id="iKuai">iKuai</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104450931.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104509316.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104540125.png" alt="" loading="lazy"></p><h3 id="LEDE">LEDE</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104632029.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901104659181.png" alt="" loading="lazy"></p><h2 id="iKuaiåˆ†æµ">iKuaiåˆ†æµ</h2><ol><li><p>ä¸‹è½½æ–‡ä»¶ï¼ˆ<a href="https://raw.githubusercontent.com/hq450/fancyss/master/rules/gfwlist.conf%EF%BC%89">https://raw.githubusercontent.com/hq450/fancyss/master/rules/gfwlist.confï¼‰</a></p></li><li><p>ä½¿ç”¨Python å°†GFwlistè½¬åŒ–ä¸ºiKuaiå¯è¯†åˆ«çš„æ ¼å¼</p></li><li><p>åœ¨iKuaiåŸŸååˆ†æµé‡Œ å¯¼å…¥ç”Ÿæˆçš„stream.txtæ–‡ä»¶</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#è®¾ç½®åŒºåŸŸå¼€å§‹</span>wanname <span class="token operator">=</span> <span class="token string">'wan2'</span> <span class="token comment">#è®¾ç½®å‡ºå›½åˆ†æµwanå£åå­—</span><span class="token comment">#è®¾ç½®åŒºåŸŸç»“æŸ</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'gfwlist.conf'</span><span class="token punctuation">,</span><span class="token string">'r'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    gfwlist_txt <span class="token operator">=</span> f<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>pos1 <span class="token operator">=</span> <span class="token number">0</span>pos2 <span class="token operator">=</span> <span class="token number">0</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    pos1 <span class="token operator">=</span> gfwlist_txt<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'ipset=/.'</span><span class="token punctuation">,</span> pos2<span class="token punctuation">)</span>    <span class="token keyword">if</span> pos1 <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>        <span class="token keyword">break</span>    pos2 <span class="token operator">=</span> gfwlist_txt<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'/gfwlist'</span><span class="token punctuation">,</span> pos1<span class="token punctuation">)</span>    data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>gfwlist_txt<span class="token punctuation">[</span>pos1<span class="token operator">+</span><span class="token number">8</span><span class="token punctuation">:</span>pos2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>write <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    writedata <span class="token operator">=</span> <span class="token string">'id='</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" "</span><span class="token operator">+</span><span class="token string">'enabled=yes comment='</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' domain='</span>    <span class="token keyword">for</span> ii <span class="token keyword">in</span> data<span class="token punctuation">[</span><span class="token number">500</span><span class="token operator">*</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token number">500</span><span class="token operator">*</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        writedata <span class="token operator">=</span> writedata<span class="token operator">+</span>ii<span class="token operator">+</span><span class="token string">','</span>    writedata <span class="token operator">=</span> writedata<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>writedata<span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>    writedata <span class="token operator">=</span> writedata<span class="token operator">+</span><span class="token string">' interface='</span><span class="token operator">+</span>wanname<span class="token operator">+</span><span class="token string">' src_addr= week=1234567 time=00:00-23:59'</span>    write<span class="token punctuation">.</span>append<span class="token punctuation">(</span>writedata<span class="token punctuation">)</span><span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token operator">//</span><span class="token number">500</span> <span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">:</span>    writedata <span class="token operator">=</span> <span class="token string">'id='</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" "</span> <span class="token operator">+</span> <span class="token string">'enabled=yes comment='</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' domain='</span>    <span class="token keyword">for</span> ii <span class="token keyword">in</span> data<span class="token punctuation">[</span><span class="token number">500</span> <span class="token operator">*</span> <span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">:</span>        writedata <span class="token operator">=</span> writedata <span class="token operator">+</span> ii <span class="token operator">+</span> <span class="token string">','</span>    writedata <span class="token operator">=</span> writedata<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token builtin">len</span><span class="token punctuation">(</span>writedata<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>    writedata <span class="token operator">=</span> writedata <span class="token operator">+</span> <span class="token string">' interface='</span><span class="token operator">+</span>wanname<span class="token operator">+</span><span class="token string">' src_addr= week=1234567 time=00:00-23:59'</span>    write<span class="token punctuation">.</span>append<span class="token punctuation">(</span>writedata<span class="token punctuation">)</span>finaldata <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> i <span class="token keyword">in</span> write<span class="token punctuation">:</span>    finaldata <span class="token operator">=</span> finaldata<span class="token operator">+</span>i <span class="token operator">+</span><span class="token string">'\n'</span><span class="token keyword">print</span><span class="token punctuation">(</span>finaldata<span class="token punctuation">)</span><span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'stream.txt'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>    f<span class="token punctuation">.</span>write<span class="token punctuation">(</span>finaldata<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æµ‹ä¸ªé€Ÿ">æµ‹ä¸ªé€Ÿ</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901105948342.png" alt="" loading="lazy"></p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901110014221.png" alt="" loading="lazy"></p><p>å®é™…ä½¿ç”¨ä¹Ÿæ˜¯ 4kæ— å‹åŠ›</p><h2 id="NASç¾¤æ™–åº”ç”¨">NASç¾¤æ™–åº”ç”¨</h2><h3 id="ç›‘æ§-Surveillance">ç›‘æ§:Surveillance</h3><p>å®¶é‡Œçš„è¤çŸ³äº‘åŸç”Ÿæ”¯æŒRSTPä¸²æµï¼Œå’Œè´´å§å¤§ä½¬40ä¸ªæ‘„åƒå¤´è®¸å¯çš„Surveillance é…åˆï¼Œè™½ç„¶ä¸æ˜¯å¾ˆå®Œç¾ï¼Œä½†æ˜¯æ¯”ä¹‹å‰æ–¹ä¾¿å¤ªå¤šï¼Œå°¤å…¶æ˜¯Surveillanceçš„æ™ºèƒ½å»¶æ—¶ç¡®å®ä¸é”™</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210901110621692.png" alt="" loading="lazy"></p><h2 id="ESXIå®‰è£…">ESXIå®‰è£…</h2><h3 id="ç½‘å¡é©±åŠ¨æ³¨å…¥">ç½‘å¡é©±åŠ¨æ³¨å…¥</h3><p>æˆ‘çš„ä¸»æ¿ç½‘å¡æ˜¯8168 é»˜è®¤ä¸æ”¯æŒ ï¼Œå› æ­¤éœ€è¦ä¸‹è½½<a href="https://vibsdepot.v-front.de/wiki/index.php/Net55-r8168">net55-r8168</a>è¿™ä¸ªé©±åŠ¨å¹¶å°è£…</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/20210831232838.png" alt="" loading="lazy"></p><p>é©±åŠ¨å®‰è£…å‚è€ƒåšå®¢  <a href="https://blog.whsir.com/post-3377.html">https://blog.whsir.com/post-3377.html</a></p><p>ESXIå‚è€ƒåšå®¢ <a href="https://blog.csdn.net/huaidan1469/article/details/100032963">https://blog.csdn.net/huaidan1469/article/details/100032963</a></p><h3 id="ESXIç®¡ç†åœ°å€å¤–ç½‘è®¿é—®">ESXIç®¡ç†åœ°å€å¤–ç½‘è®¿é—®</h3><p>è½¬å‘åˆ°443ç«¯å£ï¼Œå…¶ä»–å‡æ— æ•ˆ</p><p>å°è¯•ä¿®æ”¹é»˜è®¤ç«¯å£ï¼Œä½†ESXIæ¯æ¬¡é‡å¯åé˜²ç«å¢™ä¼šé‡ç½®ï¼Œä¿®æ”¹èµ·æ¥å¤ªç¹çã€‚</p><h2 id="NASç¾¤æ™–å®‰è£…">NASç¾¤æ™–å®‰è£…</h2><p>é»‘ç¾¤æ™–çš„å®‰è£…æ–‡ä»¶åˆ†ä¸ºä¸¤ä¸ªï¼Œç¬¬ä¸€éƒ¨åˆ†ä¸ºå¼•å¯¼é¡¹ï¼Œç¬¬äºŒéƒ¨åˆ†ä¸ºç³»ç»Ÿé•œåƒã€‚æ¯ä¸ªç‰ˆæœ¬çš„å¼•å¯¼é¡¹æ”¯æŒçš„ç¾¤æ™–ç³»ç»Ÿç‰ˆæœ¬æœ‰é™ï¼Œè¾ƒä½ç‰ˆæœ¬çš„å¼•å¯¼é¡¹å¯èƒ½æ— æ³•å¼•å¯¼è¾ƒæ–°çš„ç³»ç»Ÿé•œåƒï¼Œå¯¼è‡´æ— æ³•è¿›å…¥ç³»ç»Ÿï¼Œæ‰€ä»¥åœ¨é€‰æ‹©å¼•å¯¼ç›˜æ—¶éœ€è¦æ³¨æ„å…¶æ˜¯å¦æ”¯æŒä½ å‡†å¤‡å®‰è£…çš„ç¾¤æ™–ç‰ˆæœ¬ã€‚ä½ å¯ä»¥åœ¨ <a href="https://xpenology.com/forum/topic/12952-dsm-62-loader/">Jun å¤§çš„å¸–å­</a>ä¸­è·å–åˆ°æ‰€æœ‰çš„å¼•å¯¼é¡¹ä¸‹è½½é“¾æ¥ã€‚</p><p>é»‘ç¾¤æ™–å’Œé»‘è‹¹æœçš„å¯åŠ¨æ–¹å¼æœ‰ç‚¹åƒï¼Œå¯åŠ¨æ—¶ä¼šå…ˆå¯åŠ¨å¼•å¯¼ï¼Œä»å¼•å¯¼é‡Œé¢è¯»å–ä¿¡æ¯ï¼Œè¿›è€Œå¯åŠ¨å¯¹åº”é…ç½®çš„ç³»ç»Ÿï¼Œæ‰€ä»¥å¼•å¯¼å’Œç³»ç»Ÿæ˜¯åˆ†å¼€çš„ã€‚</p><p>å› ä¸ºå¼•å¯¼æ–‡ä»¶æ˜¯imgæ ¼å¼çš„é•œåƒæ–‡ä»¶ï¼Œæ— æ³•ç›´æ¥åœ¨ESXiä¸Šä½¿ç”¨ã€‚æœ‰ä¸¤ç§æ€è·¯ï¼Œç¬¬ä¸€ç§æ˜¯å°†synoboot.imgè½¬æ¢æˆisoæ–‡ä»¶ï¼Œç„¶åæŒ‚åˆ°è™šæ‹Ÿæœºçš„å…‰é©±ä¸Šï¼Œå¼€æœºå…ˆå¯åŠ¨å…‰é©±ï¼›å¦ä¸€ç§æ˜¯å°†synoboot.imgè½¬æ¢æˆESXiçš„ä¸€å—è™šæ‹Ÿç£ç›˜ï¼Œè¿™å—ç›˜æ˜¯ç‹¬ç«‹äºæ•°æ®ç›˜çš„ï¼Œå¼€æœºå…ˆå¯åŠ¨è¿™å—è£…æœ‰å¼•å¯¼çš„ç£ç›˜ã€‚</p><p>é¦–å…ˆå®‰è£…è½¬æ¢å¼•å¯¼æ–‡ä»¶çš„è½¯ä»¶StarWind V2V Converterï¼Œ<a href="https://www.starwindsoftware.com/download-starwind-products#download">å®˜æ–¹ä¸‹è½½åœ°å€</a></p><p>ç”±äºæ˜¯è¦ç»™ESXiç”¨ï¼Œæ‰€ä»¥é€‰æ‹©VMDKï¼ŒESXi Server image</p><p>è½¬æ¢æˆåŠŸåå¾—åˆ°çš„ä¸¤ä¸ªæ–‡ä»¶ã€‚ç¨åä¼šå°†æ­¤ä¸Šä¼ </p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/c4ca4238a0b923820dcc.jpg" alt="" loading="lazy"></p><p>1.æ–°å»ºè™šæ‹Ÿæœº</p><p><a href="https://www.bokezhu.com/content/uploads/2019/07/c81e728d9d4c2f636f06.jpg"><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/c81e728d9d4c2f636f06.jpg" alt="" loading="lazy"></a></p><p>2.é€‰æ‹©åç§°å’Œå®¢æˆ·æœºæ“ä½œç³»ç»Ÿï¼ŒæŒ‰ç…§å›¾ç‰‡é€‰æ‹©å°±å¯ä»¥ï¼Œé€‰æ‹©å®Œæˆåä¸‹ä¸€æ­¥</p><p><img src="https://www.bokezhu.com/content/uploads/2019/07/eccbc87e4b5ce2fe2830.jpg" alt="" loading="lazy"></p><p>3.é€‰æ‹©å­˜å‚¨ï¼Œè¿™é‡Œä¸è¦ æ“ä½œç›´æ¥ä¸‹ä¸€æ­¥</p><p><a href="https://www.bokezhu.com/content/uploads/2019/07/a87ff679a2f3e71d9181.jpg"><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/a87ff679a2f3e71d9181.jpg" alt="" loading="lazy"></a></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/e4da3b7fbbce2345d777.jpg" alt="" loading="lazy"></p><p>5.è‡ªå®šä¹‰è®¾ç½®ï¼Œè¿™é‡Œéœ€è¦åˆ é™¤ç¡¬ç›˜1ï¼›SCSIæ§åˆ¶å™¨0ï¼›CD/DVDé©±åŠ¨å™¨0ï¼Œå¹¶ä¸”å°†ç½‘å¡é€‚é…å™¨ç±»å‹æ”¹ä¸ºE1000ï¼Œä¸æ”¹å¯èƒ½å°†æ— æ³•è·å–ipåœ°å€ï¼Œä¿®æ”¹å®Œæˆä¸‹ä¸€æ­¥å®Œæˆé…ç½®</p><p>6.ä¸‹è½½é»‘ç¾¤æ™–æ‰€éœ€å·¥å…·ï¼Œä¸‹è½½åœ°å€ï¼š<a href="https://pan.baidu.com/s/1jCUjEyNht7KHd8UvujvJXA">https://pan.baidu.com/s/1jCUjEyNht7KHd8UvujvJXA</a> æå–ç ï¼šnc3t ä¸‹è½½å®Œæˆè§£å‹</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/6512bd43d9caa6e02c99.jpg" alt="" loading="lazy"></p><p>7.ä¸Šä¼ å¼•å¯¼æ–‡ä»¶ï¼Œåœ¨ESXIä¸­æ‰¾åˆ°åˆšæ‰åˆ›å»ºè™šæ‹Ÿæœºä½ç½®ä¸Šä¼ synobootå’Œsynoboot-flatåˆ°è¯¥æ–‡ä»¶å¤¹</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/c20ad4d76fe97759aa27.jpg" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/c51ce410c124a10e0db5.jpg" alt="" loading="lazy"></p><p>8.è¿”å›è™šæ‹Ÿæœºæ‰¾åˆ°åˆšæ‰æ·»åŠ çš„è™šæ‹Ÿæœºç¼–è¾‘è®¾ç½®ï¼Œç‚¹å‡»æ·»åŠ ç°æœ‰ç¡¬ç›˜æ‰¾åˆ°åˆšåˆšä¸Šä¼ çš„synobooté€‰æ‹©ä¿å­˜</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/aab3238922bcc25a6f60.jpg" alt="" loading="lazy"></p><p>9.æ·»åŠ å­˜å‚¨ç¡¬ç›˜ï¼Œæ³¨æ„ï¼šæ§åˆ¶å™¨ä½ç½®åº”é€‰æ‹©SATAæ§åˆ¶å™¨ï¼›SATA(0.1)å†åŠ ä¸€å—ç¡¬ç›˜åº”æŒ‰ç…§æ’åºSATA(0.2)ï¼Œç£ç›˜æ¨¡å¼é€‰æ‹©ç‹¬ç«‹-æŒä¹…åä¿å­˜ï¼Œå¯åŠ¨è™šæ‹Ÿæœº</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/9bf31c7ff062936a96d3.jpg" alt="" loading="lazy"></p><p>å‡ºç°å›¾ä¸Šç”»é¢è¯´æ˜å¼•å¯¼æˆåŠŸï¼Œè¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/c74d97b01eae257e44aa.jpg" alt="" loading="lazy"></p><p>11.æœç´¢é»‘ç¾¤æ™–ipåœ°å€ï¼Œç™»å½•è·¯ç”±å™¨æ‰¾åˆ°åœ¨çº¿è®¾å¤‡DiskStationå°±æ˜¯è¯¥è®¾å¤‡ipåœ°å€ã€‚ä¹Ÿå¯ä»¥åœ¨å·¥å…·åŒ…é‡Œæ‰¾åˆ°synology-assistantæ¥æœç´¢ipåœ°å€</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/70efdf2ec9b086079795.jpg" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/6f4922f45568161a8cdf.jpg" alt="" loading="lazy"></p><p>12.æ‰¾åˆ°ipååœ¨æµè§ˆå™¨è¾“å…¥ipåœ°å€ï¼Œç‚¹å‡»è®¾ç½®åˆ°ä¸‹ä¸€æ­¥ï¼›é€‰æ‹©æµè§ˆæ‰¾åˆ°å·¥å…·åŒ…ä¸­DSM_DS3615xs_23824åç‚¹å‡»ç«‹å³å®‰è£…ï¼Œå®‰è£…è¿‡ç¨‹å¤§æ¦‚æŒç»­10åˆ†é’Ÿ</p><p><img src="https://www.bokezhu.com/content/uploads/2019/07/98f13708210194c47568.jpg" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/3c59dc048e8850243be8.jpg" alt="" loading="lazy"></p><p>13.å®‰è£…å®Œæˆåè·³å‡ºåˆ›å»ºæ‚¨çš„ç®¡ç†å‘˜è´¦æˆ·ï¼Œè¾“å…¥æœåŠ¡å™¨åç§°è´¦å·åŠå¯†ç ä¸‹ä¸€æ­¥ï¼Œå°†æ›´æ–°è®¾ç½®è®¾ç½®æˆæ‰‹åŠ¨å®‰è£…ï¼ŒSMARTæ£€æµ‹å’Œå¯åŠ¨ç¡¬ç›˜æ‰‡åŒºè­¦å‘Šå‹¾é€‰å»æ‰ä¸‹ä¸€æ­¥åä¸è¦è¾“å…¥è´¦å·ç›´æ¥è·³è¿‡å®Œæˆå®‰è£…ã€‚</p><h3 id="ç¡¬ç›˜ç›´é€šä¹‹dsmç›´é€š-sataç›´é€š">ç¡¬ç›˜ç›´é€šä¹‹dsmç›´é€š&amp;sataç›´é€š</h3><blockquote><p>å…³äº RDM å’Œ Passthrough çš„åŒºåˆ«</p><p>å¦‚æœä½ æå‰æœè¿‡èµ„æ–™å¯èƒ½ä¼šå‘ç°å¾ˆå¤š ESXi ä¸Šå®‰è£…é»‘ç¾¤æ™–çš„æ•™ç¨‹ä¸­ä¼šæåˆ°ä»¥ â€œRDM æ¥æŠŠç¡¬ç›˜ç›´é€šç»™ç¾¤æ™–â€ï¼Œè¿™å®é™…ä¸Šå¾ˆæ‰¯æ·¡çš„ï¼Œå› ä¸º RDM å’Œè®¾å¤‡ç›´é€šæ˜¯å®Œå…¨ä¸¤ä¸ªç‹¬ç«‹çš„æ¦‚å¿µã€‚<br>ä¸€äº›æœ‰ç©è™šæ‹Ÿæœºç»éªŒçš„äººç®€å•çœ‹ä¸€ä¸‹é‚£äº› RDM ç¡¬ç›˜ç›´é€šæ•™ç¨‹å°±èƒ½å‘ç°é—®é¢˜ï¼ŒRDM æ˜¯å°†ç‰©ç†ç¡¬ä»¶è™šæ‹ŸåŒ–åå†ä¼ é€’ç»™è™šæ‹Ÿæœºï¼Œä¹Ÿå°±æ˜¯ç”± ESXi è¯»å–è®¾å¤‡åç”Ÿæˆä¸€ä¸ªæ–°çš„è™šæ‹Ÿè®¾å¤‡å†ä¼ é€’ç»™è™šæ‹Ÿæœºã€‚è€Œç¡¬ä»¶ç›´é€šï¼ˆPassthroughï¼‰æ˜¯å°†ç‰©ç†ä¸»æœºä¸Šçš„è®¾å¤‡ç›´æ¥è§„åˆ’ç»™è™šæ‹Ÿæœºç‹¬ç«‹ä½¿ç”¨ï¼ŒESXi ç³»ç»Ÿä¸ä¼šå†åˆ©ç”¨è¿™ä¸ªç‰©ç†ç¡¬ä»¶ã€‚<br>è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä½¿ç”¨ RDM è™½ç„¶å¯ä»¥è®©ç¾¤æ™–è¯»åˆ°é‚£ä¹ˆä¸€æ•´ä¸ªç¡¬ç›˜ï¼Œä½†ç¡¬ç›˜åç§°æ€»æ˜¯ â€œVMWare è™šæ‹Ÿç¡¬ç›˜â€ï¼Œè€Œä½¿ç”¨ Passthrough çš„ç¡¬ç›˜æ°¸è¿œéƒ½å¯ä»¥æ˜¾ç¤ºå‡ºæ­£ç¡®çš„ç¡¬ç›˜ä¿¡æ¯ã€‚åœ¨é»‘ç¾¤æ™–ä¸­ï¼Œä½¿ç”¨ Passthrough ç›´é€šç¡¬ç›˜å…è®¸ç¾¤æ™–ç³»ç»Ÿå¯¹ç¡¬ç›˜ç›´æ¥è¿›è¡Œç®¡ç†ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºç¡¬ç›˜ä¼‘çœ å’Œç¡¬ç›˜å¥åº·åº¦ç›‘æµ‹ï¼Œè¿™äº›åŠŸèƒ½ä½¿ç”¨ RDM æ˜¯ä¸å¯èƒ½åšåˆ°äº†ï¼ŒRDM ä¹Ÿä»…ä»…åšåˆ°äº†è®©è™šæ‹Ÿæœºè¯»åˆ°ä¸€ä¸ªå®Œæ•´çš„ç¡¬ç›˜ã€‚</p></blockquote><p>å‚è€ƒåšå®¢ï¼š<a href="https://blog.irain.in/archives/ESXi_Synology_10G_Passthrough.html">https://blog.irain.in/archives/ESXi_Synology_10G_Passthrough.html</a></p><p>æˆ‘æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©RDM å‚è€ƒåšå®¢ <a href="https://www.cnblogs.com/vaemaxsky/p/13982648.html">https://www.cnblogs.com/vaemaxsky/p/13982648.html</a></p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>ç¾¤æ™–çš„ç¡¬ç›˜è®¾ç½®å¾ˆé‡è¦ï¼Œä¸ç„¶å¾ˆå®¹æ˜“å‡ºç°å„ç§å¥‡å¥‡æ€ªæ€ªçš„é—®é¢˜ï¼Œæˆ‘é‡åˆ°è¿‡ä¸è¿›ç³»ç»Ÿï¼Œå¼•å¯¼ååˆ°å®‰è£…æ­¥éª¤æ—¶è¯†åˆ«ä¸äº†ç¡¬ç›˜</p><h2 id="iKuaiå®‰è£…">iKuaiå®‰è£…</h2><p>å¾ˆç®€å• ä¸èµ˜è¿°</p><h2 id="LEDEå®‰è£…">LEDEå®‰è£…</h2><p>ç§‘å­¦å¤‡ä»½ <a href="https://github.com/izyq/fancyss_history_package">https://github.com/izyq/fancyss_history_package</a></p><p>å‚è€ƒåšå®¢ <a href="https://post.smzdm.com/p/awxq6zvm/">https://post.smzdm.com/p/awxq6zvm/</a></p><p><a href="https://www.cnblogs.com/vaemaxsky/p/13982648.html">https://www.cnblogs.com/vaemaxsky/p/13982648.html</a></p><p><a href="https://firmware.koolshare.cn/LEDE_X64_fw867/%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%BD%AC%E7%9B%98%E6%88%96PE%E4%B8%8B%E5%86%99%E7%9B%98%E4%B8%93%E7%94%A8/">https://firmware.koolshare.cn/LEDE_X64_fw867/è™šæ‹Ÿæœºè½¬ç›˜æˆ–PEä¸‹å†™ç›˜ä¸“ç”¨/</a></p><p>â€‹</p><p>â€‹</p>]]></content>
      
      
      <categories>
          
          <category> ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æŠ˜è…¾ </tag>
            
            <tag> ç½‘ç»œ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>RequestParamå’ŒRequestBodyåŒºåˆ«</title>
      <link href="/20210628112532/"/>
      <url>/20210628112532/</url>
      
        <content type="html"><![CDATA[<h2 id="RequestParamå’ŒRequestBodyåŒºåˆ«">RequestParamå’ŒRequestBodyåŒºåˆ«</h2><h3 id="RequestParam">@RequestParam</h3><p>ç”¨æ¥å¤„ç†Content-Type: ä¸º <code>application/**x-www-form-urlencoded**</code> ç¼–ç çš„å†…å®¹ã€‚ï¼ˆHttpåè®®ä¸­ï¼Œå¦‚æœä¸æŒ‡å®šContent-Typeï¼Œåˆ™é»˜è®¤ä¼ é€’çš„å‚æ•°å°±æ˜¯application/x-www-form-urlencodedç±»å‹ï¼‰</p><p><code>RequestParam</code>å¯ä»¥æ¥å—ç®€å•ç±»å‹çš„å±æ€§ï¼Œä¹Ÿå¯ä»¥æ¥å—å¯¹è±¡ç±»å‹ã€‚<br>å®è´¨æ˜¯å°†Request.getParameter() ä¸­çš„<strong>Key-Value</strong>å‚æ•°<strong>Map</strong>åˆ©ç”¨Springçš„è½¬åŒ–æœºåˆ¶ConversionServiceé…ç½®ï¼Œè½¬åŒ–æˆå‚æ•°æ¥æ”¶å¯¹è±¡æˆ–å­—æ®µã€‚</p><h4 id="Tip">Tip</h4><p>åœ¨Content-Type: application/x-www-form-urlencodedçš„è¯·æ±‚ä¸­ï¼Œ<br><strong>get æ–¹å¼ä¸­queryStringçš„å€¼ï¼Œå’Œpostæ–¹å¼ä¸­ body dataçš„å€¼éƒ½ä¼šè¢«Servletæ¥å—åˆ°å¹¶è½¬åŒ–åˆ°Request.getParameter()å‚æ•°é›†ä¸­</strong>ï¼Œæ‰€ä»¥@RequestParamå¯ä»¥è·å–çš„åˆ°ã€‚</p><h3 id="RequestBody">@RequestBody</h3><p>å¤„ç†HttpEntityä¼ é€’è¿‡æ¥çš„æ•°æ®ï¼Œä¸€èˆ¬ç”¨æ¥å¤„ç†<strong>é</strong>Content-Type: application/x-www-form-urlencodedç¼–ç æ ¼å¼çš„æ•°æ®ã€‚<br>â€¢<strong>GET</strong>è¯·æ±‚ä¸­ï¼Œå› ä¸ºæ²¡æœ‰HttpEntityï¼Œæ‰€ä»¥@RequestBody<strong>å¹¶ä¸é€‚ç”¨</strong>ã€‚<br>â€¢POSTè¯·æ±‚ä¸­ï¼Œé€šè¿‡HttpEntityä¼ é€’çš„å‚æ•°ï¼Œå¿…é¡»è¦åœ¨è¯·æ±‚å¤´ä¸­å£°æ˜æ•°æ®çš„ç±»å‹Content-Typeï¼ŒSpringMVCé€šè¿‡ä½¿ç”¨HandlerAdapter é…ç½®çš„HttpMessageConvertersæ¥è§£æHttpEntityä¸­çš„æ•°æ®ï¼Œç„¶åç»‘å®šåˆ°ç›¸åº”çš„beanä¸Šã€‚</p><h3 id="æ€»ç»“">æ€»ç»“</h3><p>â€¢åœ¨GETè¯·æ±‚ä¸­ï¼Œä¸èƒ½ä½¿ç”¨@RequestBodyã€‚<br>â€¢åœ¨POSTè¯·æ±‚ï¼Œ<strong>å¯ä»¥ä½¿ç”¨@RequestBodyå’Œ@RequestParam</strong>ï¼Œä½†æ˜¯å¦‚æœä½¿ç”¨@RequestBodyï¼Œå¯¹äºå‚æ•°è½¬åŒ–çš„é…ç½®å¿…é¡»ç»Ÿä¸€ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨SpringMVCé…ç½®äº†HttpMessageConverterså¤„ç†æ ˆä¸­ï¼ŒæŒ‡å®šjsonè½¬åŒ–çš„æ ¼å¼ï¼Œå¦‚Dateè½¬æˆâ€˜yyyy-MM-ddâ€™,åˆ™å‚æ•°æ¥æ”¶å¯¹è±¡åŒ…å«çš„å­—æ®µå¦‚æœæ˜¯Dateç±»å‹ï¼Œå°±åªèƒ½è®©å®¢æˆ·ç«¯ä¼ é€’å¹´æœˆæ—¥çš„æ ¼å¼ï¼Œä¸èƒ½ä¼ æ—¶åˆ†ç§’ã€‚å› ä¸ºä¸åŒçš„æ¥å£ï¼Œå®ƒçš„å‚æ•°å¯èƒ½å¯¹æ—¶é—´å‚æ•°æœ‰ä¸åŒçš„æ ¼å¼è¦æ±‚ï¼Œæ‰€ä»¥è¿™æ ·åšä¼šè®©å®¢æˆ·ç«¯è°ƒç”¨åŒäº‹å¯¹å‚æ•°çš„æ ¼å¼æœ‰ç‚¹å›°æƒ‘ï¼Œæ‰€ä»¥è¯´æ‰©å±•æ€§ä¸é«˜ã€‚</p><p>å¦‚æœä½¿ç”¨@RequestParamæ¥æ¥å—å‚æ•°ï¼Œå¯ä»¥åœ¨æ¥å—å‚æ•°çš„modelä¸­è®¾ç½®@DateFormatæŒ‡å®šæ‰€éœ€è¦æ¥å—æ—¶é—´å‚æ•°çš„æ ¼å¼ã€‚</p><p>å¦å¤–ï¼Œä½¿ç”¨@RequestBodyæ¥å—çš„å‚æ•°æ˜¯ä¸ä¼šè¢«Servletè½¬åŒ–ç»Ÿä¸€æ”¾åœ¨requestå¯¹è±¡çš„Paramå‚æ•°é›†ä¸­ï¼Œ@RequestParamæ˜¯å¯ä»¥çš„ã€‚</p><p>ç»¼ä¸Šæ‰€è¿°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¨èä½¿ç”¨@RequestParamæ³¨è§£æ¥æ¥å—Httpè¯·æ±‚å‚æ•°ã€‚<a href="https://blog.csdn.net/xinluke/article/details/52710706">https://blog.csdn.net/xinluke/article/details/52710706</a></p><h2 id="ç”¨Mapæ¥å—JSONæ•°æ®">ç”¨Mapæ¥å—JSONæ•°æ®</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">IPage</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token function">getPage</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> params<span class="token punctuation">,</span> <span class="token class-name">String</span> defaultOrderField<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isAsc<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//åˆ†é¡µå‚æ•°</span>    <span class="token keyword">long</span> curPage <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">long</span> limit <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">PAGE</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">PAGE</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ·»åŠ ç©ºå€¼å¤„ç†</span>        curPage <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">PAGE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">LIMIT</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">LIMIT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        limit <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">LIMIT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>:::info<br>JSONæ•°æ®ï¼š<br><code>&#123;&quot;page&quot;:2,&quot;limit&quot;:10,&quot;key&quot;:null&#125;</code><br>:::</p><blockquote><p>æŠ¥é”™ï¼šjava.lang.Integer cannot be cast to java.lang.String</p></blockquote><blockquote><p>è§£å†³</p></blockquote><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">PAGE</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">PAGE</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//æ·»åŠ ç©ºå€¼å¤„ç†</span>    curPage <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">PAGE</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">if</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">LIMIT</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">LIMIT</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    limit <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token function">parseLong</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>params<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Constant</span><span class="token punctuation">.</span><span class="token constant">LIMIT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>å…ˆå°† Object ç±»å‹è½¬æ¢ä¸º stringï¼Œå†å°† string è½¬æ¢ä¸º long/int ä¸è¦ç”¨ï¼ˆStringï¼‰</strong><br><strong>è‡³äºç”¨toString()è¿˜æ˜¯String.valueOf(object)æ ¹æ®ä¸Šæ–‡é˜è¿°æŒ‰è‡ªå·±éœ€æ±‚é€‰ã€‚ã€‚</strong><br>:::warning<br>å‚è€ƒï¼š<br><a href="https://blog.csdn.net/HolaOrange/article/details/124073605">ã€å¼‚å¸¸ã€‘java.lang.Integer cannot be cast to java.lang.String</a><br><a href="https://blog.csdn.net/HolaOrange/article/details/124076719">Objectè½¬Stringçš„4ç§æ–¹æ³•</a><br>:::</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
          <category> å­¦ä¹  </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>è€æ¯›å­å†…ç½‘ddns</title>
      <link href="/46534/"/>
      <url>/46534/</url>
      
        <content type="html"><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/20210424233043.png" alt="" loading="lazy"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ifconfig</span> <span class="token variable"><span class="token variable">$(</span>nvram get wan0_ifname_t<span class="token variable">)</span></span> <span class="token operator">|</span> <span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">":"</span> <span class="token string">'&#123;print $2&#125;'</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-E</span> <span class="token parameter variable">-o</span> <span class="token string">'([0-9]+\.)&#123;3&#125;[0-9]+'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä¸»è¦æ˜¯<code>ifconfig $(nvram get wan0_ifname_t)</code>è·å–æœ¬åœ°ipä¿¡æ¯ï¼Œå†é€šè¿‡<code>awk</code>å’Œ<code>grep</code>æå–</p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>STM32åˆæ¢</title>
      <link href="/10409/"/>
      <url>/10409/</url>
      
        <content type="html"><![CDATA[<h4 id="è®¾ç½®å †æ ˆ-åˆå§‹åŒ–ç¯å¢ƒ">è®¾ç½®å †æ ˆ åˆå§‹åŒ–ç¯å¢ƒ</h4><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326002304906.png" alt="" loading="lazy"></p><h4 id="æ·»åŠ å¤´æ–‡ä»¶">æ·»åŠ å¤´æ–‡ä»¶</h4><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326003410932.png" alt="" loading="lazy"></p><h4 id="é€‰æ‹©æ­£ç¡®çš„å‹å·-ç‚¹å¼€é­”æ³•æ£’">é€‰æ‹©æ­£ç¡®çš„å‹å·(ç‚¹å¼€é­”æ³•æ£’)</h4><h4 id=""><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326003646779.png" alt="" loading="lazy"></h4><h4 id="æ—¶é’Ÿ">æ—¶é’Ÿ</h4><p>æ§åˆ¶å¤–è®¾ä½¿èƒ½ä¸å¦å°±æ˜¯æ§åˆ¶è¿™ä¸ªå¤–è®¾çš„æ—¶é’Ÿ</p><p>ä»¥LEDä¸ºä¾‹</p><ul><li>æŸ¥çœ‹åŸç†å›¾</li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326203623033.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326203806652.png" alt="" loading="lazy"></p><ul><li>æŸ¥çœ‹æ€»çº¿æ¶æ„</li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326204617751.png" alt="" loading="lazy"></p><ul><li>æ‰¾åˆ°RCCï¼ˆå¤ä½å’Œæ—¶é’Ÿæ§åˆ¶ï¼‰ åŸºåœ°å€<ul><li>åŸºåœ°å€ï¼š0x4002 3800</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326205508116.png" alt="" loading="lazy"></p><ul><li>æ¥ç€æ‰¾åˆ°RCC AHB1 å¤–è®¾æ—¶é’Ÿä½¿èƒ½å¯„å­˜å™¨ (RCC_AHB1ENR)<ul><li>å¾—åˆ° åç§»åœ°å€ï¼š0x30</li></ul></li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326210058931.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326213943927.png" alt="" loading="lazy"></p><p><strong>RCC_AHB1ENRçš„åœ°å€å°±ä¸ºåŸºåœ°å€ + åç§»åœ°å€</strong> å…¶ä»–ä»¥æ­¤ç±»æ¨</p><ul><li>AHB1 å¤–è®¾æ—¶é’Ÿä½¿èƒ½å¯„å­˜å™¨ ä½¿èƒ½</li></ul><h4 id="æ¨æŒ½æ¨¡å¼-å¯„å­˜å™¨æ“ä½œ-æ§åˆ¶æ—¶é’Ÿ">æ¨æŒ½æ¨¡å¼ å¯„å­˜å™¨æ“ä½œ æ§åˆ¶æ—¶é’Ÿ</h4><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326011033237.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326011158591.png" alt="" loading="lazy"></p><p>é…ç½®å¯„å­˜å™¨è¿›è¡Œç›¸åº”çš„æ¨¡å¼é…ç½®</p><h4 id="é€šè¿‡ç«¯å£é…ç½®è¡¨ï¼ˆè¡¨28ï¼‰é…ç½®ç›¸åº”çš„ä½é…ç½®ä¸åŒçš„æ¨¡å¼">é€šè¿‡ç«¯å£é…ç½®è¡¨ï¼ˆè¡¨28ï¼‰é…ç½®ç›¸åº”çš„ä½é…ç½®ä¸åŒçš„æ¨¡å¼</h4><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326211412621.png" alt="" loading="lazy"></p><p>å†æ¬¡å±•ç¤ºæˆ‘ä»¬çš„åŸç†å›¾</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326203623033.png" alt="" loading="lazy"></p><p>æ³¨ï¼š<details></p><summary><mark><font color=darkred>ç‚¹å‡»æŸ¥çœ‹è¯¦ç»†é…ç½®å†…å®¹</font></mark></summary><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326212258547.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326212318462.png" alt="" loading="lazy"></p><p><strong>OT0 OT1 åˆ†åˆ«å¯¹åº”GPIOç«¯å£0 ç«¯å£1 ä»¥æ­¤ç±»æ¨</strong></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326011500510.png" alt="" loading="lazy"></p><p>ï¼ˆè¾“å‡ºé€Ÿåº¦è¶Šå¿« åŠŸè€—è¶Šå¤§ è¿™é‡Œçš„é€Ÿåº¦æŒ‡çš„æ˜¯GPIOç”µå¹³ç¿»è½¬çš„é€Ÿåº¦ å°±æ˜¯é«˜ä½ç”µå¹³å˜åŒ–çš„é€Ÿåº¦ï¼‰</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326212439536.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326212455084.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/Pic@master/image-20210326220500358.png" alt="" loading="lazy"></p></details><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token comment">/*ä½¿ç”¨å¯„å­˜å™¨çš„æ–¹æ³•ç‚¹äº®LEDç¯  */</span><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"stm32f4xx.h"</span> </span><span class="token comment">/**  *   ä¸»å‡½æ•°  */</span><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">/*å¼€å¯ GPIOH æ—¶é’Ÿï¼Œä½¿ç”¨å¤–è®¾æ—¶éƒ½è¦å…ˆå¼€å¯å®ƒçš„æ—¶é’Ÿ*/</span>RCC_AHB1ENR <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/* LED ç«¯å£åˆå§‹åŒ– */</span><span class="token comment">/*GPIOH MODER10æ¸…ç©º*/</span>GPIOH_MODER  <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span> <span class="token number">0x03</span><span class="token operator">&lt;&lt;</span> <span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*PH10 MODER10 = 01b è¾“å‡ºæ¨¡å¼*/</span>GPIOH_MODER <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*GPIOH OTYPER10æ¸…ç©º*/</span>GPIOH_OTYPER <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*PH10 OTYPER10 = 0b æ¨æŒ½æ¨¡å¼*/</span>GPIOH_OTYPER <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">&lt;&lt;</span><span class="token number">1</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*GPIOH OSPEEDR10æ¸…ç©º*/</span>GPIOH_OSPEEDR <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">0x03</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*PH10 OSPEEDR10 = 0b é€Ÿç‡2MHz*/</span>GPIOH_OSPEEDR <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*GPIOH PUPDR10æ¸…ç©º*/</span>GPIOH_PUPDR <span class="token operator">&amp;=</span> <span class="token operator">~</span><span class="token punctuation">(</span><span class="token number">0x03</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*PH10 PUPDR10 = 01b ä¸Šæ‹‰æ¨¡å¼*/</span>GPIOH_PUPDR <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">2</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*PH10 BSRRå¯„å­˜å™¨çš„ BR10ç½®1ï¼Œä½¿å¼•è„šè¾“å‡ºä½ç”µå¹³*/</span>GPIOH_BSRR <span class="token operator">|=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token operator">&lt;&lt;</span><span class="token number">16</span><span class="token operator">&lt;&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">/*PH10 BSRRå¯„å­˜å™¨çš„ BS10ç½®1ï¼Œä½¿å¼•è„šè¾“å‡ºé«˜ç”µå¹³*/</span><span class="token comment">//GPIOH_BSRR |= (1&lt;&lt;10);</span><span class="token keyword">while</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// å‡½æ•°ä¸ºç©ºï¼Œç›®çš„æ˜¯ä¸ºäº†éª—è¿‡ç¼–è¯‘å™¨ä¸æŠ¥é”™</span><span class="token keyword">void</span> <span class="token function">SystemInit</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€</title>
      <link href="/3183/"/>
      <url>/3183/</url>
      
        <content type="html"><![CDATA[<h3 id="æ¸©æ•…è€ŒçŸ¥æ–°">æ¸©æ•…è€ŒçŸ¥æ–°</h3><h4 id="ä½æ“ä½œ">ä½æ“ä½œ</h4><p>ï¼ˆ1&lt;&lt;3)<br>å–å ~0xf&lt;&lt;(4*0) ä»€ä¹ˆæ„æ€<br>ä¸ æˆ– æ“ä½œ</p><h4 id="æŒ‰ä½å–å">æŒ‰ä½å–å<code>~</code></h4><p>é€»è¾‘ä½è¿ç®—ç¬¦ä¸­ä¼˜å…ˆçº§æœ€é«˜ï¼Œè¿ç®—ç¬¦<code>~</code>ç¬¦å·ï¼Œä½œç”¨æ˜¯å°†1å˜æˆ0ï¼Œå°†0å˜æˆ1</p><pre class="line-numbers language-none"><code class="language-none">~ 1010 1111  0101 0000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æŒ‰ä½ä¸">æŒ‰ä½ä¸<code>&amp;</code></h4><p>ä¼˜å…ˆçº§ç¬¬äºŒé«˜ï¼Œè¿ç®—ç¬¦<code>&amp;</code>ï¼Œå­˜åœ¨ä¸€ä¸ªä½ä¸º0ï¼Œåˆ™ç»“æœä¸º0ï¼Œä¸¤ä¸ªä½ä¸º1ï¼Œç»“æœæ‰ä¸º1</p><pre class="line-numbers language-none"><code class="language-none">1010 1111&amp;1010 01011010 0101<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="æŒ‰ä½å¼‚æˆ–">æŒ‰ä½å¼‚æˆ–<code>^</code></h4><p>ä¼˜å…ˆçº§ç¬¬ä¸‰ï¼Œè¿ç®—ç¬¦<code>^</code>ï¼Œä¸¤ä¸ªæ“ä½œæ•°ç›¸åŒæ—¶ï¼Œç»“æœä¸º0ï¼Œä¸åŒæ—¶ï¼Œç»“æœä¸º1ã€‚</p><pre class="line-numbers language-none"><code class="language-none">1111 1111^1111 11110000 00001111 1111^0000 00001111 11111010 1111^1010 01010000 1010<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æŒ‰ä½æˆ–">æŒ‰ä½æˆ–<code>|</code></h4><p>ä¼˜å…ˆçº§æœ€å è¿ç®—ç¬¦<code>|</code> ï¼Œå­˜åœ¨ä¸€ä¸ªä½ä¸º1ï¼Œåˆ™ç»“æœä¸º1ï¼Œä¸¤ä¸ªä½ä¸º0ï¼Œç»“æœæ‰ä¸º0</p>]]></content>
      
      
      <categories>
          
          <category> Cè¯­è¨€ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cè¯­è¨€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Materyçš„ä¿®æ”¹ä¸ç¾åŒ–</title>
      <link href="/35976/"/>
      <url>/35976/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¿®æ”¹è¿‡çš„æ–‡ä»¶">ä¿®æ”¹è¿‡çš„æ–‡ä»¶</h2><p><code>hexo-theme-matery\_config.yml</code><br><code>hexo-theme-matery\source\css\matery.css</code><br><code>hexo-theme-matery\layout\_partial\bg-cover-content.ejs</code><br><code>hexo-theme-matery\layout\_partial\post-cover.ejs</code><br><code>hexo-theme-matery\layout\_partial\post-detail.ejs</code><br><code>hexo-theme-matery\layout\_partial\post-detail-toc.ejs</code><br><code>hexo-theme-matery\layout\_partial\github-link.ejs</code><br><code>hexo-theme-matery\layout\_partial\footer.ejs</code><br><code>hexo-theme-matery\layout\about.ejs</code></p><p>å¯ä»¥ä»<a href="https://github.com/izyq/Matery-officialcodebackup" title="æˆ‘å½“åˆç”¨çš„æºç ">æˆ‘å½“åˆç”¨çš„æºç </a>è¿›è¡Œæ¯”è¾ƒçŸ¥é“ä¿®æ”¹äº†å“ªäº›åœ°æ–¹</p><h2 id="å®‰è£…çš„ä¾èµ–">å®‰è£…çš„ä¾èµ–</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">cnpm <span class="token function">install</span> hexo-admin <span class="token parameter variable">--save</span>cnpm i <span class="token parameter variable">--save</span> hexo-wordcountcnpm i hexo-permalink-pinyin <span class="token parameter variable">--save</span>cnpm <span class="token function">install</span> hexo-generator-search <span class="token parameter variable">--save</span>cnpm <span class="token function">install</span> hexo-deployer-git <span class="token parameter variable">--save</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>ğŸ”—2023å†æ”¶è—ä¸¤ä¸ªé“¾æ¥</p></blockquote><p><a href="https://blog.17lai.site/posts/40300608/#">[ä¸‰ä¸‡å­—æ•™ç¨‹]åŸºäºHexoçš„materyä¸»é¢˜æ­å»ºåšå®¢å¹¶æ·±åº¦ä¼˜åŒ–ä¸€ç«™å¼å®Œå…¨æ•™ç¨‹ | å¤œæ³•ä¹‹ä¹¦</a><br><a href="https://blog.17lai.site/posts/cf0f47fd/">Hexo Markdownä»¥åŠå„ç§æ’ä»¶åŠŸèƒ½æµ‹è¯• | å¤œæ³•ä¹‹ä¹¦</a></p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ‚è®°</title>
      <link href="/16942/"/>
      <url>/16942/</url>
      
        <content type="html"><![CDATA[<h2 id="ç¾¤æ™–-ä¸ºdsvideoç›®å½•æ·»åŠ è‡ªåŠ¨ç´¢å¼•">ç¾¤æ™–- ä¸ºdsvideoç›®å½•æ·»åŠ è‡ªåŠ¨ç´¢å¼•</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">synoindex <span class="token parameter variable">-R</span> /volume2/video/Download<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h2 id="linux-ä¸‹åå°è¿è¡Œpythonè„šæœ¬">linux ä¸‹åå°è¿è¡Œpythonè„šæœ¬</h2><h3 id="ä¸€ã€å¯åŠ¨å‘½ä»¤ï¼š">ä¸€ã€å¯åŠ¨å‘½ä»¤ï¼š</h3><p>1ã€ä¸€èˆ¬ä½¿ç”¨</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">nohup</span> python <span class="token parameter variable">-u</span> Job.py <span class="token operator">></span> log.log <span class="token operator"><span class="token file-descriptor important">2</span>></span><span class="token file-descriptor important">&amp;1</span> <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2ã€åªè®°å½•å¼‚å¸¸æ—¥å¿—ï¼ˆæ¨èï¼‰</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># nohup python -u Job.py >/dev/null 2>error.log  2>&amp;1 &amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3ã€ä¸è®°å½•ä»»ä½•æ—¥å¿—</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># nohup python -u Job.py >/dev/null  2>&amp;1 &amp;   </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è¯´æ˜ï¼š">è¯´æ˜ï¼š</h4><ol><li>æœ«å°¾çš„â€œ&amp;â€ï¼šè¡¨ç¤ºåå°è¿è¡Œç¨‹åº</li><li>â€œnohupâ€ ï¼šä¿è¯ç¨‹åºä¸è¢«æŒ‚èµ·</li><li>â€œpythonâ€ï¼šæ˜¯æ‰§è¡Œpythonä»£ç çš„å‘½ä»¤</li><li>â€œ-uâ€ï¼šè¡¨ç¤ºä¸å¯ç”¨ç¼“å­˜ï¼Œå®æ—¶è¾“å‡ºæ‰“å°ä¿¡æ¯åˆ°æ—¥å¿—æ–‡ä»¶ï¼ˆå¦‚æœä¸åŠ -uï¼Œåˆ™ä¼šå¯¼è‡´æ—¥å¿—æ–‡ä»¶ä¸ä¼šå®æ—¶åˆ·æ–°ä»£ç ä¸­çš„printå‡½æ•°çš„ä¿¡æ¯ï¼‰</li><li>â€œ<a href="http://Job.py">Job.py</a>â€ï¼šæ˜¯pythonçš„æºä»£ç æ–‡ä»¶</li><li>â€œlog.logâ€ï¼šæ˜¯è¾“å‡ºçš„æ—¥å¿—æ–‡ä»¶</li><li>â€œ&gt;â€ï¼šæ˜¯æŒ‡å°†æ‰“å°ä¿¡æ¯æŒ‡å®šåˆ°æ—¥å¿—æ–‡ä»¶</li><li>â€œ2&gt;&amp;1â€ï¼šå°†æ ‡å‡†é”™è¯¯è¾“å‡ºè½¬å˜åŒ–æ ‡å‡†è¾“å‡ºï¼Œå¯ä»¥å°†é”™è¯¯ä¿¡æ¯ä¹Ÿè¾“å‡ºåˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼ˆ0-&gt; stdin, 1-&gt;stdout, 2-&gt;stderrï¼‰</li></ol><h3 id="äºŒã€å…³é—­å‘½ä»¤">äºŒã€å…³é—­å‘½ä»¤</h3><p>1ã€æŸ¥çœ‹è¿›ç¨‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ps -ef|grep python</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>æˆ–è€…</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ps -ef|grep Job</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>2ã€å…³é—­è¿›ç¨‹</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># kill -9 19913</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>3ã€æ£€æŸ¥</p><p>ç”¨1ä¸­æŸ¥çœ‹è¿›ç¨‹çš„å‘½ä»¤ï¼Œæ£€æŸ¥æˆ–ç¡®è®¤è¿›ç¨‹æ˜¯å¦çœŸæ­£è¢«å…³é—­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Others </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Python </tag>
            
            <tag> ç¾¤æ™– </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxç³»ç»Ÿinodesèµ„æºè€—å°½é—®é¢˜ </title>
      <link href="/6118/"/>
      <url>/6118/</url>
      
        <content type="html"><![CDATA[<h1>é—®é¢˜</h1><p>ä»Šå¤©æœåŠ¡å™¨çªç„¶å´©äº†ï¼Œä½¿ç”¨çš„amhé¢æ¿ï¼Œæ‰§è¡Œ<code>/etc/init.d/amh-start</code>åæ‰€æœ‰æœåŠ¡å‡å‡ºç°ç›¸åŒçš„ä¸€ä¸ªé”™è¯¯æç¤º<code>No space left on device</code></p><h1>è§£å†³</h1><h3 id="æ’æŸ¥">æ’æŸ¥</h3><p>æŸ¥çœ‹ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µï¼Œä½¿ç”¨<code>df -h</code>å‘½ä»¤ï¼Œç£ç›˜æ˜¾ç„¶æ²¡æœ‰å æ»¡ï¼Œé‚£æ˜¯ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿä¸€ç•ªæœå¯»åå‘ç°å±…ç„¶æœ‰ä¸ªå«inodeçš„ä¸œè¥¿ã€‚å¼•èµ·äº†æˆ‘çš„æ³¨æ„ã€‚</p><h3 id="æŸ¥çœ‹inodessä½¿ç”¨æƒ…å†µï¼Œä½¿ç”¨df-iå‘½ä»¤">æŸ¥çœ‹inodessä½¿ç”¨æƒ…å†µï¼Œä½¿ç”¨<code>df -i</code>å‘½ä»¤</h3><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/inode/pasted-0.png" alt="" loading="lazy"><br>ç”±äºæˆ‘æ²¡æœ‰æˆªå›¾ï¼Œæ‰€ä»¥å€Ÿç”¨ä¸€å¼ ç½‘å›¾ã€‚</p><h3 id="inodesè€—å°½è§£å†³">inodesè€—å°½è§£å†³</h3><ul><li>ï¼ˆ1ï¼‰æŸ¥çœ‹æ–‡ä»¶æœ€å¤šçš„ç›®å½•</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> /*<span class="token punctuation">;</span> <span class="token keyword">do</span> <span class="token builtin class-name">echo</span> <span class="token variable">$i</span><span class="token punctuation">;</span> <span class="token function">find</span> <span class="token variable">$i</span> <span class="token operator">|</span> <span class="token function">wc</span> -l<span class="token punctuation">;</span> <span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å¦‚æœç¡®å®šç›®å½•èŒƒå›´ï¼ŒæŠŠ/*å†™çš„å…·ä½“ç‚¹</p><p>æœ€ç»ˆå‘ç°æ˜¯<code>/var/spool/postfix/maildrop</code>ç›®å½•ä¸‹å°æ–‡ä»¶è¿‡å¤šï¼ŒåŸå› å¦‚ä¸‹ï¼š</p><p><em>ç”±äºlinuxåœ¨æ‰§è¡Œcronæ—¶ï¼Œä¼šå°†cronæ‰§è¡Œè„šæœ¬ä¸­çš„outputå’Œwarningä¿¡æ¯ï¼Œéƒ½ä¼šä»¥é‚®ä»¶çš„å½¢å¼å‘é€ç»™cronæ‰€æœ‰è€…ã€‚ç”±äºå®¢æˆ·ç¯å¢ƒä¸­çš„sendmailå’Œpostfixæ²¡æœ‰æ­£å¸¸è¿è¡Œï¼Œé‚®ä»¶å‘é€ä¸æˆåŠŸï¼Œå¯¼è‡´å…¨éƒ¨å°æ–‡ä»¶éƒ½å †ç§¯åœ¨maildropç›®å½•ä¸‹ï¼Œå¦ç”±äºç¼ºä¹è‡ªåŠ¨æ¸…ç†çš„æœºåˆ¶ï¼Œæ•…æ­¤ç›®å½•ä¸‹å †ç§¯äº†å¤§é‡çš„æ–‡ä»¶ã€‚</em></p><ul><li>ï¼ˆ2ï¼‰åˆ é™¤å¤§é‡æ–‡ä»¶</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ls</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-n</span> <span class="token number">1000</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>éœ€è¦ä½¿ç”¨<code>xargs</code>å‘½ä»¤ï¼Œä¸ç„¶ä¼šåˆ é™¤å¤±è´¥ã€‚</p><h1>inodesä»‹ç»</h1><p>Linuxç³»ç»Ÿä¸‹æ–‡ä»¶æ•°æ®å‚¨å­˜åœ¨â€å—â€ä¸­ï¼Œæ–‡ä»¶çš„å…ƒä¿¡æ¯ï¼Œä¾‹å¦‚æ–‡ä»¶çš„åˆ›å»ºè€…ã€æ–‡ä»¶çš„åˆ›å»ºæ—¥æœŸã€æ–‡ä»¶çš„å¤§å°ç­‰ã€‚è¿™ç§å‚¨å­˜æ–‡ä»¶å…ƒä¿¡æ¯çš„åŒºåŸŸå°±å«åšinodeï¼Œä¸­æ–‡è¯‘åä¸ºâ€ç´¢å¼•èŠ‚ç‚¹â€ã€‚</p><p>inodeä¹Ÿå ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œç¡¬ç›˜æ ¼å¼åŒ–çš„æ—¶å€™ï¼Œæ“ä½œç³»ç»Ÿè‡ªåŠ¨å°†ç¡¬ç›˜åˆ†æˆä¸¤ä¸ªåŒºåŸŸã€‚ä¸€ä¸ªæ˜¯æ•°æ®åŒºï¼Œå­˜æ”¾æ–‡ä»¶æ•°æ®ï¼›å¦ä¸€ä¸ªæ˜¯inodeåŒºï¼ˆinode tableï¼‰ï¼Œå­˜æ”¾inodeæ‰€åŒ…å«çš„ä¿¡æ¯ã€‚</p><p>æ¯ä¸ªinodeèŠ‚ç‚¹çš„å¤§å°ï¼Œä¸€èˆ¬æ˜¯128å­—èŠ‚æˆ–256å­—èŠ‚ã€‚inodeèŠ‚ç‚¹çš„æ€»æ•°ï¼Œåœ¨æ ¼å¼åŒ–æ—¶å°±ç»™å®šï¼Œä¸€èˆ¬æ˜¯æ¯1KBæˆ–æ¯2KBå°±è®¾ç½®ä¸€ä¸ªinodeã€‚å‡å®šåœ¨ä¸€å—1GBçš„ç¡¬ç›˜ä¸­ï¼Œæ¯ä¸ªinodeèŠ‚ç‚¹çš„å¤§å°ä¸º128å­—èŠ‚ï¼Œæ¯1KBå°±è®¾ç½®ä¸€ä¸ªinodeï¼Œé‚£ä¹ˆinode tableçš„å¤§å°å°±ä¼šè¾¾åˆ°128MBï¼Œå æ•´å—ç¡¬ç›˜çš„12.8%ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Openè–‡å±å—¯å®ç°é™æ€ip </title>
      <link href="/51462/"/>
      <url>/51462/</url>
      
        <content type="html"><![CDATA[<blockquote><ul><li>ç”±äºæˆ‘çš„ç”µè„‘p775å¤ªé‡ï¼Œå­¦æ ¡æŸäº›åœ°æ–¹ç«¯å£å°é”ï¼Œè€Œæˆ‘åˆéœ€è¦ä¸€ä¸ªç¨³å®šçš„è¿œç¨‹è¿æ¥æ–¹å¼ï¼Œäºæ˜¯å¼€å§‹æŠ˜è…¾èµ·è‡ªå·±å®¶é‡Œçš„ç½‘ä»¶R6400ã€‚</li></ul></blockquote><h1>å‰æœŸå‡†å¤‡</h1><p><strong>å¯¹äºè¦å‘å…¶åˆ†é…é™æ€IPåœ°å€çš„æ¯ä¸ªOpenVPNå®¢æˆ·ç«¯ï¼Œæ‚¨éœ€è¦ä»è¯¥ç‰¹å®šå®¢æˆ·ç«¯è¯ä¹¦ä¸­æå–é€šç”¨åç§°ã€‚</strong></p><p>æˆ‘çš„è·¯ç”±å™¨ä½¿ç”¨çš„æ˜¯æ¢…æ—å›ºä»¶ï¼Œ<code>Firmware:380.70_0-X7.9</code>ï¼Œæˆ‘åœ¨vpné…ç½®å¥½ç”¨æˆ·åå’Œå¯†ç åå‘ç°æ¯ä¸ªè¿æ¥çš„<em>common name</em>éƒ½æ˜¯clientï¼Œæ²¡æ³•ç»™æ¯ä¸ªç”¨æˆ·åå•ç‹¬é…ç½®ï¼Œæˆ‘è‹¦è‹¦å¯»æ±‚æ–¹æ³•æ— æœåï¼Œå¶ç„¶å‘ç°åœ¨é«˜çº§è®¾ç½®é‡Œé¢å¼€å¯è¿™ä¸¤é¡¹ï¼Œç”¨æˆ·åå°±æˆäº†common name</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/openvp/pasted-1.png" alt="" loading="lazy"></p><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/openvp/pasted-2.png" alt="" loading="lazy"></p><h1>ä¸ºOpenè–‡å±å—¯å®¢æˆ·ç«¯åˆ†é…é™æ€IPåœ°å€</h1><h2 id="åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥å­˜å‚¨é™æ€IPåœ°å€">åˆ›å»ºä¸€ä¸ªæ–‡ä»¶æ¥å­˜å‚¨é™æ€IPåœ°å€</h2><p>æœ‰äº†<code>common name</code>åï¼Œä¸€åˆ‡éƒ½å˜å¾—å¥½åŠèµ·æ¥ã€‚<br>ä½¿ç”¨ client-config-dir é€‰é¡¹ï¼Œè¦æ±‚å°†åˆ†é…ç»™è¿æ¥å®¢æˆ·ç«¯çš„é™æ€IPåœ°å€å­˜å‚¨åœ¨OpenVPNæœåŠ¡å™¨å¯ä»¥è¯»å–çš„æ–‡ä»¶ä¸­ã€‚<br>åœ¨R6400ä¸­ï¼Œæˆ‘ä»¬åœ¨é«˜çº§è®¾ç½® è‡ªå®šä¹‰é…ç½®ä¸­æ·»åŠ ä¸€è¡Œ</p><pre class="line-numbers language-none"><code class="language-none">client-config-dir &#x2F;etc&#x2F;ccd #è·¯å¾„å¯ä»¥æ›´æ”¹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/openvp/pasted-3.png" alt="" loading="lazy"></p><h2 id="ä¸ºOpenVPNå®¢æˆ·ç«¯åˆ†é…é™æ€IPåœ°å€">ä¸ºOpenVPNå®¢æˆ·ç«¯åˆ†é…é™æ€IPåœ°å€</h2><p>æœ‰äº†å®¢æˆ·ç«¯çš„é€šç”¨åç§°åï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨ ifconfig-push é€‰é¡¹ã€‚<br>ä¾‹å¦‚ï¼Œç»™é€šç”¨åç§°ä¸º<strong>ipad</strong>çš„å®¢æˆ·ç«¯åˆ†é…é™æ€ipåœ°å€ï¼š</p><pre class="line-numbers language-none"><code class="language-none">mkdir &#x2F;etc&#x2F;ccdecho ifconfig-push 10.8.0.10 255.255.255.0 &gt; &#x2F;etc&#x2F;ccd&#x2F;gx8<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>ç„¶åè¾“å…¥ç”¨æˆ·ågx8å’Œå¯†ç é‡æ–°è¿æ¥ï¼Œopenè–‡å±å—¯å°±ä¼šåˆ†é…ä½ è®¾å®šå¥½çš„ipåœ°å€</p><h2 id="ä¸å®Œç¾ä¸ç‘•ç–µ">ä¸å®Œç¾ä¸ç‘•ç–µ</h2><p>R6400sshè¿æ¥ç”¨adminç”¨æˆ·ç™»é™†æ²¡æœ‰rootæƒé™ï¼Œè€Œetcæ ¹ç›®å½•çš„etcæ–‡ä»¶æ˜¯tmpæ–‡ä»¶å¤¹é‡Œçš„ä¸€ä¸ªè½¯é“¾æ¥ï¼Œè¿™æ„å‘³ç€è·¯ç”±å™¨æ¯æ¬¡é‡å¯ä½ éƒ½éœ€è¦é‡æ–°åˆ›å»ºè¿™æ ·ä¸€ä¸ªæ–‡ä»¶ï¼Œåé¢å†å»ç ”ç©¶æ€ä¹ˆè§£å†³è¿™ä¸ªé—®é¢˜å§ï¼</p><h1>è¡¥å…… win10 openè–‡å±å—¯ UI çš„å¼€æœºè‡ªåŠ¨è¿æ¥è®¾ç½®æ–¹æ³•</h1><p>å¦‚å›¾æ‰€ç¤ºï¼Œç»™openvpnçš„å¿«æ·æ–¹å¼ç›®æ ‡é‡Œé¢åŠ ä¸Šè¿™ä¸€å¥</p><pre class="line-numbers language-none"><code class="language-none">--connect client1.ovpn #clint1æ˜¯ä½ çš„é…ç½®æ–‡ä»¶åç§°ï¼Œæ ¹æ®å®é™…æƒ…å†µè‡ªè¡Œä¿®æ”¹<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/openvp/pasted-4.png" alt="" loading="lazy"><br>ç„¶åæŒ‰win+R ï¼Œè¾“å…¥<code>shell:startup</code>ï¼ŒæŠŠæ”¹å¥½çš„å¿«æ·æ–¹å¼å¤åˆ¶è¿›å»ä¾¿å¤§åŠŸå‘Šæˆå•¦</p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> VPN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>pythonå®ç°å¼ºæ™ºç§‘æŠ€æ•™åŠ¡ç³»ç»ŸæŠ¢è¯¾ï¼ˆä¸¤ç§æ–¹æ³•ï¼‰ </title>
      <link href="/33987/"/>
      <url>/33987/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€">å‰è¨€</h2><p>åˆåˆ°äº†é€‰è¯¾çš„æ—¶é—´ï¼Œåˆä¸€æ¬¡è¢«æ•™åŠ¡ç³»ç»Ÿçš„é¢„é€‰ç»™å®‰æ’äº†ï¼Œç¡¬æ˜¯ä¸€é—¨éƒ½æ²¡é€‰ä¸­ã€‚äºæ˜¯æƒ³å®ç°æœ‰æ²¡æœ‰è‡ªåŠ¨æ¡è¯¾çš„æ–¹æ³•ã€‚å°±æ•´ä½“åˆ†ä¸ºä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯è·å–getè¯·æ±‚ç„¶åç”±pythonå¤šçº¿ç¨‹æäº¤å»é€‰è¯¾ï¼Œä¸€ç§æ˜¯åˆ©ç”¨è‡ªåŠ¨åŒ–æµ‹è¯•çš„seleniumåº“å»è°ƒç”¨è°·æ­Œæµè§ˆå™¨æ¨¡æ‹Ÿäººå·¥é€‰è¯¾æ“ä½œã€‚å…¶å®å°±ç®—éƒ½æ˜¯å¼ºæ™ºç³»ç»Ÿï¼Œä½†ç»†èŠ‚ä¸Šè¿˜æ˜¯æœ‰äº›å·®åˆ«çš„ã€‚æ‰€ä»¥ä¹Ÿæœ‰å¯èƒ½æ— æ³•å®ç°ã€‚è¿™é‡Œæ”¾å‡ºä¸¤ç§æ–¹æ³•çš„ä»£ç å’Œæµç¨‹ï¼Œä»…ä¾›å‚è€ƒã€‚</p><h2 id="æ–¹æ³•ä¸€ï¼š">æ–¹æ³•ä¸€ï¼š</h2><p>ç›´æ¥æäº¤é€‰è¯¾çš„æ•°æ®åŒ…ï¼ˆéœ€è¦cookieå’Œè¯¾ç¨‹IDï¼‰,å…ˆç”¨åŒå­¦çš„è´¦å·ç™»å½•æ•™åŠ¡ç³»ç»Ÿï¼Œè¿›å…¥åˆ°é€‰è¯¾çš„åœ°æ–¹ï¼Œæ‰“å¼€æµè§ˆå™¨çš„å¼€å‘æ¨¡å¼ï¼ˆæŒ‰F12ï¼‰ï¼Œç‚¹å‡»Network(ï¼‰æˆ‘è¿™é‡Œæ˜¯è°·æ­Œæµè§ˆå™¨ï¼Œå¦‚æœæ˜¯å…¶ä»–çš„æ‰¾åˆ°ç½‘ç»œæŠ“åŒ…å³å¯ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/qiang-k/pasted-0.png" alt="" loading="lazy"></p><p>ç‚¹å‡»ä½ æƒ³é€‰æ‹©è¯¾ç¨‹çš„é€‰è¯¾æŒ‰é’®ï¼Œå¾—åˆ°æˆ‘ä»¬éœ€è¦çš„æ•°æ®åŒ…ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/qiang-k/pasted-1.png" alt="" loading="lazy"></p><p>æˆ‘ä»¬æ¥çœ‹ä¸‹è¿™ä¸ªæ•°æ®åŒ…çš„å†…å®¹ï¼Œæˆ‘ä»¬éœ€è¦æ‰¾åˆ°cookie( ä½ çš„èº«ä»½æ ‡è¯†ï¼‰ï¼Œä»¥åŠæˆ‘ä»¬éœ€è¦é€‰çš„è¯¾ç¨‹IDï¼Œç„¶åç”¨pythonæ¨¡æ‹Ÿæäº¤å°±OKäº†ã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/qiang-k/pasted-2.png" alt="" loading="lazy"></p><p>æ³¨æ„ ä»£ç é‡Œçš„User_Agentå’ŒRefererä¹Ÿè¦è®°å¾—ä¿®æ”¹ï¼Œéƒ½åœ¨æ•°æ®åŒ…é‡Œã€‚</p><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/qiang-k/pasted-3.png" alt="" loading="lazy"></p><p>ä¸‹é¢æ˜¯ä»£ç ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">from</span> future<span class="token punctuation">.</span>backports<span class="token punctuation">.</span>test<span class="token punctuation">.</span>ssl_servers <span class="token keyword">import</span> threading  <span class="token comment"># è·å–cookie å’Œ è¯¾ç¨‹idå°±å¯ä»¥æŠ¢è¯¾</span>  <span class="token keyword">def</span> <span class="token function">qian1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    data <span class="token operator">=</span> <span class="token number">201820192001656</span>    <span class="token comment"># data æ˜¯æ‰¾åˆ°çš„è¯¾ç¨‹IDï¼Œå› ä¸ºpythonæ²¡å­¦å¥½ï¼Œä»£ç å†™çš„æœ‰ç‚¹ä¹±</span>    <span class="token comment"># ä¸‹é¢æ˜¯åœ°å€ å°±æ˜¯æˆ‘ä»¬æŠ“åˆ°çš„é‚£ä¸ªæ•°æ®åŒ…çš„URL</span>    url <span class="token operator">=</span> <span class="token string">'http://****ï¼ˆå­¦æ ¡çš„åœ°å€ï¼‰.edu.cn/jsxsd/xsxkkc/bxxkOper?jx0404id='</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    cookie <span class="token operator">=</span> <span class="token string">' ç”¨æ‰¾åˆ°çš„cookieæ›¿æ¢'</span>    header <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36'</span><span class="token punctuation">,</span>        <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'http://........../srun_portal_pc.php?ac_id=1'</span><span class="token punctuation">,</span>        <span class="token string">'cookie'</span><span class="token punctuation">:</span>cookie    <span class="token punctuation">&#125;</span>     <span class="token comment"># ä¸€ç›´æŠ¢ï¼</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        <span class="token comment"># è®¾å®š5sæœåŠ¡å™¨æœªåº”ç­”å°±æ”¾å¼ƒè¿™æ¬¡ï¼Œé¬¼çŸ¥é“æ˜¯æœåŠ¡å™¨ç‚¸äº†è¿˜æ˜¯ã€‚ã€‚ã€‚ã€‚</span>        mes <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>header<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>         <span class="token comment"># æ‰“å°è¿”å›çš„ç»“æœï¼Œå°±æ˜¯å¼¹å‡ºæ¥çš„é‚£ä¸ªå°çª—å£çš„å†…å®¹</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>mes<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">':'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>mes<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment"># åé¢æ˜¯ä¸åŒçš„è¯¾ï¼Œå› ä¸ºä¸èƒ½åŠåœ¨ä¸€è¯¾æ ‘ä¸Šï¼</span><span class="token keyword">def</span> <span class="token function">qian</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    data <span class="token operator">=</span> <span class="token number">201820192001302</span>    url <span class="token operator">=</span> <span class="token string">'http://*****/jsxsd/xsxkkc/bxxkOper?jx0404id='</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    cookie <span class="token operator">=</span> <span class="token string">'*****cookie'</span>    header <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36'</span><span class="token punctuation">,</span>        <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'http://172.30.1.70/srun_portal_pc.php?ac_id=1'</span><span class="token punctuation">,</span>        <span class="token string">'cookie'</span><span class="token punctuation">:</span>cookie    <span class="token punctuation">&#125;</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        mes <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>header<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>mes<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">':'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>mes<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token keyword">def</span> <span class="token function">qian2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    data <span class="token operator">=</span> <span class="token number">201820192001155</span>    url <span class="token operator">=</span> <span class="token string">'http://****n/jsxsd/xsxkkc/bxxkOper?jx0404id='</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>    cookie <span class="token operator">=</span> <span class="token string">'cookie'</span>      header <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.80 Safari/537.36'</span><span class="token punctuation">,</span>        <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'http://172.30.1.70/srun_portal_pc.php?ac_id=1'</span><span class="token punctuation">,</span>        <span class="token string">'cookie'</span><span class="token punctuation">:</span> cookie    <span class="token punctuation">&#125;</span>    <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>        mes <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>header<span class="token punctuation">,</span> timeout<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">str</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>mes<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>mes<span class="token punctuation">.</span>text<span class="token punctuation">)</span><span class="token punctuation">)</span>   <span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># å¼€å¤šçº¿ç¨‹åˆ†å¼€æŠ¢è¯¾</span>    <span class="token comment"># æ¥ä¸‹æ¥å°±ä¼šä¸€ç›´æŠ¢è¯¾ï¼</span>    thread1 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>qian<span class="token punctuation">)</span>    thread2 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>qian1<span class="token punctuation">)</span>    thread3 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>qian2<span class="token punctuation">)</span>    thread4 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>qian<span class="token punctuation">)</span>    thread5 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>qian1<span class="token punctuation">)</span>    thread6 <span class="token operator">=</span> threading<span class="token punctuation">.</span>Thread<span class="token punctuation">(</span>target<span class="token operator">=</span>qian2<span class="token punctuation">)</span>    thread1<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    thread2<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    thread3<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    thread4<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    thread5<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>    thread6<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>   main<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="æ–¹æ³•äºŒï¼šseleniumåº“æ¨¡æ‹Ÿäººå·¥é€‰è¯¾">æ–¹æ³•äºŒï¼šseleniumåº“æ¨¡æ‹Ÿäººå·¥é€‰è¯¾</h2><p>è¦ä½¿ç”¨è¿™ä¸ªæ–¹æ³•ä¹‹å‰ï¼Œæœ€å¥½å…ˆçœ‹ä¸€ä¸‹è¿™ä¸€ç¯‡æ–‡ç« ï¼Œ<a href="https://blog.csdn.net/weixin_43314519/article/details/107092245">äº†è§£å¦‚ä½•ä½¿ç”¨seleniumåº“</a>ã€‚è®°å¾—æå‰å®‰è£…å¥½seleniumåº“ï¼Œä»¥åŠChromedriverã€‚å…·ä½“æ–¹æ³•å¯ä»¥åœ¨csdnæœç´¢ã€‚</p><h3 id="ä½¿ç”¨æµç¨‹">ä½¿ç”¨æµç¨‹</h3><ol><li>å°†è„šæœ¬å†…ä¿¡æ¯å¡«å¥½æ”¹å¥½</li><li>è¿è¡Œè„šæœ¬ï¼Œæ­¤æ—¶ä¼šæ‰“å¼€chromeå¹¶ä¸”æ‰“å¼€ç™»å½•é¡µï¼Œè„šæœ¬ä¼šè‡ªè¡Œå¡«å†™å­¦å·å¯†ç ï¼Œéœ€è¦ç­‰ä½ å¡«å†™éªŒè¯ç </li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># author: Zmaster</span><span class="token comment"># time: 2020/7/2 12:03</span><span class="token comment"># -*- coding: utf-8 -*-</span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>keys <span class="token keyword">import</span> Keys<span class="token keyword">from</span> time <span class="token keyword">import</span> sleepchrome_options <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">Qiangke</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    login_url <span class="token operator">=</span> <span class="token string">"https://***.edu.cn/jsxsd/"</span>  <span class="token comment">#ç™»å½•é¡µé¢ï¼Œä¿®æ”¹æˆä½ å­¦æ ¡çš„ç™»å½•åœ°å€</span>    select_url <span class="token operator">=</span> <span class="token string">"****/jsxsd/xsxk/xsxk_index?jx0502zbid=B563D5935D024C6387445066336AA73B"</span><span class="token comment">#ä¿®æ”¹ä¸ºç™»å½•æˆåŠŸåçš„ç•Œé¢</span>    initmy_url <span class="token operator">=</span> <span class="token string">"https://****/jsxsd/framework/xsMain.jsp"</span>    <span class="token comment">#ä¿®æ”¹ä¸ºä½ é€‰è¯¾çš„ç•Œé¢</span>    xh <span class="token operator">=</span> <span class="token string">u"****"</span>  <span class="token comment">#å¡«å†™ç”¨æˆ·å</span>    pwd <span class="token operator">=</span> <span class="token string">'****'</span>   <span class="token comment">#å¡«å†™å¯†ç </span>    _user <span class="token operator">=</span> <span class="token string">"****@qq.com"</span> <span class="token comment">#å¡«å†™ä½ çš„é‚®ç®±ï¼ˆç”¨äºå‘é‚®ä»¶æé†’æŠ¢è¯¾æˆåŠŸï¼‰</span>    _pwd <span class="token operator">=</span> <span class="token string">"****"</span>  <span class="token comment">#æˆæƒç ï¼Œåœ¨é‚®ç®±é‡Œè·å¾—</span>    _to <span class="token operator">=</span> <span class="token string">"****@qq.com"</span> <span class="token comment">#æ”¶ä»¶äººé‚®ç®±ï¼Œå¯ä»¥å†™è‡ªå·±çš„ï¼Œå¸®åˆ«äººæŠ¢è¯¾å°±å‘åˆ«äººçš„</span>    course_category <span class="token operator">=</span> <span class="token string">u'å…¬é€‰è¯¾é€‰è¯¾'</span>  <span class="token comment"># è¿™é‡Œå¡«å†™é€‰è¯¾ç§ç±»ï¼Œè¿™ä¸ªè„šæœ¬åªèƒ½æŠ¢è·¨å¹´çº§ï¼Œè·¨ä¸“ä¸šï¼Œå’Œå…¬é€‰ï¼Œéœ€è¾“å…¥å®Œæ•´çš„åå­—å¦‚â€œä¸“ä¸šå†…è·¨å¹´çº§é€‰è¯¾â€ï¼Œâ€œè·¨ä¸“ä¸šé€‰è¯¾â€ï¼Œâ€œå…¬é€‰è¯¾é€‰è¯¾â€</span>    class_name <span class="token operator">=</span> <span class="token string">u"ç¾æœ¯èµæ"</span>  <span class="token comment">#è¿™é‡Œè¾“å…¥ä½ æƒ³æŠ¢çš„è¯¾çš„åå­—ï¼ˆå…³é”®å­—å³å¯ï¼‰</span>    teacher_name <span class="token operator">=</span> <span class="token string">u""</span>  <span class="token comment">#è¿™é‡Œè¾“å…¥ä½ æƒ³æŠ¢çš„è¯¾çš„è€å¸ˆçš„åå­—</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å¼€å§‹æŠ¢è¯¾"</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">login</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>login_url<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">"details-button"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">"proceed-link"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">"USERNAME"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>self<span class="token punctuation">.</span>xh<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_name<span class="token punctuation">(</span><span class="token string">"PASSWORD"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>self<span class="token punctuation">.</span>pwd<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ç­‰å¾…éªŒè¯ç ï¼Œè‡ªè¡Œè¾“å…¥...."</span><span class="token punctuation">)</span>        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>current_url <span class="token operator">!=</span> self<span class="token punctuation">.</span>initmy_url<span class="token punctuation">:</span>                sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">break</span>    <span class="token keyword">def</span> <span class="token function">send</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> text<span class="token punctuation">,</span> send_msg<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">import</span> smtplib        <span class="token keyword">from</span> email<span class="token punctuation">.</span>mime<span class="token punctuation">.</span>text <span class="token keyword">import</span> MIMEText        msg <span class="token operator">=</span> MIMEText<span class="token punctuation">(</span>text<span class="token punctuation">)</span>        msg<span class="token punctuation">[</span><span class="token string">"Subject"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"ä½ é€‰è¯¾æˆåŠŸäº†ï¼"</span>        msg<span class="token punctuation">[</span><span class="token string">"From"</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>_user        msg<span class="token punctuation">[</span><span class="token string">"To"</span><span class="token punctuation">]</span> <span class="token operator">=</span> self<span class="token punctuation">.</span>_to        s <span class="token operator">=</span> smtplib<span class="token punctuation">.</span>SMTP_SSL<span class="token punctuation">(</span><span class="token string">"smtp.qq.com"</span><span class="token punctuation">,</span> <span class="token number">465</span><span class="token punctuation">)</span>        s<span class="token punctuation">.</span>login<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_user<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_pwd<span class="token punctuation">)</span>        s<span class="token punctuation">.</span>sendmail<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_user<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_to<span class="token punctuation">,</span> msg<span class="token punctuation">.</span>as_string<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        s<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># è¿™é‡Œéœ€è¦æ ¹æ®è‡ªå·±çš„æ•™åŠ¡ç³»ç»Ÿå»ä¿®æ”¹äº†ï¼Œæœ‰æŒºå¤šä¸ä¸€æ ·çš„åœ°æ–¹ã€‚æ‰€ä»¥å»ºè®®é˜…è¯»å®Œä½¿ç”¨æ–‡æ¡£å†æ¥ä¿®æ”¹</span>        self<span class="token punctuation">.</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>chrome_options<span class="token operator">=</span>chrome_options<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>login<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span>self<span class="token punctuation">.</span>select_url<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span>self<span class="token punctuation">.</span>course_category<span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="mainFrame"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'kcxx'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>self<span class="token punctuation">.</span>class_name<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'skls'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>self<span class="token punctuation">.</span>teacher_name<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_value<span class="token punctuation">(</span><span class="token string">u"æŸ¥è¯¢"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>        cnt <span class="token operator">=</span> <span class="token number">1</span>        <span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>            <span class="token keyword">try</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span><span class="token string">'é€‰è¯¾'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">except</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>default_content<span class="token punctuation">(</span><span class="token punctuation">)</span>                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span>self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="mainFrame"]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>                self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>find_element_by_link_text<span class="token punctuation">(</span><span class="token string">"é€‰è¯¾"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>            dig_alert <span class="token operator">=</span> self<span class="token punctuation">.</span>driver<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>alert            dig_alert<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>            text <span class="token operator">=</span> dig_alert<span class="token punctuation">.</span>text            <span class="token keyword">if</span> text <span class="token operator">!=</span> <span class="token string">'é€‰è¯¾å¤±è´¥ï¼šæ­¤è¯¾å ‚é€‰è¯¾äººæ•°å·²æ»¡ï¼'</span> <span class="token keyword">and</span> text <span class="token operator">!=</span> <span class="token string">''</span><span class="token punctuation">:</span>                self<span class="token punctuation">.</span>send<span class="token punctuation">(</span><span class="token string">'&#123;&#125;  é€‰è¯¾æˆåŠŸ'</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>class_name<span class="token punctuation">)</span><span class="token punctuation">)</span>                <span class="token keyword">break</span>            <span class="token keyword">elif</span> text <span class="token operator">==</span> <span class="token string">''</span><span class="token punctuation">:</span>                dig_alert<span class="token punctuation">.</span>accept<span class="token punctuation">(</span><span class="token punctuation">)</span>            cnt <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">if</span> cnt <span class="token operator">%</span> <span class="token number">200</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>cnt<span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    qiangke <span class="token operator">=</span> Qiangke<span class="token punctuation">(</span><span class="token punctuation">)</span>    qiangke<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ­£åˆ™è¡¨è¾¾å¼30minå…¥é—¨</title>
      <link href="/59569/"/>
      <url>/59569/</url>
      
        <content type="html"><![CDATA[<blockquote><p>çœ‹åˆ°ä¸€ä¸ªå¾ˆä¸é”™çš„æ–‡ç« ï¼Œè½¬è½½ä¸€ä¸‹ï¼Œä»¥åéœ€è¦å°±ç¿»ç¿»ï¼Œé¡ºä¾¿ç»™è‡ªå·±æ ‡ä¸€ä¸‹é‡ç‚¹</p><p>åŸæ–‡é“¾æ¥ï¼š<a href="https://deerchao.cn/tutorials/regex/regex.htm">https://deerchao.cn/tutorials/regex/regex.htm</a></p></blockquote><h3 id="å¦‚ä½•ä½¿ç”¨æœ¬æ•™ç¨‹">å¦‚ä½•ä½¿ç”¨æœ¬æ•™ç¨‹</h3><p>åˆ«è¢«ä¸‹é¢é‚£äº›å¤æ‚çš„è¡¨è¾¾å¼å“å€’ï¼Œåªè¦è·Ÿç€æˆ‘ä¸€æ­¥ä¸€æ­¥æ¥ï¼Œä½ ä¼šå‘ç°æ­£åˆ™è¡¨è¾¾å¼å…¶å®å¹¶æ²¡æœ‰æƒ³åƒä¸­çš„é‚£ä¹ˆå›°éš¾ã€‚å½“ç„¶ï¼Œå¦‚æœä½ çœ‹å®Œäº†è¿™ç¯‡æ•™ç¨‹ä¹‹åï¼Œå‘ç°è‡ªå·±æ˜ç™½äº†å¾ˆå¤šï¼Œå´åˆå‡ ä¹ä»€ä¹ˆéƒ½è®°ä¸å¾—ï¼Œé‚£ä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„â€”â€”æˆ‘è®¤ä¸ºï¼Œæ²¡æ¥è§¦è¿‡æ­£åˆ™è¡¨è¾¾å¼çš„äººåœ¨çœ‹å®Œè¿™ç¯‡æ•™ç¨‹åï¼Œèƒ½æŠŠæåˆ°è¿‡çš„è¯­æ³•è®°ä½80%ä»¥ä¸Šçš„å¯èƒ½æ€§ä¸ºé›¶ã€‚è¿™é‡Œåªæ˜¯è®©ä½ æ˜ç™½åŸºæœ¬çš„åŸç†ï¼Œä»¥åä½ è¿˜éœ€è¦å¤šç»ƒä¹ ï¼Œå¤šä½¿ç”¨ï¼Œæ‰èƒ½ç†Ÿç»ƒæŒæ¡æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><p>é™¤äº†ä½œä¸ºå…¥é—¨æ•™ç¨‹ä¹‹å¤–ï¼Œæœ¬æ–‡è¿˜è¯•å›¾æˆä¸ºå¯ä»¥åœ¨æ—¥å¸¸å·¥ä½œä¸­ä½¿ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•å‚è€ƒæ‰‹å†Œã€‚å°±ä½œè€…æœ¬äººçš„ç»å†æ¥è¯´ï¼Œè¿™ä¸ªç›®æ ‡è¿˜æ˜¯å®Œæˆå¾—ä¸é”™çš„â€”â€”ä½ çœ‹ï¼Œæˆ‘è‡ªå·±ä¹Ÿæ²¡èƒ½æŠŠæ‰€æœ‰çš„ä¸œè¥¿è®°ä¸‹æ¥ï¼Œä¸æ˜¯å—ï¼Ÿ</p><p>æœ¬æ–‡ä»‹ç»çš„å¤§éƒ¨åˆ†æ­£åˆ™è¯­æ³•ï¼Œåœ¨ä¸åŒçš„æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¸­éƒ½å¯ä»¥ä½¿ç”¨ï¼Œä½†ä¹Ÿæœ‰ä¸€äº›ä¼šæœ‰æ‰€å·®å¼‚ã€‚æœ¬æ–‡ä»‹ç»çš„æ˜¯ .Net ä¸‹çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶å®ƒç¯å¢ƒä¸‹çš„å…·ä½“æƒ…å†µå¯ä»¥åœ¨è¯»å®Œæœ¬æ–‡åå»å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼Œæˆ–è€…æŸ¥çœ‹æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ç‰¹æ€§å¯¹æ¯”ã€‚</p><h3 id="æ­£åˆ™è¡¨è¾¾å¼åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ">æ­£åˆ™è¡¨è¾¾å¼åˆ°åº•æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿ</h3><p>åœ¨ç¼–å†™å¤„ç†å­—ç¬¦ä¸²çš„ç¨‹åºæˆ–ç½‘é¡µæ—¶ï¼Œç»å¸¸ä¼šæœ‰æŸ¥æ‰¾ç¬¦åˆæŸäº›å¤æ‚è§„åˆ™çš„å­—ç¬¦ä¸²çš„éœ€è¦ã€‚æ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ç”¨äºæè¿°è¿™äº›è§„åˆ™çš„å·¥å…·ã€‚æ¢å¥è¯è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯è®°å½•æ–‡æœ¬è§„åˆ™çš„ä»£ç ã€‚</p><p>å¾ˆå¯èƒ½ä½ ä½¿ç”¨è¿‡Windows/Dosä¸‹ç”¨äºæ–‡ä»¶æŸ¥æ‰¾çš„é€šé…ç¬¦(wildcard)ï¼Œä¹Ÿå°±æ˜¯<em>å’Œ?ã€‚å¦‚æœä½ æƒ³æŸ¥æ‰¾æŸä¸ªç›®å½•ä¸‹çš„æ‰€æœ‰çš„Wordæ–‡æ¡£çš„è¯ï¼Œä½ ä¼šæœç´¢</em>.docã€‚åœ¨è¿™é‡Œï¼Œ*ä¼šè¢«è§£é‡Šæˆä»»æ„çš„å­—ç¬¦ä¸²ã€‚å’Œé€šé…ç¬¦ç±»ä¼¼ï¼Œæ­£åˆ™è¡¨è¾¾å¼ä¹Ÿæ˜¯ç”¨æ¥è¿›è¡Œæ–‡æœ¬åŒ¹é…çš„å·¥å…·ï¼Œåªä¸è¿‡æ¯”èµ·é€šé…ç¬¦ï¼Œå®ƒèƒ½æ›´ç²¾ç¡®åœ°æè¿°ä½ çš„éœ€æ±‚â€”â€”å½“ç„¶ï¼Œä»£ä»·å°±æ˜¯æ›´å¤æ‚â€”â€”æ¯”å¦‚ä½ å¯ä»¥ç¼–å†™ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ¥æŸ¥æ‰¾æ‰€æœ‰ä»¥0å¼€å¤´ï¼Œåé¢è·Ÿç€2-3ä¸ªæ•°å­—ï¼Œç„¶åæ˜¯ä¸€ä¸ªè¿å­—å·â€œ-â€ï¼Œæœ€åæ˜¯7æˆ–8ä½æ•°å­—çš„å­—ç¬¦ä¸²(åƒ010-12345678æˆ–0376-7654321)ã€‚</p><h3 id="å…¥é—¨">å…¥é—¨</h3><p>å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼çš„æœ€å¥½æ–¹æ³•æ˜¯ä»ä¾‹å­å¼€å§‹ï¼Œç†è§£ä¾‹å­ä¹‹åå†è‡ªå·±å¯¹ä¾‹å­è¿›è¡Œä¿®æ”¹ï¼Œå®éªŒã€‚ä¸‹é¢ç»™å‡ºäº†ä¸å°‘ç®€å•çš„ä¾‹å­ï¼Œå¹¶å¯¹å®ƒä»¬ä½œäº†è¯¦ç»†çš„è¯´æ˜ã€‚</p><p>å‡è®¾ä½ åœ¨ä¸€ç¯‡è‹±æ–‡å°è¯´é‡ŒæŸ¥æ‰¾hiï¼Œä½ å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼hiã€‚</p><p>è¿™å‡ ä¹æ˜¯æœ€ç®€å•çš„æ­£åˆ™è¡¨è¾¾å¼äº†ï¼Œå®ƒå¯ä»¥ç²¾ç¡®åŒ¹é…è¿™æ ·çš„å­—ç¬¦ä¸²ï¼š<strong>ç”±ä¸¤ä¸ªå­—ç¬¦ç»„æˆï¼Œå‰ä¸€ä¸ªå­—ç¬¦æ˜¯h,åä¸€ä¸ªæ˜¯i</strong>ã€‚é€šå¸¸ï¼Œå¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„å·¥å…·ä¼šæä¾›ä¸€ä¸ªå¿½ç•¥å¤§å°å†™çš„é€‰é¡¹ï¼Œå¦‚æœé€‰ä¸­äº†è¿™ä¸ªé€‰é¡¹ï¼Œå®ƒå¯ä»¥åŒ¹é…hi,HI,Hi,hIè¿™å››ç§æƒ…å†µä¸­çš„ä»»æ„ä¸€ç§ã€‚</p><p>ä¸å¹¸çš„æ˜¯ï¼Œå¾ˆå¤šå•è¯é‡ŒåŒ…å«hiè¿™ä¸¤ä¸ªè¿ç»­çš„å­—ç¬¦ï¼Œæ¯”å¦‚him,history,highç­‰ç­‰ã€‚ç”¨hiæ¥æŸ¥æ‰¾çš„è¯ï¼Œè¿™é‡Œè¾¹çš„hiä¹Ÿä¼šè¢«æ‰¾å‡ºæ¥ã€‚å¦‚æœè¦ç²¾ç¡®åœ°æŸ¥æ‰¾hiè¿™ä¸ªå•è¯çš„è¯ï¼Œæˆ‘ä»¬åº”è¯¥ä½¿ç”¨<code>\bhi\b</code>ã€‚</p><p><strong>\b</strong>æ˜¯æ­£åˆ™è¡¨è¾¾å¼è§„å®šçš„ä¸€ä¸ªç‰¹æ®Šä»£ç ï¼ˆå¥½å§ï¼ŒæŸäº›äººå«å®ƒ<strong>å…ƒå­—ç¬¦ï¼Œmetacharacter</strong>ï¼‰ï¼Œä»£è¡¨ç€å•è¯çš„å¼€å¤´æˆ–ç»“å°¾ï¼Œä¹Ÿå°±æ˜¯å•è¯çš„åˆ†ç•Œå¤„ã€‚è™½ç„¶é€šå¸¸è‹±æ–‡çš„å•è¯æ˜¯ç”±ç©ºæ ¼ï¼Œæ ‡ç‚¹ç¬¦å·æˆ–è€…æ¢è¡Œæ¥åˆ†éš”çš„ï¼Œä½†æ˜¯\bå¹¶ä¸åŒ¹é…è¿™äº›å•è¯åˆ†éš”å­—ç¬¦ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼Œå®ƒåªåŒ¹é…ä¸€ä¸ªä½ç½®ã€‚</p><p>å‡å¦‚ä½ è¦æ‰¾çš„æ˜¯hiåé¢ä¸è¿œå¤„è·Ÿç€ä¸€ä¸ªLucyï¼Œä½ åº”è¯¥ç”¨\bhi\b.*\bLucy\bã€‚</p><p>è¿™é‡Œï¼Œ.æ˜¯å¦ä¸€ä¸ªå…ƒå­—ç¬¦ï¼ŒåŒ¹é…é™¤äº†æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦ã€‚<em>åŒæ ·æ˜¯å…ƒå­—ç¬¦ï¼Œä¸è¿‡å®ƒä»£è¡¨çš„ä¸æ˜¯å­—ç¬¦ï¼Œä¹Ÿä¸æ˜¯ä½ç½®ï¼Œè€Œæ˜¯æ•°é‡â€”â€”å®ƒæŒ‡å®š</em>å‰è¾¹çš„å†…å®¹å¯ä»¥è¿ç»­é‡å¤ä½¿ç”¨ä»»æ„æ¬¡ä»¥ä½¿æ•´ä¸ªè¡¨è¾¾å¼å¾—åˆ°åŒ¹é…ã€‚å› æ­¤ï¼Œ.<em>è¿åœ¨ä¸€èµ·å°±æ„å‘³ç€ä»»æ„æ•°é‡çš„ä¸åŒ…å«æ¢è¡Œçš„å­—ç¬¦ã€‚ç°åœ¨\bhi\b.</em>\bLucy\bçš„æ„æ€å°±å¾ˆæ˜æ˜¾äº†ï¼šå…ˆæ˜¯ä¸€ä¸ªå•è¯hi,ç„¶åæ˜¯ä»»æ„ä¸ªä»»æ„å­—ç¬¦(ä½†ä¸èƒ½æ˜¯æ¢è¡Œ)ï¼Œæœ€åæ˜¯Lucyè¿™ä¸ªå•è¯ã€‚</p><p>å¦‚æœåŒæ—¶ä½¿ç”¨å…¶å®ƒå…ƒå­—ç¬¦ï¼Œæˆ‘ä»¬å°±èƒ½æ„é€ å‡ºåŠŸèƒ½æ›´å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚æ¯”å¦‚ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><p>0\d\d-\d\d\d\d\d\d\d\dåŒ¹é…è¿™æ ·çš„å­—ç¬¦ä¸²ï¼šä»¥0å¼€å¤´ï¼Œç„¶åæ˜¯ä¸¤ä¸ªæ•°å­—ï¼Œç„¶åæ˜¯ä¸€ä¸ªè¿å­—å·â€œ-â€ï¼Œæœ€åæ˜¯8ä¸ªæ•°å­—(ä¹Ÿå°±æ˜¯ä¸­å›½çš„ç”µè¯å·ç ã€‚å½“ç„¶ï¼Œè¿™ä¸ªä¾‹å­åªèƒ½åŒ¹é…åŒºå·ä¸º3ä½çš„æƒ…å½¢)ã€‚</p><p>è¿™é‡Œçš„\dæ˜¯ä¸ªæ–°çš„å…ƒå­—ç¬¦ï¼ŒåŒ¹é…ä¸€ä½æ•°å­—(0ï¼Œæˆ–1ï¼Œæˆ–2ï¼Œæˆ–â€¦â€¦)ã€‚-ä¸æ˜¯å…ƒå­—ç¬¦ï¼ŒåªåŒ¹é…å®ƒæœ¬èº«â€”â€”è¿å­—ç¬¦(æˆ–è€…å‡å·ï¼Œæˆ–è€…ä¸­æ¨ªçº¿ï¼Œæˆ–è€…éšä½ æ€ä¹ˆç§°å‘¼å®ƒ)ã€‚</p><p>ä¸ºäº†é¿å…é‚£ä¹ˆå¤šçƒ¦äººçš„é‡å¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è¿™æ ·å†™è¿™ä¸ªè¡¨è¾¾å¼ï¼š<strong>0\d{2}-\d{8}</strong>ã€‚è¿™é‡Œ\dåé¢çš„{2}({8})çš„æ„æ€æ˜¯å‰é¢\då¿…é¡»è¿ç»­é‡å¤åŒ¹é…2æ¬¡(8æ¬¡)ã€‚</p><h3 id="å…ƒå­—ç¬¦">å…ƒå­—ç¬¦</h3><p>ç°åœ¨ä½ å·²ç»çŸ¥é“å‡ ä¸ªå¾ˆæœ‰ç”¨çš„å…ƒå­—ç¬¦äº†ï¼Œå¦‚**\b,.,***ï¼Œè¿˜æœ‰\d.æ­£åˆ™è¡¨è¾¾å¼é‡Œè¿˜æœ‰æ›´å¤šçš„å…ƒå­—ç¬¦ï¼Œæ¯”å¦‚\såŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ï¼Œåˆ¶è¡¨ç¬¦(Tab)ï¼Œæ¢è¡Œç¬¦ï¼Œä¸­æ–‡å…¨è§’ç©ºæ ¼ç­‰ã€‚\wåŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—ç­‰ã€‚</p><p>ä¸‹é¢æ¥çœ‹çœ‹æ›´å¤šçš„ä¾‹å­ï¼š</p><p><strong>\ba\w*\b</strong>åŒ¹é…ä»¥å­—æ¯aå¼€å¤´çš„å•è¯â€”â€”å…ˆæ˜¯æŸä¸ªå•è¯å¼€å§‹å¤„(\b)ï¼Œç„¶åæ˜¯å­—æ¯a,ç„¶åæ˜¯ä»»æ„æ•°é‡çš„å­—æ¯æˆ–æ•°å­—(\w*)ï¼Œæœ€åæ˜¯å•è¯ç»“æŸå¤„(\b)ã€‚</p><p>**\d+**åŒ¹é…1ä¸ªæˆ–æ›´å¤šè¿ç»­çš„æ•°å­—ã€‚è¿™é‡Œçš„+æ˜¯å’Œ<em>ç±»ä¼¼çš„å…ƒå­—ç¬¦ï¼Œä¸åŒçš„æ˜¯</em>åŒ¹é…é‡å¤ä»»æ„æ¬¡(å¯èƒ½æ˜¯0æ¬¡)ï¼Œè€Œ+åˆ™åŒ¹é…é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ã€‚</p><p><strong>\b\w{6}\b</strong> åŒ¹é…åˆšå¥½6ä¸ªå­—ç¬¦çš„å•è¯ã€‚</p><h4 id="è¡¨1-å¸¸ç”¨çš„å…ƒå­—ç¬¦">è¡¨1.å¸¸ç”¨çš„å…ƒå­—ç¬¦</h4><table><thead><tr><th>ä»£ç </th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>.</td><td>åŒ¹é…é™¤æ¢è¡Œç¬¦ä»¥å¤–çš„ä»»æ„å­—ç¬¦</td></tr><tr><td>\w</td><td>åŒ¹é…å­—æ¯æˆ–æ•°å­—æˆ–ä¸‹åˆ’çº¿æˆ–æ±‰å­—</td></tr><tr><td>\s</td><td>åŒ¹é…ä»»æ„çš„ç©ºç™½ç¬¦</td></tr><tr><td>\d</td><td>åŒ¹é…æ•°å­—</td></tr><tr><td>\b</td><td>åŒ¹é…å•è¯çš„å¼€å§‹æˆ–ç»“æŸ</td></tr><tr><td>^</td><td>åŒ¹é…å­—ç¬¦ä¸²çš„å¼€å§‹</td></tr><tr><td>$</td><td>åŒ¹é…å­—ç¬¦ä¸²çš„ç»“æŸ</td></tr></tbody></table><p>å…ƒå­—ç¬¦<sup>ï¼ˆå’Œæ•°å­—6åœ¨åŒä¸€ä¸ªé”®ä½ä¸Šçš„ç¬¦å·ï¼‰å’Œ$éƒ½åŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œè¿™å’Œ\bæœ‰ç‚¹ç±»ä¼¼ã€‚</sup>åŒ¹é…ä½ è¦ç”¨æ¥æŸ¥æ‰¾çš„å­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œ$åŒ¹é…ç»“å°¾ã€‚è¿™ä¸¤ä¸ªä»£ç åœ¨éªŒè¯è¾“å…¥çš„å†…å®¹æ—¶éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ä¸€ä¸ªç½‘ç«™å¦‚æœè¦æ±‚ä½ å¡«å†™çš„QQå·å¿…é¡»ä¸º5ä½åˆ°12ä½æ•°å­—æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š^\d{5,12}$ã€‚</p><p>è¿™é‡Œçš„{5,12}å’Œå‰é¢ä»‹ç»è¿‡çš„{2}æ˜¯ç±»ä¼¼çš„ï¼Œåªä¸è¿‡{2}åŒ¹é…åªèƒ½ä¸å¤šä¸å°‘é‡å¤2æ¬¡ï¼Œ{5,12}åˆ™æ˜¯é‡å¤çš„æ¬¡æ•°ä¸èƒ½å°‘äº5æ¬¡ï¼Œä¸èƒ½å¤šäº12æ¬¡ï¼Œå¦åˆ™éƒ½ä¸åŒ¹é…ã€‚</p><p>å› ä¸ºä½¿ç”¨äº†^å’Œ$ï¼Œæ‰€ä»¥è¾“å…¥çš„æ•´ä¸ªå­—ç¬¦ä¸²éƒ½è¦ç”¨æ¥å’Œ\d{5,12}æ¥åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯è¯´æ•´ä¸ªè¾“å…¥å¿…é¡»æ˜¯5åˆ°12ä¸ªæ•°å­—ï¼Œå› æ­¤å¦‚æœè¾“å…¥çš„QQå·èƒ½åŒ¹é…è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„è¯ï¼Œé‚£å°±ç¬¦åˆè¦æ±‚äº†ã€‚</p><p>å’Œå¿½ç•¥å¤§å°å†™çš„é€‰é¡¹ç±»ä¼¼ï¼Œæœ‰äº›æ­£åˆ™è¡¨è¾¾å¼å¤„ç†å·¥å…·è¿˜æœ‰ä¸€ä¸ªå¤„ç†å¤šè¡Œçš„é€‰é¡¹ã€‚å¦‚æœé€‰ä¸­äº†è¿™ä¸ªé€‰é¡¹ï¼Œ^å’Œ$çš„æ„ä¹‰å°±å˜æˆäº†åŒ¹é…è¡Œçš„å¼€å§‹å¤„å’Œç»“æŸå¤„ã€‚</p><h3 id="å­—ç¬¦è½¬ä¹‰">å­—ç¬¦è½¬ä¹‰</h3><p>å¦‚æœä½ æƒ³æŸ¥æ‰¾å…ƒå­—ç¬¦æœ¬èº«çš„è¯ï¼Œæ¯”å¦‚ä½ æŸ¥æ‰¾.,æˆ–è€…*,å°±å‡ºç°äº†é—®é¢˜ï¼šä½ æ²¡åŠæ³•æŒ‡å®šå®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬ä¼šè¢«è§£é‡Šæˆåˆ«çš„æ„æ€ã€‚è¿™æ—¶ä½ å°±å¾—ä½¿ç”¨\æ¥å–æ¶ˆè¿™äº›å­—ç¬¦çš„ç‰¹æ®Šæ„ä¹‰ã€‚å› æ­¤ï¼Œä½ åº”è¯¥ä½¿ç”¨.å’Œ*ã€‚å½“ç„¶ï¼Œè¦æŸ¥æ‰¾\æœ¬èº«ï¼Œä½ ä¹Ÿå¾—ç”¨.</p><p>ä¾‹å¦‚ï¼š<a href="http://deerchao.xn--cndeerchao-yf4qq370d.cn">deerchao.cnåŒ¹é…deerchao.cn</a>ï¼ŒC:\WindowsåŒ¹é…C:\Windowsã€‚</p><h3 id="é‡å¤">é‡å¤</h3><p>ä½ å·²ç»çœ‹è¿‡äº†å‰é¢çš„*,+,{2},{5,12}è¿™å‡ ä¸ªåŒ¹é…é‡å¤çš„æ–¹å¼äº†ã€‚ä¸‹é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­æ‰€æœ‰çš„é™å®šç¬¦(æŒ‡å®šæ•°é‡çš„ä»£ç ï¼Œä¾‹å¦‚*,{5,12}ç­‰)ï¼š</p><h4 id="è¡¨2-å¸¸ç”¨çš„é™å®šç¬¦">è¡¨2.å¸¸ç”¨çš„é™å®šç¬¦</h4><table><thead><tr><th>ä»£ç /è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>*</td><td>é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡</td></tr><tr><td>+</td><td>é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡</td></tr><tr><td>?</td><td>é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡</td></tr><tr><td>{n}</td><td>é‡å¤næ¬¡</td></tr><tr><td>{n,}</td><td>é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡</td></tr><tr><td>{n,m}</td><td>é‡å¤nåˆ°mæ¬¡</td></tr></tbody></table><p>ä¸‹é¢æ˜¯ä¸€äº›ä½¿ç”¨é‡å¤çš„ä¾‹å­ï¼š</p><p>Windows\d+åŒ¹é…Windowsåé¢è·Ÿ1ä¸ªæˆ–æ›´å¤šæ•°å­—</p><p>^\w+åŒ¹é…ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå•è¯(æˆ–æ•´ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå•è¯ï¼Œå…·ä½“åŒ¹é…å“ªä¸ªæ„æ€å¾—çœ‹é€‰é¡¹è®¾ç½®)</p><h3 id="å­—ç¬¦ç±»">å­—ç¬¦ç±»</h3><p>è¦æƒ³æŸ¥æ‰¾æ•°å­—ï¼Œå­—æ¯æˆ–æ•°å­—ï¼Œç©ºç™½æ˜¯å¾ˆç®€å•çš„ï¼Œå› ä¸ºå·²ç»æœ‰äº†å¯¹åº”è¿™äº›å­—ç¬¦é›†åˆçš„å…ƒå­—ç¬¦ï¼Œä½†æ˜¯å¦‚æœä½ æƒ³åŒ¹é…æ²¡æœ‰é¢„å®šä¹‰å…ƒå­—ç¬¦çš„å­—ç¬¦é›†åˆ(æ¯”å¦‚å…ƒéŸ³å­—æ¯a,e,i,o,u),åº”è¯¥æ€ä¹ˆåŠï¼Ÿ</p><p>å¾ˆç®€å•ï¼Œä½ åªéœ€è¦åœ¨æ–¹æ‹¬å·é‡Œåˆ—å‡ºå®ƒä»¬å°±è¡Œäº†ï¼Œåƒ[aeiou]å°±åŒ¹é…ä»»ä½•ä¸€ä¸ªè‹±æ–‡å…ƒéŸ³å­—æ¯ï¼Œ[.?!]åŒ¹é…æ ‡ç‚¹ç¬¦å·(.æˆ–?æˆ–!)ã€‚</p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥è½»æ¾åœ°æŒ‡å®šä¸€ä¸ªå­—ç¬¦èŒƒå›´ï¼Œåƒ[0-9]ä»£è¡¨çš„å«æ„ä¸\då°±æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼šä¸€ä½æ•°å­—ï¼›åŒç†[a-z0-9A-Z_]ä¹Ÿå®Œå…¨ç­‰åŒäº\wï¼ˆå¦‚æœåªè€ƒè™‘è‹±æ–‡çš„è¯ï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæ›´å¤æ‚çš„è¡¨è¾¾å¼ï¼š(?0\d{2}[) -]?\d{8}ã€‚</p><p>è¿™ä¸ªè¡¨è¾¾å¼å¯ä»¥åŒ¹é…å‡ ç§æ ¼å¼çš„ç”µè¯å·ç ï¼Œåƒ(010)88886666ï¼Œæˆ–022-22334455ï¼Œæˆ–02912345678ç­‰ã€‚æˆ‘ä»¬å¯¹å®ƒè¿›è¡Œä¸€äº›åˆ†æå§ï¼šé¦–å…ˆæ˜¯ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦(,å®ƒèƒ½å‡ºç°0æ¬¡æˆ–1æ¬¡(?),ç„¶åæ˜¯ä¸€ä¸ª0ï¼Œåé¢è·Ÿç€2ä¸ªæ•°å­—(\d{2})ï¼Œç„¶åæ˜¯)æˆ–-æˆ–ç©ºæ ¼ä¸­çš„ä¸€ä¸ªï¼Œå®ƒå‡ºç°1æ¬¡æˆ–ä¸å‡ºç°(?)ï¼Œæœ€åæ˜¯8ä¸ªæ•°å­—(\d{8})ã€‚</p><h3 id="åˆ†ææ¡ä»¶">åˆ†ææ¡ä»¶</h3><p>ä¸å¹¸çš„æ˜¯ï¼Œåˆšæ‰é‚£ä¸ªè¡¨è¾¾å¼ä¹Ÿèƒ½åŒ¹é…010)12345678æˆ–(022-87654321è¿™æ ·çš„â€œä¸æ­£ç¡®â€çš„æ ¼å¼ã€‚è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°åˆ†ææ¡ä»¶ã€‚æ­£åˆ™è¡¨è¾¾å¼é‡Œçš„åˆ†ææ¡ä»¶æŒ‡çš„æ˜¯æœ‰å‡ ç§è§„åˆ™ï¼Œå¦‚æœæ»¡è¶³å…¶ä¸­ä»»æ„ä¸€ç§è§„åˆ™éƒ½åº”è¯¥å½“æˆåŒ¹é…ï¼Œå…·ä½“æ–¹æ³•æ˜¯ç”¨|æŠŠä¸åŒçš„è§„åˆ™åˆ†éš”å¼€ã€‚å¬ä¸æ˜ç™½ï¼Ÿæ²¡å…³ç³»ï¼Œçœ‹ä¾‹å­ï¼š</p><p>0\d{2}-\d{8}|0\d{3}-\d{7}è¿™ä¸ªè¡¨è¾¾å¼èƒ½åŒ¹é…ä¸¤ç§ä»¥è¿å­—å·åˆ†éš”çš„ç”µè¯å·ç ï¼šä¸€ç§æ˜¯ä¸‰ä½åŒºå·ï¼Œ8ä½æœ¬åœ°å·(å¦‚010-12345678)ï¼Œä¸€ç§æ˜¯4ä½åŒºå·ï¼Œ7ä½æœ¬åœ°å·(0376-2233445)ã€‚</p><p>(0\d{2})[- ]?\d{8}|0\d{2}[-  ]?\d{8}è¿™ä¸ªè¡¨è¾¾å¼åŒ¹é…3ä½åŒºå·çš„ç”µè¯å·ç ï¼Œå…¶ä¸­åŒºå·å¯ä»¥ç”¨å°æ‹¬å·æ‹¬èµ·æ¥ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨ï¼ŒåŒºå·ä¸æœ¬åœ°å·é—´å¯ä»¥ç”¨è¿å­—å·æˆ–ç©ºæ ¼é—´éš”ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰é—´éš”ã€‚ä½ å¯ä»¥è¯•è¯•ç”¨åˆ†ææ¡ä»¶æŠŠè¿™ä¸ªè¡¨è¾¾å¼æ‰©å±•æˆä¹Ÿæ”¯æŒ4ä½åŒºå·çš„ã€‚</p><p>\d{5}-\d{4}|\d{5}è¿™ä¸ªè¡¨è¾¾å¼ç”¨äºåŒ¹é…ç¾å›½çš„é‚®æ”¿ç¼–ç ã€‚ç¾å›½é‚®ç¼–çš„è§„åˆ™æ˜¯5ä½æ•°å­—ï¼Œæˆ–è€…ç”¨è¿å­—å·é—´éš”çš„9ä½æ•°å­—ã€‚ä¹‹æ‰€ä»¥è¦ç»™å‡ºè¿™ä¸ªä¾‹å­æ˜¯å› ä¸ºå®ƒèƒ½è¯´æ˜ä¸€ä¸ªé—®é¢˜ï¼š<strong>ä½¿ç”¨åˆ†ææ¡ä»¶æ—¶ï¼Œè¦æ³¨æ„å„ä¸ªæ¡ä»¶çš„é¡ºåº</strong>ã€‚å¦‚æœä½ æŠŠå®ƒæ”¹æˆ\d{5}|\d{5}-\d{4}çš„è¯ï¼Œé‚£ä¹ˆå°±åªä¼šåŒ¹é…5ä½çš„é‚®ç¼–(ä»¥åŠ9ä½é‚®ç¼–çš„å‰5ä½)ã€‚åŸå› æ˜¯åŒ¹é…åˆ†ææ¡ä»¶æ—¶ï¼Œå°†ä¼šä»å·¦åˆ°å³åœ°æµ‹è¯•æ¯ä¸ªæ¡ä»¶ï¼Œå¦‚æœæ»¡è¶³äº†æŸä¸ªåˆ†æçš„è¯ï¼Œå°±ä¸ä¼šå»å†ç®¡å…¶å®ƒçš„æ¡ä»¶äº†ã€‚</p><h3 id="åˆ†ç»„">åˆ†ç»„</h3><p>æˆ‘ä»¬å·²ç»æåˆ°äº†æ€ä¹ˆé‡å¤å•ä¸ªå­—ç¬¦ï¼ˆç›´æ¥åœ¨å­—ç¬¦åé¢åŠ ä¸Šé™å®šç¬¦å°±è¡Œäº†ï¼‰ï¼›ä½†å¦‚æœæƒ³è¦é‡å¤å¤šä¸ªå­—ç¬¦åˆè¯¥æ€ä¹ˆåŠï¼Ÿä½ å¯ä»¥ç”¨å°æ‹¬å·æ¥æŒ‡å®šå­è¡¨è¾¾å¼(ä¹Ÿå«åšåˆ†ç»„)ï¼Œç„¶åä½ å°±å¯ä»¥æŒ‡å®šè¿™ä¸ªå­è¡¨è¾¾å¼çš„é‡å¤æ¬¡æ•°äº†ï¼Œä½ ä¹Ÿå¯ä»¥å¯¹å­è¡¨è¾¾å¼è¿›è¡Œå…¶å®ƒä¸€äº›æ“ä½œ(åé¢ä¼šæœ‰ä»‹ç»)ã€‚</p><p>(\d{1,3}.){3}\d{1,3}æ˜¯ä¸€ä¸ªç®€å•çš„IPåœ°å€åŒ¹é…è¡¨è¾¾å¼ã€‚è¦ç†è§£è¿™ä¸ªè¡¨è¾¾å¼ï¼Œè¯·æŒ‰ä¸‹åˆ—é¡ºåºåˆ†æå®ƒï¼š\d{1,3}åŒ¹é…1åˆ°3ä½çš„æ•°å­—ï¼Œ(\d{1,3}.){3}åŒ¹é…ä¸‰ä½æ•°å­—åŠ ä¸Šä¸€ä¸ªè‹±æ–‡å¥å·(è¿™ä¸ªæ•´ä½“ä¹Ÿå°±æ˜¯è¿™ä¸ªåˆ†ç»„)é‡å¤3æ¬¡ï¼Œæœ€åå†åŠ ä¸Šä¸€ä¸ªä¸€åˆ°ä¸‰ä½çš„æ•°å­—(\d{1,3})ã€‚</p><p>ä¸å¹¸çš„æ˜¯ï¼Œå®ƒä¹Ÿå°†åŒ¹é…256.300.888.999è¿™ç§ä¸å¯èƒ½å­˜åœ¨çš„IPåœ°å€ã€‚å¦‚æœèƒ½ä½¿ç”¨ç®—æœ¯æ¯”è¾ƒçš„è¯ï¼Œæˆ–è®¸èƒ½ç®€å•åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¸­å¹¶ä¸æä¾›å…³äºæ•°å­¦çš„ä»»ä½•åŠŸèƒ½ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨å†—é•¿çš„åˆ†ç»„ï¼Œé€‰æ‹©ï¼Œå­—ç¬¦ç±»æ¥æè¿°ä¸€ä¸ªæ­£ç¡®çš„IPåœ°å€ï¼š((2[0-4]\d|25[0-5]|[01]?\d\d?).){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)ã€‚</p><p>ç†è§£è¿™ä¸ªè¡¨è¾¾å¼çš„å…³é”®æ˜¯ç†è§£2[0-4]\d|25[0-5]|[01]?\d\d?ï¼Œè¿™é‡Œæˆ‘å°±ä¸ç»†è¯´äº†ï¼Œä½ è‡ªå·±åº”è¯¥èƒ½åˆ†æå¾—å‡ºæ¥å®ƒçš„æ„ä¹‰ã€‚</p><h3 id="åä¹‰">åä¹‰</h3><p>æœ‰æ—¶éœ€è¦æŸ¥æ‰¾ä¸å±äºæŸä¸ªèƒ½ç®€å•å®šä¹‰çš„å­—ç¬¦ç±»çš„å­—ç¬¦ã€‚æ¯”å¦‚æƒ³æŸ¥æ‰¾é™¤äº†æ•°å­—ä»¥å¤–ï¼Œå…¶å®ƒä»»æ„å­—ç¬¦éƒ½è¡Œçš„æƒ…å†µï¼Œè¿™æ—¶éœ€è¦ç”¨åˆ°åä¹‰ï¼š</p><h4 id="è¡¨3-å¸¸ç”¨çš„åä¹‰ä»£ç ">è¡¨3.å¸¸ç”¨çš„åä¹‰ä»£ç </h4><table><thead><tr><th>ä»£ç /è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>\W</td><td>åŒ¹é…ä»»æ„ä¸æ˜¯å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œæ±‰å­—çš„å­—ç¬¦</td></tr><tr><td>\S</td><td>åŒ¹é…ä»»æ„ä¸æ˜¯ç©ºç™½ç¬¦çš„å­—ç¬¦</td></tr><tr><td>\D</td><td>åŒ¹é…ä»»æ„éæ•°å­—çš„å­—ç¬¦</td></tr><tr><td>\B</td><td>åŒ¹é…ä¸æ˜¯å•è¯å¼€å¤´æˆ–ç»“æŸçš„ä½ç½®</td></tr><tr><td>[^x]</td><td>åŒ¹é…é™¤äº†xä»¥å¤–çš„ä»»æ„å­—ç¬¦</td></tr><tr><td>[^aeiou]</td><td>åŒ¹é…é™¤äº†aeiouè¿™å‡ ä¸ªå­—æ¯ä»¥å¤–çš„ä»»æ„å­—ç¬¦</td></tr></tbody></table><p>ä¾‹å­ï¼š\S+åŒ¹é…ä¸åŒ…å«ç©ºç™½ç¬¦çš„å­—ç¬¦ä¸²ã€‚</p><p>&lt;a[^&gt;]+&gt;åŒ¹é…ç”¨å°–æ‹¬å·æ‹¬èµ·æ¥çš„ä»¥aå¼€å¤´çš„å­—ç¬¦ä¸²ã€‚</p><h3 id="åå‘å¼•ç”¨">åå‘å¼•ç”¨</h3><p>ä½¿ç”¨å°æ‹¬å·æŒ‡å®šä¸€ä¸ªå­è¡¨è¾¾å¼åï¼Œ<strong>åŒ¹é…è¿™ä¸ªå­è¡¨è¾¾å¼çš„æ–‡æœ¬</strong>(ä¹Ÿå°±æ˜¯æ­¤åˆ†ç»„æ•è·çš„å†…å®¹)å¯ä»¥åœ¨è¡¨è¾¾å¼æˆ–å…¶å®ƒç¨‹åºä¸­ä½œè¿›ä¸€æ­¥çš„å¤„ç†ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªåˆ†ç»„ä¼šè‡ªåŠ¨æ‹¥æœ‰ä¸€ä¸ªç»„å·ï¼Œè§„åˆ™æ˜¯ï¼šä»å·¦å‘å³ï¼Œä»¥åˆ†ç»„çš„å·¦æ‹¬å·ä¸ºæ ‡å¿—ï¼Œç¬¬ä¸€ä¸ªå‡ºç°çš„åˆ†ç»„çš„ç»„å·ä¸º1ï¼Œç¬¬äºŒä¸ªä¸º2ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p><p>åå‘å¼•ç”¨ç”¨äºé‡å¤æœç´¢å‰é¢æŸä¸ªåˆ†ç»„åŒ¹é…çš„æ–‡æœ¬ã€‚ä¾‹å¦‚ï¼Œ\1ä»£è¡¨åˆ†ç»„1åŒ¹é…çš„æ–‡æœ¬ã€‚éš¾ä»¥ç†è§£ï¼Ÿè¯·çœ‹ç¤ºä¾‹ï¼š</p><p>\b(\w+)\b\s+\1\bå¯ä»¥ç”¨æ¥åŒ¹é…é‡å¤çš„å•è¯ï¼Œåƒgo                go, æˆ–è€…kitty  kittyã€‚è¿™ä¸ªè¡¨è¾¾å¼é¦–å…ˆæ˜¯ä¸€ä¸ªå•è¯ï¼Œä¹Ÿå°±æ˜¯å•è¯å¼€å§‹å¤„å’Œç»“æŸå¤„ä¹‹é—´çš„å¤šäºä¸€ä¸ªçš„å­—æ¯æˆ–æ•°å­—(\b(\w+)\b)ï¼Œè¿™ä¸ªå•è¯ä¼šè¢«æ•è·åˆ°ç¼–å·ä¸º1çš„åˆ†ç»„ä¸­ï¼Œç„¶åæ˜¯1ä¸ªæˆ–å‡ ä¸ªç©ºç™½ç¬¦(\s+)ï¼Œæœ€åæ˜¯åˆ†ç»„1ä¸­æ•è·çš„å†…å®¹ï¼ˆä¹Ÿå°±æ˜¯å‰é¢åŒ¹é…çš„é‚£ä¸ªå•è¯ï¼‰(\1)ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥è‡ªå·±æŒ‡å®šå­è¡¨è¾¾å¼çš„ç»„åã€‚è¦æŒ‡å®šä¸€ä¸ªå­è¡¨è¾¾å¼çš„ç»„åï¼Œè¯·ä½¿ç”¨è¿™æ ·çš„è¯­æ³•ï¼š(?\w+)(æˆ–è€…æŠŠå°–æ‹¬å·æ¢æˆâ€™ä¹Ÿè¡Œï¼š(?â€™Wordâ€™\w+)),è¿™æ ·å°±æŠŠ\w+çš„ç»„åæŒ‡å®šä¸ºWordäº†ã€‚è¦åå‘å¼•ç”¨è¿™ä¸ªåˆ†ç»„æ•è·çš„å†…å®¹ï¼Œä½ å¯ä»¥ä½¿ç”¨\k,æ‰€ä»¥ä¸Šä¸€ä¸ªä¾‹å­ä¹Ÿå¯ä»¥å†™æˆè¿™æ ·ï¼š\b(?\w+)\b\s+\k\bã€‚</p><p>ä½¿ç”¨å°æ‹¬å·çš„æ—¶å€™ï¼Œè¿˜æœ‰å¾ˆå¤šç‰¹å®šç”¨é€”çš„è¯­æ³•ã€‚ä¸‹é¢åˆ—å‡ºäº†æœ€å¸¸ç”¨çš„ä¸€äº›ï¼š</p><h4 id="è¡¨4-å¸¸ç”¨åˆ†ç»„è¯­æ³•">è¡¨4.å¸¸ç”¨åˆ†ç»„è¯­æ³•</h4><table><thead><tr><th>åˆ†ç±»</th><th>ä»£ç /è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>æ•è·</td><td>(exp)</td><td>åŒ¹é…exp,å¹¶æ•è·æ–‡æœ¬åˆ°è‡ªåŠ¨å‘½åçš„ç»„é‡Œ</td></tr><tr><td>(?exp)</td><td>åŒ¹é…exp,å¹¶æ•è·æ–‡æœ¬åˆ°åç§°ä¸ºnameçš„ç»„é‡Œï¼Œä¹Ÿå¯ä»¥å†™æˆ(?â€™nameâ€™exp)</td><td></td></tr><tr><td>(?:exp)</td><td>åŒ¹é…exp,ä¸æ•è·åŒ¹é…çš„æ–‡æœ¬ï¼Œä¹Ÿä¸ç»™æ­¤åˆ†ç»„åˆ†é…ç»„å·</td><td></td></tr><tr><td>é›¶å®½æ–­è¨€</td><td>(?=exp)</td><td>åŒ¹é…expå‰é¢çš„ä½ç½®</td></tr><tr><td>(?&lt;=exp)</td><td>åŒ¹é…expåé¢çš„ä½ç½®</td><td></td></tr><tr><td>(?!exp)</td><td>åŒ¹é…åé¢è·Ÿçš„ä¸æ˜¯expçš„ä½ç½®</td><td></td></tr><tr><td>(?&lt;!exp)</td><td>åŒ¹é…å‰é¢ä¸æ˜¯expçš„ä½ç½®</td><td></td></tr><tr><td>æ³¨é‡Š</td><td>(?#comment)</td><td>è¿™ç§ç±»å‹çš„åˆ†ç»„ä¸å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å¤„ç†äº§ç”Ÿä»»ä½•å½±å“ï¼Œç”¨äºæä¾›æ³¨é‡Šè®©äººé˜…è¯»</td></tr></tbody></table><table><thead><tr><th>æ³¨é‡Š</th><th>(?#comment)</th><th>è¿™ç§ç±»å‹çš„åˆ†ç»„ä¸å¯¹æ­£åˆ™è¡¨è¾¾å¼çš„å¤„ç†äº§ç”Ÿä»»ä½•å½±å“ï¼Œç”¨äºæä¾›æ³¨é‡Šè®©äººé˜…è¯»</th></tr></thead><tbody><tr><td></td><td></td><td></td></tr></tbody></table><p>æˆ‘ä»¬å·²ç»è®¨è®ºäº†å‰ä¸¤ç§è¯­æ³•ã€‚ç¬¬ä¸‰ä¸ª(?:exp)ä¸ä¼šæ”¹å˜æ­£åˆ™è¡¨è¾¾å¼çš„å¤„ç†æ–¹å¼ï¼Œåªæ˜¯è¿™æ ·çš„ç»„åŒ¹é…çš„å†…å®¹ä¸ä¼šåƒå‰ä¸¤ç§é‚£æ ·è¢«æ•è·åˆ°æŸä¸ªç»„é‡Œé¢ï¼Œä¹Ÿä¸ä¼šæ‹¥æœ‰ç»„å·ã€‚â€œæˆ‘ä¸ºä»€ä¹ˆä¼šæƒ³è¦è¿™æ ·åšï¼Ÿâ€â€”â€”å¥½é—®é¢˜ï¼Œä½ è§‰å¾—ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</p><h3 id="é›¶å®½æ–­è¨€">é›¶å®½æ–­è¨€</h3><p>æ¥ä¸‹æ¥çš„å››ä¸ªç”¨äºæŸ¥æ‰¾åœ¨æŸäº›å†…å®¹(ä½†å¹¶ä¸åŒ…æ‹¬è¿™äº›å†…å®¹)ä¹‹å‰æˆ–ä¹‹åçš„ä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬åƒ\b,^,$é‚£æ ·ç”¨äºæŒ‡å®šä¸€ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®åº”è¯¥æ»¡è¶³ä¸€å®šçš„æ¡ä»¶(å³æ–­è¨€)ï¼Œå› æ­¤å®ƒä»¬ä¹Ÿè¢«ç§°ä¸ºé›¶å®½æ–­è¨€ã€‚æœ€å¥½è¿˜æ˜¯æ‹¿ä¾‹å­æ¥è¯´æ˜å§ï¼š</p><p>(?=exp)ä¹Ÿå«é›¶å®½åº¦æ­£é¢„æµ‹å…ˆè¡Œæ–­è¨€ï¼Œå®ƒæ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„åé¢èƒ½åŒ¹é…è¡¨è¾¾å¼expã€‚æ¯”å¦‚\b\w+(?=ing\b)ï¼ŒåŒ¹é…ä»¥ingç»“å°¾çš„å•è¯çš„å‰é¢éƒ¨åˆ†(é™¤äº†ingä»¥å¤–çš„éƒ¨åˆ†)ï¼Œå¦‚æŸ¥æ‰¾Iâ€™m singing while youâ€™re                dancing.æ—¶ï¼Œå®ƒä¼šåŒ¹é…singå’Œdancã€‚</p><p>(?&lt;=exp)ä¹Ÿå«é›¶å®½åº¦æ­£å›é¡¾åå‘æ–­è¨€ï¼Œå®ƒæ–­è¨€è‡ªèº«å‡ºç°çš„ä½ç½®çš„å‰é¢èƒ½åŒ¹é…è¡¨è¾¾å¼expã€‚æ¯”å¦‚(?&lt;=\bre)\w+\bä¼šåŒ¹é…ä»¥reå¼€å¤´çš„å•è¯çš„ååŠéƒ¨åˆ†(é™¤äº†reä»¥å¤–çš„éƒ¨åˆ†)ï¼Œä¾‹å¦‚åœ¨æŸ¥æ‰¾reading a bookæ—¶ï¼Œå®ƒåŒ¹é…adingã€‚</p><p>å‡å¦‚ä½ æƒ³è¦ç»™ä¸€ä¸ªå¾ˆé•¿çš„æ•°å­—ä¸­æ¯ä¸‰ä½é—´åŠ ä¸€ä¸ªé€—å·(å½“ç„¶æ˜¯ä»å³è¾¹åŠ èµ·äº†)ï¼Œä½ å¯ä»¥è¿™æ ·æŸ¥æ‰¾éœ€è¦åœ¨å‰é¢å’Œé‡Œé¢æ·»åŠ é€—å·çš„éƒ¨åˆ†ï¼š((?&lt;=\d)\d{3})+\bï¼Œç”¨å®ƒå¯¹1234567890è¿›è¡ŒæŸ¥æ‰¾æ—¶ç»“æœæ˜¯234567890ã€‚</p><p>ä¸‹é¢è¿™ä¸ªä¾‹å­åŒæ—¶ä½¿ç”¨äº†è¿™ä¸¤ç§æ–­è¨€ï¼š(?&lt;=\s)\d+(?=\s)åŒ¹é…ä»¥ç©ºç™½ç¬¦é—´éš”çš„æ•°å­—(å†æ¬¡å¼ºè°ƒï¼Œä¸åŒ…æ‹¬è¿™äº›ç©ºç™½ç¬¦)ã€‚</p><h3 id="è´Ÿå‘é›¶å®½æ–­è¨€">è´Ÿå‘é›¶å®½æ–­è¨€</h3><p>å‰é¢æˆ‘ä»¬æåˆ°è¿‡æ€ä¹ˆæŸ¥æ‰¾<strong>ä¸æ˜¯æŸä¸ªå­—ç¬¦æˆ–ä¸åœ¨æŸä¸ªå­—ç¬¦ç±»é‡Œ</strong>çš„å­—ç¬¦çš„æ–¹æ³•(åä¹‰)ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åªæ˜¯æƒ³è¦<strong>ç¡®ä¿æŸä¸ªå­—ç¬¦æ²¡æœ‰å‡ºç°ï¼Œä½†å¹¶ä¸æƒ³å»åŒ¹é…å®ƒ</strong>æ—¶æ€ä¹ˆåŠï¼Ÿä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æƒ³æŸ¥æ‰¾è¿™æ ·çš„å•è¯â€“å®ƒé‡Œé¢å‡ºç°äº†å­—æ¯q,ä½†æ˜¯qåé¢è·Ÿçš„ä¸æ˜¯å­—æ¯u,æˆ‘ä»¬å¯ä»¥å°è¯•è¿™æ ·ï¼š</p><p>\b\w<em>q[<sup>u]\w*\båŒ¹é…åŒ…å«**åé¢ä¸æ˜¯å­—æ¯uçš„å­—æ¯q**çš„å•è¯ã€‚ä½†æ˜¯å¦‚æœå¤šåšæµ‹è¯•(æˆ–è€…ä½ æ€ç»´è¶³å¤Ÿæ•é”ï¼Œç›´æ¥å°±è§‚å¯Ÿå‡ºæ¥äº†)ï¼Œä½ ä¼šå‘ç°ï¼Œå¦‚æœqå‡ºç°åœ¨å•è¯çš„ç»“å°¾çš„è¯ï¼Œåƒ**Iraq**,**Benq**ï¼Œè¿™ä¸ªè¡¨è¾¾å¼å°±ä¼šå‡ºé”™ã€‚è¿™æ˜¯å› ä¸º[</sup>u]æ€»è¦åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥å¦‚æœqæ˜¯å•è¯çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„è¯ï¼Œåé¢çš„[<sup>u]å°†ä¼šåŒ¹é…qåé¢çš„å•è¯åˆ†éš”ç¬¦(å¯èƒ½æ˜¯ç©ºæ ¼ï¼Œæˆ–è€…æ˜¯å¥å·æˆ–å…¶å®ƒçš„ä»€ä¹ˆ)ï¼Œåé¢çš„\w*\bå°†ä¼šåŒ¹é…ä¸‹ä¸€ä¸ªå•è¯ï¼Œäºæ˜¯\b\w*q[</sup>u]\w</em>\bå°±èƒ½åŒ¹é…æ•´ä¸ªIraq fightingã€‚è´Ÿå‘é›¶å®½æ–­è¨€èƒ½è§£å†³è¿™æ ·çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒåªåŒ¹é…ä¸€ä¸ªä½ç½®ï¼Œå¹¶ä¸<strong>æ¶ˆè´¹</strong>ä»»ä½•å­—ç¬¦ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š\b\w<em>q(?!u)\w</em>\bã€‚</p><p>é›¶å®½åº¦è´Ÿé¢„æµ‹å…ˆè¡Œæ–­è¨€(?!exp)ï¼Œæ–­è¨€æ­¤ä½ç½®çš„åé¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼expã€‚ä¾‹å¦‚ï¼š\d{3}(?!\d)åŒ¹é…ä¸‰ä½æ•°å­—ï¼Œè€Œä¸”è¿™ä¸‰ä½æ•°å­—çš„åé¢ä¸èƒ½æ˜¯æ•°å­—ï¼›\b((?!abc)\w)+\båŒ¹é…ä¸åŒ…å«è¿ç»­å­—ç¬¦ä¸²abcçš„å•è¯ã€‚</p><p>åŒç†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨(?&lt;!exp),é›¶å®½åº¦è´Ÿå›é¡¾åå‘æ–­è¨€æ¥æ–­è¨€æ­¤ä½ç½®çš„å‰é¢ä¸èƒ½åŒ¹é…è¡¨è¾¾å¼expï¼š(?&lt;![a-z])\d{7}åŒ¹é…å‰é¢ä¸æ˜¯å°å†™å­—æ¯çš„ä¸ƒä½æ•°å­—ã€‚</p><p>ä¸€ä¸ªæ›´å¤æ‚çš„ä¾‹å­ï¼š(?&lt;=&lt;(\w+)&gt;).*(?=&lt;/\1&gt;)åŒ¹é…ä¸åŒ…å«å±æ€§çš„ç®€å•HTMLæ ‡ç­¾å†…é‡Œçš„å†…å®¹ã€‚(?&lt;=&lt;(\w+)&gt;)æŒ‡å®šäº†è¿™æ ·çš„å‰ç¼€ï¼šè¢«å°–æ‹¬å·æ‹¬èµ·æ¥çš„å•è¯(æ¯”å¦‚å¯èƒ½æ˜¯**)ï¼Œç„¶åæ˜¯.*****(ä»»æ„çš„å­—ç¬¦ä¸²),æœ€åæ˜¯ä¸€ä¸ªåç¼€(?=&lt;/\1&gt;)ã€‚æ³¨æ„åç¼€é‡Œçš„/ï¼Œå®ƒç”¨åˆ°äº†å‰é¢æè¿‡çš„å­—ç¬¦è½¬ä¹‰ï¼›\1åˆ™æ˜¯ä¸€ä¸ªåå‘å¼•ç”¨ï¼Œå¼•ç”¨çš„æ­£æ˜¯æ•è·çš„ç¬¬ä¸€ç»„ï¼Œå‰é¢çš„(\w+)åŒ¹é…çš„å†…å®¹ï¼Œè¿™æ ·å¦‚æœå‰ç¼€å®é™…ä¸Šæ˜¯**çš„è¯ï¼Œåç¼€å°±æ˜¯**äº†ã€‚æ•´ä¸ªè¡¨è¾¾å¼åŒ¹é…çš„æ˜¯*<em>å’Œ*<em>ä¹‹é—´çš„å†…å®¹(å†æ¬¡æé†’ï¼Œä¸åŒ…æ‹¬å‰ç¼€å’Œåç¼€æœ¬èº«)ã€‚</em></em></p><p><strong>æ³¨é‡Šå°æ‹¬å·çš„å¦ä¸€ç§ç”¨é€”æ˜¯é€šè¿‡è¯­æ³•(?#comment)æ¥åŒ…å«æ³¨é‡Šã€‚ä¾‹å¦‚ï¼š2[0-4]\d(?#200-249)|25<a href="https://izyq.github.io/2020/07/31/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F30min%E5%85%A5%E9%97%A8/?#250-255">0-5</a>|[01]?\d\d?(?#0-199)ã€‚ è¦åŒ…å«æ³¨é‡Šçš„è¯ï¼Œæœ€å¥½æ˜¯å¯ç”¨â€œå¿½ç•¥æ¨¡å¼é‡Œçš„ç©ºç™½ç¬¦â€é€‰é¡¹ï¼Œè¿™æ ·åœ¨ç¼–å†™è¡¨è¾¾å¼æ—¶èƒ½ä»»æ„çš„æ·»åŠ ç©ºæ ¼ï¼ŒTabï¼Œæ¢è¡Œï¼Œè€Œå®é™…ä½¿ç”¨æ—¶è¿™äº›éƒ½å°†è¢«å¿½ç•¥ã€‚å¯ç”¨è¿™ä¸ªé€‰é¡¹åï¼Œåœ¨#åé¢åˆ°è¿™ä¸€è¡Œç»“æŸçš„æ‰€æœ‰æ–‡æœ¬éƒ½å°†è¢«å½“æˆæ³¨é‡Šå¿½ç•¥æ‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥å‰é¢çš„ä¸€ä¸ªè¡¨è¾¾å¼å†™æˆè¿™æ ·ï¼š</strong></p><pre class="line-numbers language-none"><code class="language-none">(?&lt;&#x3D;    # æ–­è¨€è¦åŒ¹é…çš„æ–‡æœ¬çš„å‰ç¼€&lt;(\w+)&gt; # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å†…å®¹        # (å³HTML&#x2F;XMLæ ‡ç­¾))       # å‰ç¼€ç»“æŸ.*      # åŒ¹é…ä»»æ„æ–‡æœ¬(?&#x3D;     # æ–­è¨€è¦åŒ¹é…çš„æ–‡æœ¬çš„åç¼€&lt;\&#x2F;\1&gt;  # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å†…å®¹        # æŸ¥æ‰¾å°–æ‹¬å·æ‹¬èµ·æ¥çš„å†…å®¹)       # åç¼€ç»“æŸ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è´ªå©ªä¸æ‡’æƒ°">è´ªå©ªä¸æ‡’æƒ°</h3><p>**å½“æ­£åˆ™è¡¨è¾¾å¼ä¸­åŒ…å«èƒ½æ¥å—é‡å¤çš„é™å®šç¬¦æ—¶ï¼Œé€šå¸¸çš„è¡Œä¸ºæ˜¯ï¼ˆåœ¨ä½¿æ•´ä¸ªè¡¨è¾¾å¼èƒ½å¾—åˆ°åŒ¹é…çš„å‰æä¸‹ï¼‰åŒ¹é…**å°½å¯èƒ½å¤š**çš„å­—ç¬¦ã€‚ä»¥è¿™ä¸ªè¡¨è¾¾å¼ä¸ºä¾‹ï¼ša.*bï¼Œå®ƒå°†ä¼šåŒ¹é…æœ€é•¿çš„ä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²ã€‚å¦‚æœç”¨å®ƒæ¥æœç´¢aababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²aababã€‚è¿™è¢«ç§°ä¸ºè´ªå©ªåŒ¹é…ã€‚         æœ‰æ—¶ï¼Œæˆ‘ä»¬æ›´éœ€è¦æ‡’æƒ°åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯åŒ¹é…**å°½å¯èƒ½å°‘**çš„å­—ç¬¦ã€‚å‰é¢ç»™å‡ºçš„é™å®šç¬¦éƒ½å¯ä»¥è¢«è½¬åŒ–ä¸ºæ‡’æƒ°åŒ¹é…æ¨¡å¼ï¼Œåªè¦åœ¨å®ƒåé¢åŠ ä¸Šä¸€ä¸ªé—®å·?ã€‚è¿™æ ·.*?å°±æ„å‘³ç€åŒ¹é…ä»»æ„æ•°é‡çš„é‡å¤ï¼Œä½†æ˜¯åœ¨èƒ½ä½¿æ•´ä¸ªåŒ¹é…æˆåŠŸçš„å‰æä¸‹ä½¿ç”¨æœ€å°‘çš„é‡å¤ã€‚ç°åœ¨çœ‹çœ‹æ‡’æƒ°ç‰ˆçš„ä¾‹å­å§ï¼š a.*?båŒ¹é…æœ€çŸ­çš„ï¼Œä»¥aå¼€å§‹ï¼Œä»¥bç»“æŸçš„å­—ç¬¦ä¸²ã€‚å¦‚æœæŠŠå®ƒåº”ç”¨äºaababçš„è¯ï¼Œå®ƒä¼šåŒ¹é…aabï¼ˆç¬¬ä¸€åˆ°ç¬¬ä¸‰ä¸ªå­—ç¬¦ï¼‰å’Œabï¼ˆç¬¬å››åˆ°ç¬¬äº”ä¸ªå­—ç¬¦ï¼‰ã€‚ **</p><p><strong>è¡¨5.æ‡’æƒ°é™å®šç¬¦</strong></p><table><thead><tr><th><strong>ä»£ç /è¯­æ³•</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td>*<strong>?</strong></td><td><strong>é‡å¤ä»»æ„æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</strong></td></tr><tr><td><strong>+?</strong></td><td><strong>é‡å¤1æ¬¡æˆ–æ›´å¤šæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</strong></td></tr><tr><td><strong>??</strong></td><td><strong>é‡å¤0æ¬¡æˆ–1æ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</strong></td></tr><tr><td><strong>{n,m}?</strong></td><td><strong>é‡å¤nåˆ°mæ¬¡ï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</strong></td></tr><tr><td><strong>{n,}?</strong></td><td><strong>é‡å¤næ¬¡ä»¥ä¸Šï¼Œä½†å°½å¯èƒ½å°‘é‡å¤</strong></td></tr></tbody></table><h3 id="å¤„ç†é€‰é¡¹">å¤„ç†é€‰é¡¹</h3><p><strong>ä¸Šé¢ä»‹ç»äº†å‡ ä¸ªé€‰é¡¹å¦‚å¿½ç•¥å¤§å°å†™ï¼Œå¤„ç†å¤šè¡Œç­‰ï¼Œè¿™äº›é€‰é¡¹èƒ½ç”¨æ¥æ”¹å˜å¤„ç†æ­£åˆ™è¡¨è¾¾å¼çš„æ–¹å¼ã€‚ä¸‹é¢æ˜¯.Netä¸­å¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼é€‰é¡¹ï¼š</strong></p><h4 id="è¡¨6-å¸¸ç”¨çš„å¤„ç†é€‰é¡¹">è¡¨6.å¸¸ç”¨çš„å¤„ç†é€‰é¡¹</h4><table><thead><tr><th><strong>åç§°</strong></th><th><strong>è¯´æ˜</strong></th></tr></thead><tbody><tr><td><strong>IgnoreCase(å¿½ç•¥å¤§å°å†™)</strong></td><td><strong>åŒ¹é…æ—¶ä¸åŒºåˆ†å¤§å°å†™ã€‚</strong></td></tr><tr><td><strong>Multiline(å¤šè¡Œæ¨¡å¼)</strong></td><td><strong>æ›´æ”¹^å’Œ$çš„å«ä¹‰ï¼Œä½¿å®ƒä»¬åˆ†åˆ«åœ¨ä»»æ„ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾åŒ¹é…ï¼Œè€Œä¸ä»…ä»…åœ¨æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾åŒ¹é…ã€‚(åœ¨æ­¤æ¨¡å¼ä¸‹,$çš„ç²¾ç¡®å«æ„æ˜¯:åŒ¹é…\nä¹‹å‰çš„ä½ç½®ä»¥åŠå­—ç¬¦ä¸²ç»“æŸå‰çš„ä½ç½®.)</strong></td></tr><tr><td><strong>Singleline(å•è¡Œæ¨¡å¼)</strong></td><td><strong>æ›´æ”¹.çš„å«ä¹‰ï¼Œä½¿å®ƒä¸æ¯ä¸€ä¸ªå­—ç¬¦åŒ¹é…ï¼ˆåŒ…æ‹¬æ¢è¡Œç¬¦\nï¼‰ã€‚</strong></td></tr><tr><td><strong>IgnorePatternWhitespace(å¿½ç•¥ç©ºç™½)</strong></td><td><strong>å¿½ç•¥è¡¨è¾¾å¼ä¸­çš„éè½¬ä¹‰ç©ºç™½å¹¶å¯ç”¨ç”±#æ ‡è®°çš„æ³¨é‡Šã€‚</strong></td></tr><tr><td><strong>ExplicitCapture(æ˜¾å¼æ•è·)</strong></td><td><strong>ä»…æ•è·å·²è¢«æ˜¾å¼å‘½åçš„ç»„ã€‚</strong></td></tr></tbody></table><p><strong>ä¸€ä¸ªç»å¸¸è¢«é—®åˆ°çš„é—®é¢˜æ˜¯ï¼šæ˜¯ä¸æ˜¯åªèƒ½åŒæ—¶ä½¿ç”¨å¤šè¡Œæ¨¡å¼å’Œå•è¡Œæ¨¡å¼ä¸­çš„ä¸€ç§ï¼Ÿç­”æ¡ˆæ˜¯ï¼šä¸æ˜¯ã€‚è¿™ä¸¤ä¸ªé€‰é¡¹ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œé™¤äº†å®ƒä»¬çš„åå­—æ¯”è¾ƒç›¸ä¼¼ï¼ˆä»¥è‡³äºè®©äººæ„Ÿåˆ°ç–‘æƒ‘ï¼‰ä»¥å¤–ã€‚äº‹å®ä¸Šï¼Œä¸ºäº†é¿å…æ··æ·†ï¼Œåœ¨æœ€æ–°çš„                    JavaScript                    ä¸­ï¼Œå•è¡Œæ¨¡å¼å…¶å®åå«  dotAllï¼Œæ„ä¸ºç‚¹å¯ä»¥åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œç„¶è€Œåœ¨æŒ‡å®šè¯¥é€‰é¡¹æ—¶ï¼Œç”¨çš„è¿˜æ˜¯ Singleline çš„é¦–å­—æ¯ s.</strong></p><h3 id="å¹³è¡¡ç»„-é€’å½’åŒ¹é…">å¹³è¡¡ç»„/é€’å½’åŒ¹é…</h3><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦åŒ¹é…åƒ( 100 * ( 50 + 15 ) )è¿™æ ·çš„å¯åµŒå¥—çš„å±‚æ¬¡æ€§ç»“æ„ï¼Œè¿™æ—¶ç®€å•åœ°ä½¿ç”¨(.+)åˆ™åªä¼šåŒ¹é…åˆ°æœ€å·¦è¾¹çš„å·¦æ‹¬å·å’Œæœ€å³è¾¹çš„å³æ‹¬å·ä¹‹é—´çš„å†…å®¹(è¿™é‡Œæˆ‘ä»¬è®¨è®ºçš„æ˜¯è´ªå©ªæ¨¡å¼ï¼Œæ‡’æƒ°æ¨¡å¼ä¹Ÿæœ‰ä¸‹é¢çš„é—®é¢˜)ã€‚å‡å¦‚åŸæ¥çš„å­—ç¬¦ä¸²é‡Œçš„å·¦æ‹¬å·å’Œå³æ‹¬å·å‡ºç°çš„æ¬¡æ•°ä¸ç›¸ç­‰ï¼Œæ¯”å¦‚( 5 / ( 3 + 2 ) ) )ï¼Œé‚£æˆ‘ä»¬çš„åŒ¹é…ç»“æœé‡Œä¸¤è€…çš„ä¸ªæ•°ä¹Ÿä¸ä¼šç›¸ç­‰ã€‚æœ‰æ²¡æœ‰åŠæ³•åœ¨è¿™æ ·çš„å­—ç¬¦ä¸²é‡ŒåŒ¹é…åˆ°æœ€é•¿çš„ï¼Œé…å¯¹çš„æ‹¬å·ä¹‹é—´çš„å†…å®¹å‘¢ï¼Ÿ</p><p>ä¸ºäº†é¿å…(å’Œ(æŠŠä½ çš„å¤§è„‘å½»åº•æç³Šæ¶‚ï¼Œæˆ‘ä»¬è¿˜æ˜¯ç”¨å°–æ‹¬å·ä»£æ›¿åœ†æ‹¬å·å§ã€‚ç°åœ¨æˆ‘ä»¬çš„é—®é¢˜å˜æˆäº†å¦‚ä½•æŠŠxx &lt;aa                        <bbb> <bbb> aa&gt; yyè¿™æ ·çš„å­—ç¬¦ä¸²é‡Œï¼Œæœ€é•¿çš„é…å¯¹çš„å°–æ‹¬å·å†…çš„å†…å®¹æ•è·å‡ºæ¥ï¼Ÿ</p><p>è¿™é‡Œéœ€è¦ç”¨åˆ°ä»¥ä¸‹çš„è¯­æ³•æ„é€ ï¼š</p><ul><li>(?â€˜groupâ€™) æŠŠæ•è·çš„å†…å®¹å‘½åä¸ºgroup,å¹¶å‹å…¥å †æ ˆ(Stack)</li><li>(?â€˜-groupâ€™) ä»å †æ ˆä¸Šå¼¹å‡ºæœ€åå‹å…¥å †æ ˆçš„åä¸ºgroupçš„æ•è·å†…å®¹ï¼Œå¦‚æœå †æ ˆæœ¬æ¥ä¸ºç©ºï¼Œåˆ™æœ¬åˆ†ç»„çš„åŒ¹é…å¤±è´¥</li><li>(?(group)yes|no) å¦‚æœå †æ ˆä¸Šå­˜åœ¨ä»¥åä¸ºgroupçš„æ•è·å†…å®¹çš„è¯ï¼Œç»§ç»­åŒ¹é…yeséƒ¨åˆ†çš„è¡¨è¾¾å¼ï¼Œå¦åˆ™ç»§ç»­åŒ¹é…noéƒ¨åˆ†</li><li>(?!) é›¶å®½è´Ÿå‘å…ˆè¡Œæ–­è¨€ï¼Œç”±äºæ²¡æœ‰åç¼€è¡¨è¾¾å¼ï¼Œè¯•å›¾åŒ¹é…æ€»æ˜¯å¤±è´¥</li></ul><p>æˆ‘ä»¬éœ€è¦åšçš„æ˜¯æ¯ç¢°åˆ°äº†å·¦æ‹¬å·ï¼Œå°±åœ¨å‹å…¥ä¸€ä¸ª&quot;Open&quot;,æ¯ç¢°åˆ°ä¸€ä¸ªå³æ‹¬å·ï¼Œå°±å¼¹å‡ºä¸€ä¸ªï¼Œåˆ°äº†æœ€åå°±çœ‹çœ‹å †æ ˆæ˜¯å¦ä¸ºç©ºï¼ï¼å¦‚æœä¸ä¸ºç©ºé‚£å°±è¯æ˜å·¦æ‹¬å·æ¯”å³æ‹¬å·å¤šï¼Œé‚£åŒ¹é…å°±åº”è¯¥å¤±è´¥ã€‚æ­£åˆ™è¡¨è¾¾å¼å¼•æ“ä¼šè¿›è¡Œå›æº¯(æ”¾å¼ƒæœ€å‰é¢æˆ–æœ€åé¢çš„ä¸€äº›å­—ç¬¦)ï¼Œå°½é‡ä½¿æ•´ä¸ªè¡¨è¾¾å¼å¾—åˆ°åŒ¹é…ã€‚</p><pre class="line-numbers language-none"><code class="language-none">&lt;                   #æœ€å¤–å±‚çš„å·¦æ‹¬å·  [^&lt;&gt;]*            #å®ƒåé¢éæ‹¬å·çš„å†…å®¹  (      (        (?&#39;Open&#39;&lt;)  #å·¦æ‹¬å·ï¼Œå‹å…¥&quot;Open&quot;        [^&lt;&gt;]*      #å·¦æ‹¬å·åé¢çš„å†…å®¹      )+      (        (?&#39;-Open&#39;&gt;) #å³æ‹¬å·ï¼Œå¼¹å‡ºä¸€ä¸ª&quot;Open&quot;        [^&lt;&gt;]*      #å³æ‹¬å·åé¢çš„å†…å®¹      )+  )*  (?(Open)(?!))     #æœ€å¤–å±‚çš„å³æ‹¬å·å‰æ£€æŸ¥                    #è‹¥è¿˜æœ‰æœªå¼¹å‡ºçš„&quot;Open&quot;                    #åˆ™åŒ¹é…å¤±è´¥&gt;                #æœ€å¤–å±‚çš„å³æ‹¬å·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¹³è¡¡ç»„çš„ä¸€ä¸ªæœ€å¸¸è§çš„åº”ç”¨å°±æ˜¯åŒ¹é…HTML,ä¸‹é¢è¿™ä¸ªä¾‹å­å¯ä»¥åŒ¹é…åµŒå¥—çš„<code>&lt;div&gt;</code>æ ‡ç­¾ï¼š</p><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div[^</span><span class="token punctuation">></span></span>]\*>[^&lt;>]\*(((?'Open'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div[^</span><span class="token punctuation">></span></span>]\*>)[^&lt;>]\*)+((?'-Open'<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>)[^&lt;>]\*)+)\*(?(Open)(?!))<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="è¿˜æœ‰äº›ä»€ä¹ˆä¸œè¥¿æ²¡æåˆ°">è¿˜æœ‰äº›ä»€ä¹ˆä¸œè¥¿æ²¡æåˆ°</h3><p>ä¸Šè¾¹å·²ç»æè¿°äº†æ„é€ æ­£åˆ™è¡¨è¾¾å¼çš„å¤§é‡å…ƒç´ ï¼Œä½†æ˜¯è¿˜æœ‰å¾ˆå¤šæ²¡æœ‰æåˆ°çš„ä¸œè¥¿ã€‚ä¸‹é¢æ˜¯ä¸€äº›æœªæåˆ°çš„å…ƒç´ çš„åˆ—è¡¨ï¼ŒåŒ…å«è¯­æ³•å’Œç®€å•çš„è¯´æ˜ã€‚ä½ å¯ä»¥åœ¨ç½‘ä¸Šæ‰¾åˆ°æ›´è¯¦ç»†çš„å‚è€ƒèµ„æ–™æ¥å­¦ä¹ å®ƒä»¬â€“å½“ä½ éœ€è¦ç”¨åˆ°å®ƒä»¬çš„æ—¶å€™ã€‚å¦‚æœä½ å®‰è£…äº†MSDN Library,ä½ ä¹Ÿå¯ä»¥åœ¨é‡Œé¢æ‰¾åˆ°.Netä¸‹æ­£åˆ™è¡¨è¾¾å¼è¯¦ç»†çš„æ–‡æ¡£ã€‚è¿™é‡Œçš„ä»‹ç»å¾ˆç®€ç•¥ï¼Œå¦‚æœä½ éœ€è¦æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè€Œåˆæ²¡æœ‰åœ¨ç”µè„‘ä¸Šå®‰è£…MSDN Library,å¯ä»¥æŸ¥çœ‹<a href="http://msdn.microsoft.com/zh-cn/library/az24scfc.aspx">å…³äºæ­£åˆ™è¡¨è¾¾å¼è¯­è¨€å…ƒç´ çš„MSDNåœ¨çº¿æ–‡æ¡£</a>ã€‚</p><p>è¡¨7.å°šæœªè¯¦ç»†è®¨è®ºçš„è¯­æ³•</p><table><thead><tr><th>ä»£ç /è¯­æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>\a</td><td>æŠ¥è­¦å­—ç¬¦(æ‰“å°å®ƒçš„æ•ˆæœæ˜¯ç”µè„‘å˜€ä¸€å£°)</td></tr><tr><td>\b</td><td>é€šå¸¸æ˜¯å•è¯åˆ†ç•Œä½ç½®ï¼Œä½†å¦‚æœåœ¨å­—ç¬¦ç±»é‡Œä½¿ç”¨ä»£è¡¨é€€æ ¼</td></tr><tr><td>\t</td><td>åˆ¶è¡¨ç¬¦ï¼ŒTab</td></tr><tr><td>\r</td><td>å›è½¦</td></tr><tr><td>\v</td><td>ç«–å‘åˆ¶è¡¨ç¬¦</td></tr><tr><td>\f</td><td>æ¢é¡µç¬¦</td></tr><tr><td>\n</td><td>æ¢è¡Œç¬¦</td></tr><tr><td>\e</td><td>Escape</td></tr><tr><td>\0nn</td><td>ASCIIä»£ç ä¸­å…«è¿›åˆ¶ä»£ç ä¸ºnnçš„å­—ç¬¦</td></tr><tr><td>\xnn</td><td>ASCIIä»£ç ä¸­åå…­è¿›åˆ¶ä»£ç ä¸ºnnçš„å­—ç¬¦</td></tr><tr><td>\unnnn</td><td>Unicodeä»£ç ä¸­åå…­è¿›åˆ¶ä»£ç ä¸ºnnnnçš„å­—ç¬¦</td></tr><tr><td>\cN</td><td>ASCIIæ§åˆ¶å­—ç¬¦ã€‚æ¯”å¦‚\cCä»£è¡¨Ctrl+C</td></tr><tr><td>\A</td><td>å­—ç¬¦ä¸²å¼€å¤´(ç±»ä¼¼^ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“)</td></tr><tr><td>\Z</td><td>å­—ç¬¦ä¸²ç»“å°¾æˆ–è¡Œå°¾(ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“)</td></tr><tr><td>\z</td><td>å­—ç¬¦ä¸²ç»“å°¾(ç±»ä¼¼$ï¼Œä½†ä¸å—å¤„ç†å¤šè¡Œé€‰é¡¹çš„å½±å“)</td></tr><tr><td>\G</td><td>å½“å‰æœç´¢çš„å¼€å¤´</td></tr><tr><td>\p{name}</td><td>Unicodeä¸­å‘½åä¸ºnameçš„å­—ç¬¦ç±»ï¼Œä¾‹å¦‚\p{IsGreek}</td></tr><tr><td>(?&gt;exp)</td><td>è´ªå©ªå­è¡¨è¾¾å¼</td></tr><tr><td>(?<x>-<y>exp)</td><td>å¹³è¡¡ç»„</td></tr><tr><td>(?im-nsx:exp)</td><td>åœ¨å­è¡¨è¾¾å¼expä¸­æ”¹å˜å¤„ç†é€‰é¡¹</td></tr><tr><td>(?im-nsx)</td><td>ä¸ºè¡¨è¾¾å¼åé¢çš„éƒ¨åˆ†æ”¹å˜å¤„ç†é€‰é¡¹</td></tr><tr><td>(?(exp)yes|no)</td><td>æŠŠexpå½“ä½œé›¶å®½æ­£å‘å…ˆè¡Œæ–­è¨€ï¼Œå¦‚æœåœ¨è¿™ä¸ªä½ç½®èƒ½åŒ¹é…ï¼Œä½¿ç”¨yesä½œä¸ºæ­¤ç»„çš„è¡¨è¾¾å¼ï¼›å¦åˆ™ä½¿ç”¨no</td></tr><tr><td>(?(exp)yes)</td><td>åŒä¸Šï¼Œåªæ˜¯ä½¿ç”¨ç©ºè¡¨è¾¾å¼ä½œä¸ºno</td></tr><tr><td>(?(name)yes|no)</td><td>å¦‚æœå‘½åä¸ºnameçš„ç»„æ•è·åˆ°äº†å†…å®¹ï¼Œä½¿ç”¨yesä½œä¸ºè¡¨è¾¾å¼ï¼›å¦åˆ™ä½¿ç”¨no</td></tr><tr><td>(?(name)yes)</td><td>åŒä¸Šï¼Œåªæ˜¯ä½¿ç”¨ç©ºè¡¨è¾¾å¼ä½œä¸ºno</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹  </category>
          
          <category> æ­£åˆ™ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo deploy æ—¶å…è¾“ç”¨æˆ·åå¯†ç </title>
      <link href="/25890/"/>
      <url>/25890/</url>
      
        <content type="html"><![CDATA[<h3 id="é¦–å…ˆå…³äºHexo-admin">é¦–å…ˆå…³äºHexo-admin</h3><p>ä½¿ç”¨äº†ä¸€ä½å¤§ä½¬ä¿®æ”¹åçš„<a href="https://blog.csdn.net/nineya_com/article/details/103384546">Hexo-admin</a>ï¼Œè§£å†³äº†windowsç³»ç»Ÿæ’å…¥å›¾ç‰‡å¤±è´¥é—®é¢˜è§£å†³ï¼Œé€šè¿‡ä¿®æ”¹æºç å®Œç¾è§£å†³ï¼Œhexo-adminæ±‰åŒ–ï¼Œä»¥åŠæ·»åŠ æŒ‰æ–‡ç« å­˜å‚¨å›¾ç‰‡åŠŸèƒ½ï¼ˆæ–¹ä¾¿ç®¡ç†ï¼‰</p><h3 id="å›å½’æ­£é¢˜">å›å½’æ­£é¢˜</h3><ul><li>è®¾ç½® SSH ä½¿ç”¨ hexo deploy æ—¶å…è¾“ç”¨æˆ·åå¯†ç </li></ul><h4 id="ç”Ÿæˆ-SSH-å¯†é’¥">ç”Ÿæˆ SSH å¯†é’¥</h4><p>å³é”®é¼ æ ‡ä»»æ„ä½ç½®æ‰“å¼€ <strong>Git Bash Here</strong>ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><pre class="line-numbers language-none"><code class="language-none">cd ~&#x2F;.ssh<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>ä½¿ç”¨ <strong>ssh-keygen</strong> ç”Ÿæˆå¯†é’¥</p><pre class="line-numbers language-none"><code class="language-none">ssh-keygen -t rsa -C &quot;your_email@example.com&quot;Generating public&#x2F;private rsa key pair.Enter file in which to save the key (&#x2F;home&#x2F;you&#x2F;.ssh&#x2F;id_rsa):<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä½¿ç”¨é»˜è®¤çš„æ–‡ä»¶åç›´æ¥enterï¼Œæ¥ä¸‹æ¥æ˜¾ç¤ºå¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">Enter passphrase (empty for no passphrase): [Type a passphrase]Enter same passphrase again: [Type passphrase again]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p><em>æŒ‰æç¤ºè¾“å…¥å¯†ç å³å¯ï¼ˆç®€åŒ–æµç¨‹çš„è¯åœ¨é”®å…¥å‘½ä»¤ ssh-keygen -t rsa -C â€œ<a href="mailto:your_email@example.com">your_email@example.com</a>â€œ ä»¥åçš„ä¸‰æ¬¡æç¤ºè¾“å…¥éƒ½å¯ä»¥ç›´æ¥å›è½¦è·³è¿‡ï¼‰ã€‚</em></p><p><strong>å¯†é’¥ç”ŸæˆæˆåŠŸ</strong></p><pre class="line-numbers language-none"><code class="language-none">Your identification has been saved in &#x2F;home&#x2F;you&#x2F;.ssh&#x2F;id_rsa.Your public key has been saved in &#x2F;home&#x2F;you&#x2F;.ssh&#x2F;id_rsa.pub.The key fingerprint is:â€¦â€¦â€¦â€¦â€¦â€¦â€¦æ­¤å¤„æ˜¯å¯†é’¥å†…å®¹â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦ your_email@example.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è®¾ç½®-Github-é¡¹ç›®çš„-Deploy-keys">è®¾ç½® Github é¡¹ç›®çš„ Deploy keys</h4><p>ä»¥æˆ‘çš„åšå®¢ä¸ºä¾‹ï¼Œåœ¨ <a href="http://izyq.github.io">izyq.github.io</a> çš„é¦–é¡µèœå•æ ä¸­ç‚¹å‡» Settings â€“&gt; Deploy keys â€“&gt; Add deploy keyï¼Œç„¶åå°†ç”Ÿæˆçš„ id_rsa.pub ä¸­çš„å†…å®¹å…¨é€‰å¤åˆ¶åˆ° key è¾“å…¥æ¡†ä¸­ï¼Œç„¶åç‚¹å‡» Add key å®Œæˆæ·»åŠ å…¬é’¥ã€‚</p><p>æ¥ä¸‹æ¥æµ‹è¯•é…ç½®æ˜¯å¦æˆåŠŸ</p><pre class="line-numbers language-none"><code class="language-none">$ ssh -T git@github.com<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‡ºç°ä»¥ä¸‹å†…å®¹å³è¡¨ç¤ºé…ç½®å®Œæˆå¹¶ä¸”æˆåŠŸ</p><pre class="line-numbers language-none"><code class="language-none">Hi username! You&#39;ve successfully authenticated, but GitHub does notprovide shell access.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ä¿®æ”¹hexoæ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶">ä¿®æ”¹hexoæ ¹ç›®å½•çš„é…ç½®æ–‡ä»¶</h4><p>ä¿®æ”¹_config.yml ä¸­çš„deployå±æ€§ï¼Œå°†repoæ”¹ä¸º<br><strong><a href="mailto:git@github.com">git@github.com</a>:USERNAME/REPOSITORY.git</strong><br>å¦‚ä¸‹</p><pre class="line-numbers language-none"><code class="language-none">deploy:  type: git  repo: git@github.com:izyq&#x2F;izyq.github.io.git  branch: master<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>è¿™ä¸ªæ—¶å€™å†å°è¯•äº† <code>$ hexo deploy</code> å°±æˆåŠŸäº†ï¼Œå°±ä¸ç”¨è€æ˜¯è¾“å…¥å¯†ç äº†ï¼</p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>P775TMåˆ·BIOS EC</title>
      <link href="/58477/"/>
      <url>/58477/</url>
      
        <content type="html"><![CDATA[<h2 id="å†™åœ¨å‰é¢">å†™åœ¨å‰é¢</h2><blockquote><p>æœ€è¿‘æ‰“ç®—æ¢9ä»£Uäº†ï¼Œæ˜¯æ—¶å€™å‡çº§ä¸€ä¸‹BIOSäº†ï¼Œåæ­£åœ¨å¯å®¤éš”ç¦»æå®ŒåŠå¤©å­¦ä¹ æƒ³ä¼‘æ¯ä¸€ä¸‹ï¼Œä¹Ÿæ²¡äº‹åšï¼Œå¼€å§‹æŠ˜è…¾èµ·æ¥å“ˆå“ˆ<br>è¿™æ¬¡æ—¶æƒ³æŠŠI58400å‡çº§ä¸ºi9-9900es <em>ï¼ˆå› ä¸ºç©·ï¼‰</em>.<br><code>åœ¨då¤§çš„åŒ…é‡Œæä¾›ä¸¤ç§åˆ·å…¥æ–¹æ³•ï¼Œä¸€ç§æ˜¯dosï¼Œä¸€ç§æ˜¯winï¼Œwinè¿™è¾¹æˆ‘æ‰“å¼€é‚£ä¸ªè½¯ä»¶ç¬¬ä¸€æ­¥å°±ä¸è¡Œï¼Œæ‰€ä»¥åªèƒ½å°è¯•ç¬¬äºŒç§æ–¹æ³•ï¼ŒDosæ¨¡å¼åˆ·å…¥ï¼Œå½“ç„¶è¿™ç§æ–¹æ³•ä¹Ÿæ›´ç¨³å®šï¼Œä¹Ÿæ˜¯då¤§æ›´æ¨èçš„æ–¹æ³•</code></p></blockquote><p>ä½œè€…æç¤ºï¼š_ç‚¹æˆ‘ä¸€é”®åˆ·é»‘.batæˆ–_ç°åœ¨å°±åˆ·é»‘.batæ‰§è¡Œä¹‹åå¦‚æœå‡ºç°çº¢å­—è¯´æ˜ä½ çš„_è¯´æ˜æ²¡è¯»5éæ²¡èµ„æ ¼ç‚¹.exeæ‰§è¡Œå¤±è´¥äº†ï¼Œè¯·å¤šæ¬¡å°è¯•ï¼Œå¦‚æœå¤šæ¬¡å°è¯•å‡å¤±è´¥è¯´æ˜ä½ è¿™ä¸ªæœºå™¨ä¸å…¼å®¹ï¼Œè¯·å‚è€ƒä¸Šé¢çš„æƒ…å†µäºŒã€‚<br>_ç‚¹æˆ‘ä¸€é”®åˆ·é»‘.batæ‰§è¡Œä¹‹åå¦‚æœå‡ºç°çº¢å­—é‚£ä¹ˆä½ æ‰§è¡Œ_ç°åœ¨å°±åˆ·é»‘.batä¹Ÿä¼šå‡ºç°çº¢å­—ï¼Œè¿™æ˜¯æ­£å¸¸çš„ï¼çº¢å­—å°±æ˜¯åˆ·ä¸äº†ï¼Œå¤±è´¥äº†ï¼Œè¯·å‚è€ƒä¸Šé¢çš„æƒ…å†µäºŒã€‚<br>å¦‚æœæ‰§è¡Œ_ç‚¹æˆ‘ä¸€é”®åˆ·é»‘.batæˆ–_ç°åœ¨å°±åˆ·é»‘.batä¹‹åï¼Œèµ°è¿›åº¦ç™¾åˆ†æ¯”ä¹‹åå‡ºç°çº¢å­—æŠ¥é”™ï¼Œä¸€å®šä¸è¦å…³æœºï¼ä¸€å®šä¸è¦å…³æœºï¼ä¸€å®šä¸è¦å…³æœºï¼è¯·é‡æ–°æ‰§è¡Œä¸€æ¬¡ï¼Œä¸€æ¬¡ä¸è¡Œå°±ä¸¤æ¬¡ï¼Œä¸¤æ¬¡ä¸è¡Œå°±ä¸‰æ¬¡ï¼Œç›´åˆ°æç¤ºç»¿å­—æ“ä½œæˆåŠŸï¼<br>è¿™ç§æƒ…å†µè´¸ç„¶å…³æœºæˆ–é‡å¯ä¸€å®šä¼šé»‘ï¼è¿™ç§æƒ…å†µè´¸ç„¶å…³æœºæˆ–é‡å¯ä¸€å®šä¼šé»‘ï¼è¿™ç§æƒ…å†µè´¸ç„¶å…³æœºæˆ–é‡å¯ä¸€å®šä¼šé»‘ï¼<br>æç¤ºé»„å­—â€œGbE Region does not exist.â€æ˜¯æ­£å¸¸çš„ï¼Œå› ä¸ºå‡†ç³»ç»Ÿçš„BIOSæœ¬æ¥å°±æ²¡æœ‰â€œGbE Regionâ€ï¼Œå¿½ç•¥å³å¯ï¼</p><h3 id="å‡†å¤‡">å‡†å¤‡</h3><ul><li><p>é¦–å…ˆæŠŠå®‰å…¨è½¯ä»¶å¸äº†ï¼Œé˜²æ­¢æ£ä¹±</p></li><li><p>å¦‚æœä½ ç”¨çš„æ˜¯Win8/8.1/10çš„æ“ä½œç³»ç»Ÿï¼Œè¯·ç¦ç”¨ä¼‘çœ ï¼ç¦ç”¨ä¼‘çœ ï¼ç®¡ç†å‘˜èº«ä»½å‘½ä»¤è¡Œæ‰§è¡Œâ€œ<code>powercfg -h off</code>â€</p></li><li><p>å°†Uç›˜æˆ–è€…ç§»åŠ¨ç¡¬ç›˜æ ¼å¼åŒ–ä¸ºFAT32ï¼ˆåªèƒ½æ˜¯FAT32è€Œä¸”åªèƒ½æœ‰ä¸€ä¸ªåˆ†åŒºï¼‰ï¼ŒæŠŠEFIæ–‡ä»¶å¤¹å¤åˆ¶åˆ°Uç›˜æ ¹ç›®å½•ï¼æ ¹ç›®å½•ï¼æ ¹ç›®å½•ï¼ç¡®ä¿Uç›˜æ‰“å¼€å°±èƒ½çœ‹åˆ°EFIæ–‡ä»¶å¤¹ï¼</p></li><li><p>ç„¶åæŠŠä½ è¦åˆ·çš„BIOSæ–‡ä»¶æ”¹åä¸ºBIOS.BINï¼ˆæ³¨æ„æ‰©å±•åä¹Ÿè¦æ”¹ï¼ŒåŸæ¥æ˜¯ROMï¼Œç°åœ¨æ”¹æˆBINï¼‰ï¼Œæ”¾å…¥EFI/BOOTæ–‡ä»¶å¤¹å†…ã€‚</p></li><li><p>é‡å¯æŒ‰F2è¿›å…¥BIOSï¼Œå¯»æ‰¾ä¸‹åˆ—é€‰é¡¹å¹¶ä¿®æ”¹</p><ul><li>BIOSä¸»ç•Œé¢-&gt;é¡¶éƒ¨çš„Boot-&gt;UEFI Settings-&gt;UEFI Boot-&gt;Enabled</li><li>BIOSä¸»ç•Œé¢-&gt;é¡¶éƒ¨çš„Security-&gt;Secure Boot-&gt;Disabled</li></ul></li><li><p>ä¿®æ”¹å¥½ä¹‹åï¼Œæ’å…¥Uç›˜ï¼Œè“å¤©æœºå‹æŒ‰F4ï¼Œå›è½¦ä¿å­˜ï¼Œè¿™é‡Œä¼šè‡ªåŠ¨é‡å¯ï¼Œæˆ‘ä»¬éœ€è¦å†æ¬¡è¿›å…¥BIOSï¼ŒæŒ‰F7è¿›å…¥å¯åŠ¨è®¾å¤‡çš„èœå•ï¼Œé€‰ä¸­åæŒ‰å›è½¦ä»ä½ çš„Uç›˜å¯åŠ¨ï¼Œè¿›å…¥ EFI Shell å‘½ä»¤è¡Œï¼Œæç¤ºç¬¦é—ªçƒå°±è¯æ˜å‡†å¤‡å·¥ä½œåšå®Œäº†ã€‚</p><h3 id="å¼€åˆ·">å¼€åˆ·</h3></li><li><p>1.è¾“å…¥Gå›è½¦</p></li></ul><blockquote><p><strong>æ³¨æ„:</strong> è¾“å…¥Gå›è½¦ä¹‹åä¼šè‡ªåŠ¨é‡å¯ï¼Œå¦‚æœæ²¡æœ‰è‡ªåŠ¨é‡å¯è¯´æ˜ä½ è¿™ä¸ªæœºå™¨ä¸å…¼å®¹ã€‚<br>è¿™æ¬¡é‡å¯é»‘å±çš„æ—¶é—´ä¼šæ¯”è¾ƒé•¿ï¼Œ<code>æˆ‘å¤§çº¦ç­‰äº†15sçš„æ ·å­</code>è¿™æ—¶å€™é£æ‰‡å¯èƒ½ä¼šæ»¡é€Ÿè¿è½¬ï¼Œç®—æ˜¯è¿›å…¥å¼ºå†·æ¨¡å¼äº†ã€‚<br>è¿™æ˜¯æ­£å¸¸çš„ï¼æ— éœ€åœ¨æ„ï¼Œæ“ä½œå®Œæˆåå°±ä¼šæ¢å¤ï¼Œå¦‚æœå®³æ€•ä½ å¯ä»¥é‡å¯å®ƒä¹Ÿä¼šè‡ªå·±æ¢å¤ã€‚<br>åªè¦ä¸æ˜¯å‘½ä»¤æ‰§è¡Œæ—¶çš„å¼ºåˆ¶é‡å¯ï¼Œéƒ½æ²¡æœ‰ä»»ä½•å±é™©æ€§ï¼</p></blockquote><ul><li>ç»§ç»­æŒ‰F7ï¼ˆè“å¤©ï¼‰ï¼Œé€‰æ‹©Uç›˜å¯åŠ¨ï¼Œå†æ¥è¿›å…¥ä¸‹ä¸€æ­¥æ“ä½œ</li><li>2.å¤‡ä»½<br>Aå›è½¦Cå›è½¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/bio/pasted-1.png" alt="" loading="lazy"></p><ul><li>3.åˆ·å…¥<br>Då›è½¦Få›è½¦</li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/bio/pasted-2.png" alt="" loading="lazy"></p><p>çœ‹åˆ°successfelå°±è¯´æ˜åˆ·å…¥æˆåŠŸäº†<br>æ¥ç€æŒ‰Få›è½¦ï¼Œæ‰§è¡Œç¬¬å››æ­¥</p><ul><li>4.ç›´æ¥æ‹”æ‰ACç”µæºç»™æœºå™¨æ–­ç”µï¼ˆè¿™æ­¥å¾ˆé‡è¦ï¼Œå¦‚æœä¸ç…§åš99%çš„äººä¼šåˆ·é»‘ï¼‰<br>ç„¶åè£…å›ç¡¬ç›˜ã€ç”µæ± ã€æ’å›ACç”µæºå¼€æœºï¼Œè‡³æ­¤å®Œæˆåˆ·å†™è¿‡ç¨‹</li></ul><p><img src="https://cdn.jsdelivr.net/gh/izyq/izyq.github.io@master/2021/01/23/bio/pasted-3.png" alt="" loading="lazy"></p>]]></content>
      
      
      <categories>
          
          <category> æŠ˜è…¾ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BIOS </tag>
            
            <tag> P775TM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CUPNoticeéƒ¨ç½²åˆ°Linuxä¸Š</title>
      <link href="/9039/"/>
      <url>/9039/</url>
      
        <content type="html"><![CDATA[<h2 id="å®‰è£…Python3-7-å¹¶è§£å†³sslé—®é¢˜">å®‰è£…Python3.7 å¹¶è§£å†³sslé—®é¢˜</h2><h3 id="å®‰è£…Python">å®‰è£…Python</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">yum <span class="token function">install</span> <span class="token parameter variable">-y</span> zlib zlib-dev openssl-devel sqlite-devel bzip2-devel libffi libffi-devel gcc gcc-c++<span class="token function">wget</span> http://www.openssl.org/source/openssl-1.1.1.tar.gz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> openssl-1.1.1.tar.gz<span class="token builtin class-name">cd</span> openssl-1.1.1./config <span class="token parameter variable">--prefix</span><span class="token operator">=</span><span class="token environment constant">$HOME</span>/openssl shared zlib<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span><span class="token builtin class-name">echo</span> <span class="token string">"export LD_LIBRARY_PATH=<span class="token variable">$LD_LIBRARY_PATH</span>:<span class="token environment constant">$HOME</span>/openssl/lib"</span> <span class="token operator">>></span> <span class="token environment constant">$HOME</span>/.bash_profile<span class="token builtin class-name">source</span> <span class="token environment constant">$HOME</span>/.bash_profileyum <span class="token function">install</span> zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc <span class="token function">make</span> libffi-devel <span class="token parameter variable">-y</span>yum <span class="token function">install</span> python-pip <span class="token parameter variable">-y</span><span class="token function">wget</span> https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz<span class="token function">tar</span> <span class="token parameter variable">-zxvf</span> Python-3.7.0.tgz./configure <span class="token assign-left variable">prefix</span><span class="token operator">=</span>/usr/local/python3  --with-openssl<span class="token operator">=</span><span class="token environment constant">$HOME</span>/openssl<span class="token function">make</span> <span class="token operator">&amp;&amp;</span> <span class="token function">make</span> <span class="token function">install</span><span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/python3/bin/python3.7 /usr/bin/python3.7 <span class="token function">ln</span> <span class="token parameter variable">-s</span> /usr/local/python3/bin/pip3.7 /usr/bin/pip3.7<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="1-å®‰è£…openssl">1.å®‰è£…openssl</h3><p>é¦–å…ˆè¦å®‰è£…opensslï¼Œå› ä¸ºpython3éœ€è¦å¼•ç”¨opensslæ¨¡å—ï¼Œä½†æ˜¯centoséœ€è¦çš„opensslç‰ˆæœ¬æœ€ä½ä¸º1.0.2ï¼Œä½†æ˜¯centos é»˜è®¤çš„ä¸º1.0.1ï¼Œæ‰€ä»¥éœ€è¦é‡æ–°æ›´æ–°openssl</p><hr><h3 id="2-æµ‹è¯•httpsæ˜¯å¦å¯ç”¨">2.æµ‹è¯•httpsæ˜¯å¦å¯ç”¨</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> urllib<span class="token punctuation">.</span>requesturl <span class="token operator">=</span> <span class="token string">'https://www.baidu.com'</span>b <span class="token operator">=</span> urllib<span class="token punctuation">.</span>request<span class="token punctuation">.</span>urlopen<span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token keyword">print</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æŠ¥é”™</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">urllib.error.URLError: <span class="token operator">&lt;</span>urlopen error <span class="token punctuation">[</span>SSL: CERTIFICATE_VERIFY_FAILED<span class="token punctuation">]</span> certificate verify failed <span class="token punctuation">(</span>_ssl.c:833<span class="token punctuation">)</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h5><p>å…¨å±€å–æ¶ˆè¯ä¹¦éªŒè¯</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">import</span> sslssl._create_default_https_context <span class="token operator">=</span> ssl._create_unverified_context<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="3-å®‰è£…ä¾èµ–">3.å®‰è£…ä¾èµ–</h3><p>å®‰è£…requirements.txtä¾èµ–ï¼špip install -r requirements.txt</p><p>é—®é¢˜ï¼šcenosè‡ªå¸¦python2ï¼Œå¦‚ç”µè„‘ä¸ŠåŒæ—¶è£…äº†python2(2.7)å’Œpython3(3.7)ï¼Œå½“ä½¿ç”¨pipå®‰è£…æ—¶é»˜è®¤åº”å®‰è£…åˆ°python2ä¸­ï¼Œpip3å®‰è£…æ—¶åº”å®‰è£…åˆ°python3ä¸­ï¼Œä½†å¥‡æ€ªçš„æ˜¯ä½¿ç”¨pipå®‰è£…æ—¶æ¯æ¬¡éƒ½å®šä½åˆ°python3ä¸­ï¼Œä¸çŸ¥æ˜¯å•¥åŸå› ï¼Œä¹Ÿä¸çŸ¥å¦‚ä½•å°†å…¶é‡å®šå‘åˆ°python2ä¸­ï¼Œç´¢æ€§æ‰‹åŠ¨æŒ‡å®špipåˆ°python2ä¸­<br>æŸ¥çœ‹pipç‰ˆæœ¬</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token parameter variable">-V</span> pip <span class="token number">18.0</span> from /usr/local/lib/python3.5/dist-packages/pip <span class="token punctuation">(</span>python <span class="token number">3.5</span><span class="token punctuation">)</span>pip2 <span class="token parameter variable">-V</span> pip <span class="token number">8.1</span>.1 from /usr/lib/python2.7/dist-packages <span class="token punctuation">(</span>python <span class="token number">2.7</span><span class="token punctuation">)</span>pip3 <span class="token parameter variable">-V</span> pip <span class="token number">18.0</span> from /usr/local/lib/python3.5/dist-packages/pip <span class="token punctuation">(</span>python <span class="token number">3.5</span><span class="token punctuation">)</span>è§£å†³æ–¹æ³•pipæŒ‡å®špythonç‰ˆæœ¬å®‰è£…å®‰è£…åˆ°python2.7ç‰ˆæœ¬ä¸­ï¼šsudo pip2 <span class="token function">install</span> æ¨¡å—å æˆ– python2 <span class="token parameter variable">-m</span> pip <span class="token function">install</span> æ¨¡å—åå®‰è£…åˆ°python3.5ç‰ˆæœ¬ä¸­ï¼šsudo pip3 <span class="token function">install</span> æ¨¡å—å æˆ– python3.5 <span class="token parameter variable">-m</span> pip <span class="token function">install</span> æ¨¡å—å<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-linux-ä¸­åå°è¿è¡Œpythonè„šæœ¬">4.linux ä¸­åå°è¿è¡Œpythonè„šæœ¬</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">nohup</span> python yourscript.py <span class="token operator">&amp;</span>å¯ä»¥è®©ä½ çš„ç¨‹åºåœ¨åå°è¿è¡Œï¼Œæ§åˆ¶å°è¾“å‡ºå¯¼å‘nohup.outæ–‡ä»¶ä½¿ç”¨nobupå‘½ä»¤ ç»“å°¾å¤„åŠ ä¸€ä¸ª<span class="token operator">&amp;</span> ç¬¦å·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="2ã€å…³é—­å‘½ä»¤">2ã€å…³é—­å‘½ä»¤</h5><h6 id="1ã€æŸ¥çœ‹è¿›ç¨‹">1ã€æŸ¥çœ‹è¿›ç¨‹</h6><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">    <span class="token comment"># ps -ef|grep python</span>    æˆ–è€…    <span class="token comment"># ps -ef|grep Job</span><span class="token number">2</span>ã€å…³é—­è¿›ç¨‹    <span class="token comment"># kill -9 19913</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="3ã€æ£€æŸ¥">3ã€æ£€æŸ¥</h5><p>ç”¨1ä¸­æŸ¥çœ‹è¿›ç¨‹çš„å‘½ä»¤ï¼Œæ£€æŸ¥æˆ–ç¡®è®¤è¿›ç¨‹æ˜¯å¦çœŸæ­£è¢«å…³é—­ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
          <category> Project </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
